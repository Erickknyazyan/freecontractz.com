/*!
 * jQuery JavaScript Library v3.7.0
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-05-11T18:29Z
 */
function editorInit(){$(".editor").trumbowyg()}function imagesDelete(){$(".image-preview .delete").on("click",function(){$(this).parent().remove()})}function showAdvanced(){$(".show-advanced").on("click",function(){$(".advanced-content").toggle()})}function holmesInit(){var t=document.querySelector("#search-template");if(document.body.contains(t))holmes({input:"#search-template",find:".template-item",placeholder:"<h3>No results...</h3>",mark:!1,hiddenAttr:!0,"class":{visible:"visible",hidden:"hidden"}})}function signaturePad(){var t=document.getElementById("canvas_signature"),e=document.getElementById("reset_btn");if(document.body.contains(t)){function n(){var e=Math.max(window.devicePixelRatio||1,1);t.width=t.offsetWidth*e,t.height=t.offsetHeight*e,t.getContext("2d").scale(e,e),r.clear()}window.addEventListener("resize",n);var i,r=new SignaturePad(t,{backgroundColor:"rgba(255, 255, 255, 100)"});r.onEnd=new SignaturePadSmooth(r,{takePointsEvery:3,thresholdSmooth:20}),n(),e.addEventListener("click",function(){r.clear()},!1),$(".color-controls input").on("change",function(){var t=$(this).val();r.penColor=t;var e=r.toData();jQuery.each(e,function(n){setPenColor(e[n],t)}),r.clear(),r.fromData(e)}),$(".range-slider").slider(),$(".range-slider").on("change",function(){r.onEnd=new SignaturePadSmooth(r,{takePointsEvery:$(this).val(),thresholdSmooth:20})}),$(".signature-transparent input").on("change",function(){var e=r.toData();$(".signature-transparent input").is(":checked")?r.backgroundColor="rgba(255, 255, 255, 0)":r.backgroundColor="rgba(255, 255, 255, 100)",r.clear(),r.fromData(e),i=t.toDataURL("image/png"),$(".signature-preview").css("background-image","url("+i+")")}),$("#signature-save").on("click",function(){r.isEmpty()||(i=t.toDataURL("image/png"),$(".signature-preview").css("background-image","url("+i+")"),$("#preview-modal").modal("show"))}),$("#signature-preview-close").on("click",function(){$("#preview-modal").modal("hide")})}}function setPenColor(t,e){return jQuery.each(t,function(t,n){jQuery.each(n,function(t){"color"==t&&(n[t]=e)})}),t}function colorPicker(){$("#colorpicker").spectrum({showButtons:!1,color:"#51b7c5",replacerClassName:"color-item",preferredFormat:"hex"}),$("#colorpicker").on("beforeShow.spectrum",function(){$(this).click()})}function bom(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}function download(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){saveAs(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function corsEnabled(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(n){}return e.status>=200&&e.status<=299}function click(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}function createTypedSignature(){function t(){var t=$("#type-signature").val();if(""==t)return!1;$(".created-signature").attr("data-text",t),$("#create-typed-signature").text("Update"),$(".created-signatures").fadeIn("300",function(){$("#editor-modal").modal("hide")})}$("#create-typed-signature, #reset-typed-signature").on("click",function(){t()}),$("#type-signature").keypress(function(e){13==e.keyCode&&t()})}function loadMoreSignatures(){itemsSize=$(".created-signature").length,x=6,$(".created-signature:lt("+x+")").fadeIn("300"),$("#load-more-signatures").on("click",function(){x=x+6<=itemsSize?x+6:itemsSize,$(".created-signature:lt("+x+")").fadeIn("300"),x>=31&&$("#load-more-signatures").hide()})}function editSignature(){var t=document.querySelector(".typed-signature-editor canvas");if(document.body.contains(t)){var e=t.getContext("2d");$(".created-signature").on("click",function(){function n(){e.setTransform(1,0,-l,1,0,0),e.fillText(a,t.width/2+l*u,t.height/2,t.width-l*u)}function i(){e.clearRect(0,0,t.width,t.height)}function r(){$(".signature-transparent input").is(":checked")?e.clearRect(0,0,t.width,t.height):(e.fillStyle="rgba(255, 255, 255, 100)",e.fillRect(0,0,t.width,t.height))}var o,s=$(this).css("font-family"),a=$(".created-signature").attr("data-text"),l=0,u=60;$("#editor-modal").modal("show"),setTimeout(function(){$(".range-slider").slider()},300),i(),e.fillStyle="rgba(255, 255, 255, 100)",e.fillRect(0,0,t.width,t.height),e.fillStyle="#000000",e.textBaseline="middle",e.textAlign="center",e.font="48px "+s,n(),$(".color-controls input").on("change",function(){var i=$(this).val();e.clearRect(0,0,t.width,t.height),r(),e.fillStyle=i,n()}),$(".range-slider").on("change",function(){l=$(this).val(),i(),n()}),$(".signature-transparent input").on("change",function(){if($(".signature-transparent input").is(":checked")){e.clearRect(0,0,t.width,t.height);var i=$(".color-controls input:checked").val();e.fillStyle=i,n()}else{e.fillStyle="rgba(255, 255, 255, 100)",e.fillRect(0,0,t.width,t.height);i=$(".color-controls input:checked").val();e.fillStyle=i,n()}o=t.toDataURL("image/png"),$(".signature-preview").css("background-image","url("+o+")")}),$("#signature-save").on("click",function(){o=t.toDataURL("image/png"),$(".signature-preview").css("background-image","url("+o+")"),$("#preview-modal").modal("show")}),$("#signature-preview-close").on("click",function(){$("#preview-modal").modal("hide")}),$("#preview-modal").on("hidden.bs.modal",function(){$("body").addClass("modal-open")})})}}function saveImageDownload(){var t=document.getElementById("edit-typed-signature");if(!document.body.contains(t))t=document.getElementById("canvas_signature");var e=t.toDataURL("image/png");new Blob([e],{type:"image/png"});t.toBlob(function(t){saveAs(t,"signature.png")})}!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e,n){var i,r,o=(n=n||xt).createElement("script");if(o.text=t,e)for(i in wt)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function i(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?dt[ft.call(t)]||"object":typeof t}function r(t){var e=!!t&&"length"in t&&t.length,n=i(t);return!yt(t)&&!bt(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function o(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function s(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}function a(t,e,n){return yt(e)?Et.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?Et.grep(t,function(t){return t===e!==n}):"string"!=typeof e?Et.grep(t,function(t){return ht.call(e,t)>-1!==n}):Et.filter(e,t,n)}function l(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function u(t){var e={};return Et.each(t.match(Bt)||[],function(t,n){e[n]=!0}),e}function c(t){return t}function h(t){throw t}function d(t,e,n,i){var r;try{t&&yt(r=t.promise)?r.call(t).done(e).fail(n):t&&yt(r=t.then)?r.call(t,e,n):e.apply(undefined,[t].slice(i))}catch(t){n.apply(undefined,[t])}}function f(){xt.removeEventListener("DOMContentLoaded",f),t.removeEventListener("load",f),Et.ready()}function p(t,e){return e.toUpperCase()}function m(t){return t.replace(Wt,"ms-").replace(zt,p)}function g(){this.expando=Et.expando+g.uid++}function v(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Yt.test(t)?JSON.parse(t):t)}function y(t,e,n){var i;if(n===undefined&&1===t.nodeType)if(i="data-"+e.replace(Gt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=v(n)}catch(r){}Qt.set(t,e,n)}else n=undefined;return n}function b(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return Et.css(t,e,"")},l=a(),u=n&&n[3]||(Et.cssNumber[e]?"":"px"),c=t.nodeType&&(Et.cssNumber[e]||"px"!==u&&+l)&&Zt.exec(Et.css(t,e));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;s--;)Et.style(t,e,c+u),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),c/=o;c*=2,Et.style(t,e,c+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function x(t){var e,n=t.ownerDocument,i=t.nodeName,r=oe[i];return r||(e=n.body.appendChild(n.createElement(i)),r=Et.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),oe[i]=r,r)}function w(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=Kt.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&re(i)&&(r[o]=x(i))):"none"!==n&&(r[o]="none",Kt.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function k(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],e===undefined||e&&o(t,e)?Et.merge([t],n):n}function _(t,e){for(var n=0,i=t.length;n<i;n++)Kt.set(t[n],"globalEval",!e||Kt.get(e[n],"globalEval"))}function E(t,e,n,r,o){for(var s,a,l,u,c,h,d=e.createDocumentFragment(),f=[],p=0,m=t.length;p<m;p++)if((s=t[p])||0===s)if("object"===i(s))Et.merge(f,s.nodeType?[s]:s);else if(de.test(s)){for(a=a||d.appendChild(e.createElement("div")),l=(ue.exec(s)||["",""])[1].toLowerCase(),u=he[l]||he._default,a.innerHTML=u[1]+Et.htmlPrefilter(s)+u[2],h=u[0];h--;)a=a.lastChild;Et.merge(f,a.childNodes),(a=d.firstChild).textContent=""}else f.push(e.createTextNode(s));for(d.textContent="",p=0;s=f[p++];)if(r&&Et.inArray(s,r)>-1)o&&o.push(s);else if(c=ne(s),a=k(d.appendChild(s),"script"),c&&_(a),n)for(h=0;s=a[h++];)ce.test(s.type||"")&&n.push(s);return d}function T(){return!0}function C(){return!1}function S(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=undefined),e)S(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=undefined):null==r&&("string"==typeof n?(r=i,i=undefined):(r=i,i=n,n=undefined)),!1===r)r=C;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return Et().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=Et.guid++)),t.each(function(){Et.event.add(this,e,r,i,n)})}function A(t,e,n){n?(Kt.set(t,e,!1),Et.event.add(t,e,{namespace:!1,handler:function(t){var n,i=Kt.get(this,e);if(1&t.isTrigger&&this[e]){if(i)(Et.event.special[e]||{}).delegateType&&t.stopPropagation();else if(i=lt.call(arguments),Kt.set(this,e,i),this[e](),n=Kt.get(this,e),Kt.set(this,e,!1),i!==n)return t.stopImmediatePropagation(),t.preventDefault(),n}else i&&(Kt.set(this,e,Et.event.trigger(i[0],i.slice(1),this)),t.stopPropagation(),t.isImmediatePropagationStopped=T)}})):Kt.get(t,e)===undefined&&Et.event.add(t,e,T)}function L(t,e){return o(t,"table")&&o(11!==e.nodeType?e:e.firstChild,"tr")&&Et(t).children("tbody")[0]||t}function P(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function M(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function D(t,e){var n,i,r,o,s,a;if(1===e.nodeType){if(Kt.hasData(t)&&(a=Kt.get(t).events))for(r in Kt.remove(e,"handle events"),a)for(n=0,i=a[r].length;n<i;n++)Et.event.add(e,r,a[r][n]);Qt.hasData(t)&&(o=Qt.access(t),s=Et.extend({},o),Qt.set(e,s))}}function R(t,e){var n=e.nodeName.toLowerCase();"input"===n&&le.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function j(t,e,i,r){e=ut(e);var o,s,a,l,u,c,h=0,d=t.length,f=d-1,p=e[0],m=yt(p);if(m||d>1&&"string"==typeof p&&!vt.checkClone&&me.test(p))return t.each(function(n){var o=t.eq(n);m&&(e[0]=p.call(this,n,o.html())),j(o,e,i,r)});if(d&&(s=(o=E(e,t[0].ownerDocument,!1,t,r)).firstChild,1===o.childNodes.length&&(o=s),s||r)){for(l=(a=Et.map(k(o,"script"),P)).length;h<d;h++)u=o,h!==f&&(u=Et.clone(u,!0,!0),l&&Et.merge(a,k(u,"script"))),i.call(t[h],u,h);if(l)for(c=a[a.length-1].ownerDocument,Et.map(a,M),h=0;h<l;h++)u=a[h],ce.test(u.type||"")&&!Kt.access(u,"globalEval")&&Et.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?Et._evalUrl&&!u.noModule&&Et._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},c):n(u.textContent.replace(ge,""),u,c))}return t}function N(t,e,n){for(var i,r=e?Et.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||Et.cleanData(k(i)),i.parentNode&&(n&&ne(i)&&_(k(i,"script")),i.parentNode.removeChild(i));return t}function $(t,e,n){var i,r,o,s,a=ye.test(e),l=t.style;return(n=n||be(t))&&(s=n.getPropertyValue(e)||n[e],a&&s&&(s=s.replace(Lt,"$1")||undefined),""!==s||ne(t)||(s=Et.style(t,e)),!vt.pixelBoxStyles()&&ve.test(s)&&we.test(e)&&(i=l.width,r=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=n.width,l.width=i,l.minWidth=r,l.maxWidth=o)),s!==undefined?s+"":s}function q(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function H(t){for(var e=t[0].toUpperCase()+t.slice(1),n=ke.length;n--;)if((t=ke[n]+e)in _e)return t}function I(t){var e=Et.cssProps[t]||Ee[t];return e||(t in _e?t:Ee[t]=H(t)||t)}function O(t,e,n){var i=Zt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function B(t,e,n,i,r,o){var s="width"===e?1:0,a=0,l=0,u=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(u+=Et.css(t,n+te[s],!0,r)),i?("content"===n&&(l-=Et.css(t,"padding"+te[s],!0,r)),"margin"!==n&&(l-=Et.css(t,"border"+te[s]+"Width",!0,r))):(l+=Et.css(t,"padding"+te[s],!0,r),"padding"!==n?l+=Et.css(t,"border"+te[s]+"Width",!0,r):a+=Et.css(t,"border"+te[s]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-a-.5))||0),l+u}function F(t,e,n){var i=be(t),r=(!vt.boxSizingReliable()||n)&&"border-box"===Et.css(t,"boxSizing",!1,i),s=r,a=$(t,e,i),l="offset"+e[0].toUpperCase()+e.slice(1);if(ve.test(a)){if(!n)return a;a="auto"}return(!vt.boxSizingReliable()&&r||!vt.reliableTrDimensions()&&o(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===Et.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===Et.css(t,"boxSizing",!1,i),(s=l in t)&&(a=t[l])),(a=parseFloat(a)||0)+B(t,e,n||(r?"border":"content"),s,i,a)+"px"}function V(t,e,n,i,r){return new V.prototype.init(t,e,n,i,r)}function U(){Le&&(!1===xt.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(U):t.setTimeout(U,Et.fx.interval),Et.fx.tick())}function W(){return t.setTimeout(function(){Ae=undefined}),Ae=Date.now()}function z(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=te[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function X(t,e,n){for(var i,r=(Y.tweeners[e]||[]).concat(Y.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function K(t,e,n){var i,r,o,s,a,l,u,c,h="width"in e||"height"in e,d=this,f={},p=t.style,m=t.nodeType&&re(t),g=Kt.get(t,"fxshow");for(i in n.queue||(null==(s=Et._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,Et.queue(t,"fx").length||s.empty.fire()})})),e)if(r=e[i],Pe.test(r)){if(delete e[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||g[i]===undefined)continue;m=!0}f[i]=g&&g[i]||Et.style(t,i)}if((l=!Et.isEmptyObject(e))||!Et.isEmptyObject(f))for(i in h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=g&&g.display)&&(u=Kt.get(t,"display")),"none"===(c=Et.css(t,"display"))&&(u?c=u:(w([t],!0),u=t.style.display||u,c=Et.css(t,"display"),w([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===Et.css(t,"float")&&(l||(d.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,f)l||(g?"hidden"in g&&(m=g.hidden):g=Kt.access(t,"fxshow",{display:u}),o&&(g.hidden=!m),m&&w([t],!0),d.done(function(){for(i in m||w([t]),Kt.remove(t,"fxshow"),f)Et.style(t,i,f[i])})),l=X(m?g[i]:0,i,d),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}function Q(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=m(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=Et.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}function Y(t,e,n){var i,r,o=0,s=Y.prefilters.length,a=Et.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Ae||W(),n=Math.max(0,u.startTime+u.duration-e),i=1-(n/u.duration||0),o=0,s=u.tweens.length;o<s;o++)u.tweens[o].run(i);return a.notifyWith(t,[u,i,n]),i<1&&s?n:(s||a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:Et.extend({},e),opts:Et.extend(!0,{specialEasing:{},easing:Et.easing._default},n),originalProperties:e,originalOptions:n,startTime:Ae||W(),duration:n.duration,tweens:[],createTween:function(e,n){var i=Et.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(Q(c,u.opts.specialEasing);o<s;o++)if(i=Y.prefilters[o].call(u,t,c,u.opts))return yt(i.stop)&&(Et._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return Et.map(c,X,u),yt(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),Et.fx.timer(Et.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}function G(t){return(t.match(Bt)||[]).join(" ")}function J(t){return t.getAttribute&&t.getAttribute("class")||""}function Z(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(Bt)||[]}function tt(t,e,n,r){var o;if(Array.isArray(e))Et.each(e,function(e,i){n||Fe.test(t)?r(t,i):tt(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==i(e))r(t,e);else for(o in e)tt(t+"["+o+"]",e[o],n,r)}function et(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(Bt)||[];if(yt(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function nt(t,e,n,i){function r(a){var l;return o[a]=!0,Et.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},s=t===tn;return r(e.dataTypes[0])||!o["*"]&&r("*")}function it(t,e){var n,i,r=Et.ajaxSettings.flatOptions||{};for(n in e)e[n]!==undefined&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&Et.extend(!0,t,i),t}function rt(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),i===undefined&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}function ot(t,e,n,i){var r,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}var st=[],at=Object.getPrototypeOf,lt=st.slice,ut=st.flat?function(t){return st.flat.call(t)}:function(t){return st.concat.apply([],t)},ct=st.push,ht=st.indexOf,dt={},ft=dt.toString,pt=dt.hasOwnProperty,mt=pt.toString,gt=mt.call(Object),vt={},yt=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},bt=function(t){return null!=t&&t===t.window},xt=t.document,wt={type:!0,src:!0,nonce:!0,noModule:!0},kt="3.7.0",_t=/HTML$/i,Et=function(t,e){return new Et.fn.init(t,e)};Et.fn=Et.prototype={jquery:kt,constructor:Et,length:0,toArray:function(){return lt.call(this)},get:function(t){return null==t?lt.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=Et.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return Et.each(this,t)},map:function(t){return this.pushStack(Et.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(lt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(Et.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(Et.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ct,sort:st.sort,splice:st.splice},Et.extend=Et.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||yt(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],"__proto__"!==e&&s!==i&&(u&&i&&(Et.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[e],o=r&&!Array.isArray(n)?[]:r||Et.isPlainObject(n)?n:{},r=!1,s[e]=Et.extend(u,o,i)):i!==undefined&&(s[e]=i));return s},Et.extend({expando:"jQuery"+(kt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==ft.call(t))&&(!(e=at(t))||"function"==typeof(n=pt.call(e,"constructor")&&e.constructor)&&mt.call(n)===gt)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,i){n(t,{nonce:e&&e.nonce},i)},each:function(t,e){var n,i=0;if(r(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},text:function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r)return t.textContent;if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=Et.text(e);return n},makeArray:function(t,e){var n=e||[];return null!=t&&(r(Object(t))?Et.merge(n,"string"==typeof t?[t]:t):ct.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:ht.call(e,t,n)},isXMLDoc:function(t){var e=t&&t.namespaceURI,n=t&&(t.ownerDocument||t).documentElement;return!_t.test(e||n&&n.nodeName||"HTML")},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,o,s=0,a=[];if(r(t))for(i=t.length;s<i;s++)null!=(o=e(t[s],s,n))&&a.push(o);else for(s in t)null!=(o=e(t[s],s,n))&&a.push(o);return ut(a)},guid:1,support:vt}),"function"==typeof Symbol&&(Et.fn[Symbol.iterator]=st[Symbol.iterator]),Et.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){dt["[object "+e+"]"]=e.toLowerCase()});var Tt=st.pop,Ct=st.sort,St=st.splice,At="[\\x20\\t\\r\\n\\f]",Lt=new RegExp("^"+At+"+|((?:^|[^\\\\])(?:\\\\.)*)"+At+"+$","g");Et.contains=function(t,e){var n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(t.contains?t.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))};var Pt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;Et.escapeSelector=function(t){return(t+"").replace(Pt,s)};var Mt=xt,Dt=ct;!function(){function e(){try{return P.activeElement}catch(t){}}function n(t,e,i,r){var o,s,a,l,u,c,f,g=e&&e.ownerDocument,v=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==v&&9!==v&&11!==v)return i;if(!r&&(d(e),e=e||P,D)){if(11!==v&&(u=it.exec(t)))if(o=u[1]){if(9===v){if(!(a=e.getElementById(o)))return i;if(a.id===o)return N.call(i,a),i}else if(g&&(a=g.getElementById(o))&&n.contains(e,a)&&a.id===o)return N.call(i,a),i}else{if(u[2])return N.apply(i,e.getElementsByTagName(t)),i;if((o=u[3])&&e.getElementsByClassName)return N.apply(i,e.getElementsByClassName(o)),i}if(!(F[t+" "]||R&&R.test(t))){if(f=t,g=e,1===v&&(G.test(t)||Y.test(t))){for((g=rt.test(t)&&h(e.parentNode)||e)==e&&vt.scope||((l=e.getAttribute("id"))?l=Et.escapeSelector(l):e.setAttribute("id",l=$)),s=(c=p(t)).length;s--;)c[s]=(l?"#"+l:":scope")+" "+m(c[s]);f=c.join(",")}try{return N.apply(i,g.querySelectorAll(f)),i}catch(y){F(t,!0)}finally{l===$&&e.removeAttribute("id")}}}return E(t.replace(Lt,"$1"),e,i,r)}function i(){function t(n,i){return e.push(n+" ")>C.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function r(t){return t[$]=!0,t}function s(t){var e=P.createElement("fieldset");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(t){return function(e){return o(e,"input")&&e.type===t}}function l(t){return function(e){return(o(e,"input")||o(e,"button"))&&e.type===t}}function u(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ct(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function c(t){return r(function(e){return e=+e,r(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function h(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function d(t){var e,i=t?t.ownerDocument||t:Mt;return i!=P&&9===i.nodeType&&i.documentElement?(M=(P=i).documentElement,D=!Et.isXMLDoc(P),j=M.matches||M.webkitMatchesSelector||M.msMatchesSelector,Mt!=P&&(e=P.defaultView)&&e.top!==e&&e.addEventListener("unload",ut),vt.getById=s(function(t){return M.appendChild(t).id=Et.expando,!P.getElementsByName||!P.getElementsByName(Et.expando).length}),vt.disconnectedMatch=s(function(t){return j.call(t,"*")}),vt.scope=s(function(){return P.querySelectorAll(":scope")}),vt.cssHas=s(function(){try{return P.querySelector(":has(*,:jqfake)"),!1}catch(t){return!0}}),vt.getById?(C.filter.ID=function(t){var e=t.replace(ot,at);return function(t){return t.getAttribute("id")===e}},C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&D){var n=e.getElementById(t);return n?[n]:[]}}):(C.filter.ID=function(t){var e=t.replace(ot,at);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&D){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),C.find.TAG=function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):e.querySelectorAll(t)},C.find.CLASS=function(t,e){if("undefined"!=typeof e.getElementsByClassName&&D)return e.getElementsByClassName(t)},R=[],s(function(t){var e;M.appendChild(t).innerHTML="<a id='"+$+"' href='' disabled='disabled'></a><select id='"+$+"-\r\\' disabled='disabled'><option selected=''></option></select>",t.querySelectorAll("[selected]").length||R.push("\\["+At+"*(?:value|"+U+")"),t.querySelectorAll("[id~="+$+"-]").length||R.push("~="),t.querySelectorAll("a#"+$+"+*").length||R.push(".#.+[+~]"),t.querySelectorAll(":checked").length||R.push(":checked"),(e=P.createElement("input")).setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),M.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&R.push(":enabled",":disabled"),(e=P.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||R.push("\\["+At+"*name"+At+"*="+At+"*(?:''|\"\")")}),vt.cssHas||R.push(":has"),R=R.length&&new RegExp(R.join("|")),V=function(t,e){if(t===e)return L=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!vt.sortDetached&&e.compareDocumentPosition(t)===i?t===P||t.ownerDocument==Mt&&n.contains(Mt,t)?-1:e===P||e.ownerDocument==Mt&&n.contains(Mt,e)?1:A?ht.call(A,t)-ht.call(A,e):0:4&i?-1:1)},P):P}function f(){}function p(t,e){var i,r,o,s,a,l,u,c=O[t+" "];if(c)return e?0:c.slice(0);for(a=t,l=[],u=C.preFilter;a;){for(s in i&&!(r=Q.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=Y.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(Lt," ")}),a=a.slice(i.length)),C.filter)!(r=tt[s].exec(a))||u[s]&&!(r=u[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return e?a.length:a?n.error(t):O(t,l).slice(0)}function m(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function g(t,e,n){var i=e.dir,r=e.next,s=r||i,a=n&&"parentNode"===s,l=H++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,r);return!1}:function(e,n,u){var c,h,d=[q,l];if(u){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,u))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(h=e[$]||(e[$]={}),r&&o(e,r))e=e[i]||e;else{if((c=h[s])&&c[0]===q&&c[1]===l)return d[2]=c[2];if(h[s]=d,d[2]=t(e,n,u))return!0}return!1}}function v(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function y(t,e,i){for(var r=0,o=e.length;r<o;r++)n(t,e[r],i);return i}function b(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),u&&e.push(a)));return s}function x(t,e,n,i,o,s){return i&&!i[$]&&(i=x(i)),o&&!o[$]&&(o=x(o,s)),r(function(r,s,a,l){var u,c,h,d,f=[],p=[],m=s.length,g=r||y(e||"*",a.nodeType?[a]:a,[]),v=!t||!r&&e?g:b(g,f,t,a,l);if(n?n(v,d=o||(r?t:m||i)?[]:s,a,l):d=v,i)for(u=b(d,p),i(u,[],a,l),c=u.length;c--;)(h=u[c])&&(d[p[c]]=!(v[p[c]]=h));if(r){if(o||t){if(o){for(u=[],c=d.length;c--;)(h=d[c])&&u.push(v[c]=h);o(null,d=[],u,l)}for(c=d.length;c--;)(h=d[c])&&(u=o?ht.call(r,h):f[c])>-1&&(r[u]=!(s[u]=h))}}else d=b(d===s?d.splice(m,d.length):d),o?o(null,s,d,l):N.apply(s,d)})}function w(t){for(var e,n,i,r=t.length,o=C.relative[t[0].type],s=o||C.relative[" "],a=o?1:0,l=g(function(t){return t===e},s,!0),u=g(function(t){return ht.call(e,t)>-1},s,!0),c=[function(t,n,i){var r=!o&&(i||n!=S)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,r}];a<r;a++)if(n=C.relative[t[a].type])c=[g(v(c),n)];else{if((n=C.filter[t[a].type].apply(null,t[a].matches))[$]){for(i=++a;i<r&&!C.relative[t[i].type];i++);return x(a>1&&v(c),a>1&&m(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(Lt,"$1"),n,a<i&&w(t.slice(a,i)),i<r&&w(t=t.slice(i)),i<r&&m(t))}c.push(n)}return v(c)}function k(t,e){var n=e.length>0,i=t.length>0,o=function(r,o,s,a,l){var u,c,h,f=0,p="0",m=r&&[],g=[],v=S,y=r||i&&C.find.TAG("*",l),x=q+=null==v?1:Math.random()||.1,w=y.length;for(l&&(S=o==P||o||l);p!==w&&null!=(u=y[p]);p++){if(i&&u){for(c=0,o||u.ownerDocument==P||(d(u),s=!D);h=t[c++];)if(h(u,o||P,s)){N.call(a,u);break}l&&(q=x)}n&&((u=!h&&u)&&f--,r&&m.push(u))}if(f+=p,n&&p!==f){for(c=0;h=e[c++];)h(m,g,o,s);if(r){if(f>0)for(;p--;)m[p]||g[p]||(g[p]=Tt.call(a));g=b(g)}N.apply(a,g),l&&!r&&g.length>0&&f+e.length>1&&Et.uniqueSort(a)}return l&&(q=x,S=v),m};return n?r(o):o}function _(t,e){var n,i=[],r=[],o=B[t+" "];if(!o){for(e||(e=p(t)),n=e.length;n--;)(o=w(e[n]))[$]?i.push(o):r.push(o);(o=B(t,k(r,i))).selector=t}return o}function E(t,e,n,i){var r,o,s,a,l,u="function"==typeof t&&t,c=!i&&p(t=u.selector||t);if(n=n||[],1===c.length){if((o=c[0]=c[0].slice(0)).length>2&&"ID"===(s=o[0]).type&&9===e.nodeType&&D&&C.relative[o[1].type]){if(!(e=(C.find.ID(s.matches[0].replace(ot,at),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=tt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!C.relative[a=s.type]);)if((l=C.find[a])&&(i=l(s.matches[0].replace(ot,at),rt.test(o[0].type)&&h(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&m(o)))return N.apply(n,i),n;break}}return(u||_(t,c))(i,e,!D,n,!e||rt.test(t)&&h(e.parentNode)||e),n}var T,C,S,A,L,P,M,D,R,j,N=Dt,$=Et.expando,q=0,H=0,I=i(),O=i(),B=i(),F=i(),V=function(t,e){return t===e&&(L=!0),0},U="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",W="(?:\\\\[\\da-fA-F]{1,6}"+At+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",z="\\["+At+"*("+W+")(?:"+At+"*([*^$|!~]?=)"+At+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+W+"))|)"+At+"*\\]",X=":("+W+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",K=new RegExp(At+"+","g"),Q=new RegExp("^"+At+"*,"+At+"*"),Y=new RegExp("^"+At+"*([>+~]|"+At+")"+At+"*"),G=new RegExp(At+"|>"),J=new RegExp(X),Z=new RegExp("^"+W+"$"),tt={ID:new RegExp("^#("+W+")"),CLASS:new RegExp("^\\.("+W+")"),
TAG:new RegExp("^("+W+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+X),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+At+"*(even|odd|(([+-]|)(\\d*)n|)"+At+"*(?:([+-]|)"+At+"*(\\d+)|))"+At+"*\\)|)","i"),bool:new RegExp("^(?:"+U+")$","i"),needsContext:new RegExp("^"+At+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+At+"*((?:-\\d)?\\d*)"+At+"*\\)|)(?=[^-]|$)","i")},et=/^(?:input|select|textarea|button)$/i,nt=/^h\d$/i,it=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rt=/[+~]/,ot=new RegExp("\\\\[\\da-fA-F]{1,6}"+At+"?|\\\\([^\\r\\n\\f])","g"),at=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ut=function(){d()},ct=g(function(t){return!0===t.disabled&&o(t,"fieldset")},{dir:"parentNode",next:"legend"});try{N.apply(st=lt.call(Mt.childNodes),Mt.childNodes),st[Mt.childNodes.length].nodeType}catch(dt){N={apply:function(t,e){Dt.apply(t,lt.call(e))},call:function(t){Dt.apply(t,lt.call(arguments,1))}}}for(T in n.matches=function(t,e){return n(t,null,null,e)},n.matchesSelector=function(t,e){if(d(t),D&&!F[e+" "]&&(!R||!R.test(e)))try{var i=j.call(t,e);if(i||vt.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(dt){F(e,!0)}return n(e,P,null,[t]).length>0},n.contains=function(t,e){return(t.ownerDocument||t)!=P&&d(t),Et.contains(t,e)},n.attr=function(t,e){(t.ownerDocument||t)!=P&&d(t);var n=C.attrHandle[e.toLowerCase()],i=n&&pt.call(C.attrHandle,e.toLowerCase())?n(t,e,!D):undefined;return i!==undefined?i:t.getAttribute(e)},n.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},Et.uniqueSort=function(t){var e,n=[],i=0,r=0;if(L=!vt.sortStable,A=!vt.sortStable&&lt.call(t,0),Ct.call(t,V),L){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)St.call(t,n[i],1)}return A=null,t},Et.fn.uniqueSort=function(){return this.pushStack(Et.uniqueSort(lt.apply(this)))},(C=Et.expr={cacheLength:50,createPseudo:r,match:tt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(ot,at),t[3]=(t[3]||t[4]||t[5]||"").replace(ot,at),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||n.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&n.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return tt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&J.test(n)&&(e=p(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(ot,at).toLowerCase();return"*"===t?function(){return!0}:function(t){return o(t,e)}},CLASS:function(t){var e=I[t+" "];return e||(e=new RegExp("(^|"+At+")"+t+"("+At+"|$)"))&&I(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(r){var o=n.attr(r,t);return null==o?"!="===e:!e||(o+="","="===e?o===i:"!="===e?o!==i:"^="===e?i&&0===o.indexOf(i):"*="===e?i&&o.indexOf(i)>-1:"$="===e?i&&o.slice(-i.length)===i:"~="===e?(" "+o.replace(K," ")+" ").indexOf(i)>-1:"|="===e&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var s="nth"!==t.slice(0,3),a="last"!==t.slice(-4),l="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var c,h,d,f,p,m=s!==a?"nextSibling":"previousSibling",g=e.parentNode,v=l&&e.nodeName.toLowerCase(),y=!u&&!l,b=!1;if(g){if(s){for(;m;){for(d=e;d=d[m];)if(l?o(d,v):1===d.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(b=(f=(c=(h=g[$]||(g[$]={}))[t]||[])[0]===q&&c[1])&&c[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===e){h[t]=[q,f,b];break}}else if(y&&(b=f=(c=(h=e[$]||(e[$]={}))[t]||[])[0]===q&&c[1]),!1===b)for(;(d=++f&&d&&d[m]||(b=f=0)||p.pop())&&((l?!o(d,v):1!==d.nodeType)||!++b||(y&&((h=d[$]||(d[$]={}))[t]=[q,b]),d!==e)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,e){var i,o=C.pseudos[t]||C.setFilters[t.toLowerCase()]||n.error("unsupported pseudo: "+t);return o[$]?o(e):o.length>1?(i=[t,t,"",e],C.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,n){for(var i,r=o(t,e),s=r.length;s--;)t[i=ht.call(t,r[s])]=!(n[i]=r[s])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=_(t.replace(Lt,"$1"));return i[$]?r(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(e){return n(t,e).length>0}}),contains:r(function(t){return t=t.replace(ot,at),function(e){return(e.textContent||Et.text(e)).indexOf(t)>-1}}),lang:r(function(t){return Z.test(t||"")||n.error("unsupported lang: "+t),t=t.replace(ot,at).toLowerCase(),function(e){var n;do{if(n=D?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===M},focus:function(t){return t===e()&&P.hasFocus()&&!!(t.type||t.href||~t.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(t){return o(t,"input")&&!!t.checked||o(t,"option")&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return nt.test(t.nodeName)},input:function(t){return et.test(t.nodeName)},button:function(t){return o(t,"input")&&"button"===t.type||o(t,"button")},text:function(t){var e;return o(t,"input")&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:c(function(t,e,n){var i;for(i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=C.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[T]=a(T);for(T in{submit:!0,reset:!0})C.pseudos[T]=l(T);f.prototype=C.filters=C.pseudos,C.setFilters=new f,vt.sortStable=$.split("").sort(V).join("")===$,d(),vt.sortDetached=s(function(t){return 1&t.compareDocumentPosition(P.createElement("fieldset"))}),Et.find=n,Et.expr[":"]=Et.expr.pseudos,Et.unique=Et.uniqueSort,n.compile=_,n.select=E,n.setDocument=d,n.escape=Et.escapeSelector,n.getText=Et.text,n.isXML=Et.isXMLDoc,n.selectors=Et.expr,n.support=Et.support,n.uniqueSort=Et.uniqueSort}();var Rt=function(t,e,n){for(var i=[],r=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&Et(t).is(n))break;i.push(t)}return i},jt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},Nt=Et.expr.match.needsContext,$t=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Et.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?Et.find.matchesSelector(i,t)?[i]:[]:Et.find.matches(t,Et.grep(e,function(t){return 1===t.nodeType}))},Et.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(Et(t).filter(function(){for(e=0;e<i;e++)if(Et.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)Et.find(t,r[e],n);return i>1?Et.uniqueSort(n):n},filter:function(t){return this.pushStack(a(this,t||[],!1))},not:function(t){return this.pushStack(a(this,t||[],!0))},is:function(t){return!!a(this,"string"==typeof t&&Nt.test(t)?Et(t):t||[],!1).length}});var qt,Ht=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(Et.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||qt,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Ht.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof Et?e[0]:e,Et.merge(this,Et.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:xt,!0)),$t.test(i[1])&&Et.isPlainObject(e))for(i in e)yt(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=xt.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):yt(t)?n.ready!==undefined?n.ready(t):t(Et):Et.makeArray(t,this)}).prototype=Et.fn,qt=Et(xt);var It=/^(?:parents|prev(?:Until|All))/,Ot={children:!0,contents:!0,next:!0,prev:!0};Et.fn.extend({has:function(t){var e=Et(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(Et.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&Et(t);if(!Nt.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&Et.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?Et.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?ht.call(Et(t),this[0]):ht.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Et.uniqueSort(Et.merge(this.get(),Et(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Et.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Rt(t,"parentNode")},parentsUntil:function(t,e,n){return Rt(t,"parentNode",n)},next:function(t){return l(t,"nextSibling")},prev:function(t){return l(t,"previousSibling")},nextAll:function(t){return Rt(t,"nextSibling")},prevAll:function(t){return Rt(t,"previousSibling")},nextUntil:function(t,e,n){return Rt(t,"nextSibling",n)},prevUntil:function(t,e,n){return Rt(t,"previousSibling",n)},siblings:function(t){return jt((t.parentNode||{}).firstChild,t)},children:function(t){return jt(t.firstChild)},contents:function(t){return null!=t.contentDocument&&at(t.contentDocument)?t.contentDocument:(o(t,"template")&&(t=t.content||t),Et.merge([],t.childNodes))}},function(t,e){Et.fn[t]=function(n,i){var r=Et.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=Et.filter(i,r)),this.length>1&&(Ot[t]||Et.uniqueSort(r),It.test(t)&&r.reverse()),this.pushStack(r)}});var Bt=/[^\x20\t\r\n\f]+/g;Et.Callbacks=function(t){t="string"==typeof t?u(t):Et.extend({},t);var e,n,r,o,s=[],a=[],l=-1,c=function(){for(o=o||t.once,r=e=!0;a.length;l=-1)for(n=a.shift();++l<s.length;)!1===s[l].apply(n[0],n[1])&&t.stopOnFalse&&(l=s.length,n=!1);t.memory||(n=!1),e=!1,o&&(s=n?[]:"")},h={add:function(){return s&&(n&&!e&&(l=s.length-1,a.push(n)),function r(e){Et.each(e,function(e,n){yt(n)?t.unique&&h.has(n)||s.push(n):n&&n.length&&"string"!==i(n)&&r(n)})}(arguments),n&&!e&&c()),this},remove:function(){return Et.each(arguments,function(t,e){for(var n;(n=Et.inArray(e,s,n))>-1;)s.splice(n,1),n<=l&&l--}),this},has:function(t){return t?Et.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return o=a=[],n||e||(s=n=""),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||c()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},Et.extend({Deferred:function(e){var n=[["notify","progress",Et.Callbacks("memory"),Et.Callbacks("memory"),2],["resolve","done",Et.Callbacks("once memory"),Et.Callbacks("once memory"),0,"resolved"],["reject","fail",Et.Callbacks("once memory"),Et.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(t){return r.then(null,t)},pipe:function(){var t=arguments;return Et.Deferred(function(e){Et.each(n,function(n,i){var r=yt(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&yt(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,i,r){function o(e,n,i,r){return function(){var a=this,l=arguments,u=function(){var t,u;if(!(e<s)){if((t=i.apply(a,l))===n.promise())throw new TypeError("Thenable self-resolution");u=t&&("object"==typeof t||"function"==typeof t)&&t.then,yt(u)?r?u.call(t,o(s,n,c,r),o(s,n,h,r)):(s++,u.call(t,o(s,n,c,r),o(s,n,h,r),o(s,n,c,n.notifyWith))):(i!==c&&(a=undefined,l=[t]),(r||n.resolveWith)(a,l))}},d=r?u:function(){try{u()}catch(t){Et.Deferred.exceptionHook&&Et.Deferred.exceptionHook(t,d.error),e+1>=s&&(i!==h&&(a=undefined,l=[t]),n.rejectWith(a,l))}};e?d():(Et.Deferred.getErrorHook?d.error=Et.Deferred.getErrorHook():Et.Deferred.getStackHook&&(d.error=Et.Deferred.getStackHook()),t.setTimeout(d))}}var s=0;return Et.Deferred(function(t){n[0][3].add(o(0,t,yt(r)?r:c,t.notifyWith)),n[1][3].add(o(0,t,yt(e)?e:c)),n[2][3].add(o(0,t,yt(i)?i:h))}).promise()},promise:function(t){return null!=t?Et.extend(t,r):r}},o={};return Et.each(n,function(t,e){var s=e[2],a=e[5];r[e[1]]=s.add,a&&s.add(function(){i=a},n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),s.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?undefined:this,arguments),this},o[e[0]+"With"]=s.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=lt.call(arguments),o=Et.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?lt.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(d(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||yt(r[n]&&r[n].then)))return o.then();for(;n--;)d(r[n],s(n),o.reject);return o.promise()}});var Ft=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Et.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&Ft.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},Et.readyException=function(e){t.setTimeout(function(){throw e})};var Vt=Et.Deferred();Et.fn.ready=function(t){return Vt.then(t)["catch"](function(t){Et.readyException(t)}),this},Et.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--Et.readyWait:Et.isReady)||(Et.isReady=!0,!0!==t&&--Et.readyWait>0||Vt.resolveWith(xt,[Et]))}}),Et.ready.then=Vt.then,"complete"===xt.readyState||"loading"!==xt.readyState&&!xt.documentElement.doScroll?t.setTimeout(Et.ready):(xt.addEventListener("DOMContentLoaded",f),t.addEventListener("load",f));var Ut=function(t,e,n,r,o,s,a){var l=0,u=t.length,c=null==n;if("object"===i(n))for(l in o=!0,n)Ut(t,e,l,n[l],!0,s,a);else if(r!==undefined&&(o=!0,yt(r)||(a=!0),c&&(a?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(Et(t),n)})),e))for(;l<u;l++)e(t[l],n,a?r:r.call(t[l],l,e(t[l],n)));return o?t:c?e.call(t):u?e(t[0],n):s},Wt=/^-ms-/,zt=/-([a-z])/g,Xt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};g.uid=1,g.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Xt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[m(e)]=n;else for(i in e)r[m(i)]=e[i];return r},get:function(t,e){return e===undefined?this.cache(t):t[this.expando]&&t[this.expando][m(e)]},access:function(t,e,n){return e===undefined||e&&"string"==typeof e&&n===undefined?this.get(t,e):(this.set(t,e,n),n!==undefined?n:e)},remove:function(t,e){var n,i=t[this.expando];if(i!==undefined){if(e!==undefined){n=(e=Array.isArray(e)?e.map(m):(e=m(e))in i?[e]:e.match(Bt)||[]).length;for(;n--;)delete i[e[n]]}(e===undefined||Et.isEmptyObject(i))&&(t.nodeType?t[this.expando]=undefined:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return e!==undefined&&!Et.isEmptyObject(e)}};var Kt=new g,Qt=new g,Yt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Gt=/[A-Z]/g;Et.extend({hasData:function(t){return Qt.hasData(t)||Kt.hasData(t)},data:function(t,e,n){return Qt.access(t,e,n)},removeData:function(t,e){Qt.remove(t,e)},_data:function(t,e,n){return Kt.access(t,e,n)},_removeData:function(t,e){Kt.remove(t,e)}}),Et.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(t===undefined){if(this.length&&(r=Qt.get(o),1===o.nodeType&&!Kt.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=m(i.slice(5)),y(o,i,r[i]));Kt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Qt.set(this,t)}):Ut(this,function(e){var n;if(o&&e===undefined)return(n=Qt.get(o,t))!==undefined?n:(n=y(o,t))!==undefined?n:void 0;this.each(function(){Qt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Qt.remove(this,t)})}}),Et.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Kt.get(t,e),n&&(!i||Array.isArray(n)?i=Kt.access(t,e,Et.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=Et.queue(t,e),i=n.length,r=n.shift(),o=Et._queueHooks(t,e),s=function(){Et.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Kt.get(t,n)||Kt.access(t,n,{empty:Et.Callbacks("once memory").add(function(){Kt.remove(t,[e+"queue",n])})})}}),Et.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?Et.queue(this[0],t):e===undefined?this:this.each(function(){var n=Et.queue(this,t,e);Et._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&Et.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Et.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=Et.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";s--;)(n=Kt.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var Jt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Zt=new RegExp("^(?:([+-])=|)("+Jt+")([a-z%]*)$","i"),te=["Top","Right","Bottom","Left"],ee=xt.documentElement,ne=function(t){return Et.contains(t.ownerDocument,t)},ie={composed:!0};ee.getRootNode&&(ne=function(t){return Et.contains(t.ownerDocument,t)||t.getRootNode(ie)===t.ownerDocument});var re=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&ne(t)&&"none"===Et.css(t,"display")},oe={};Et.fn.extend({show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){re(this)?Et(this).show():Et(this).hide()})}});var se,ae,le=/^(?:checkbox|radio)$/i,ue=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ce=/^$|^module$|\/(?:java|ecma)script/i;se=xt.createDocumentFragment().appendChild(xt.createElement("div")),(ae=xt.createElement("input")).setAttribute("type","radio"),ae.setAttribute("checked","checked"),ae.setAttribute("name","t"),se.appendChild(ae),vt.checkClone=se.cloneNode(!0).cloneNode(!0).lastChild.checked,se.innerHTML="<textarea>x</textarea>",vt.noCloneChecked=!!se.cloneNode(!0).lastChild.defaultValue,se.innerHTML="<option></option>",vt.option=!!se.lastChild;var he={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};he.tbody=he.tfoot=he.colgroup=he.caption=he.thead,he.th=he.td,vt.option||(he.optgroup=he.option=[1,"<select multiple='multiple'>","</select>"]);var de=/<|&#?\w+;/,fe=/^([^.]*)(?:\.(.+)|)/;Et.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,u,c,h,d,f,p,m,g=Kt.get(t);if(Xt(t))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&Et.find.matchesSelector(ee,r),n.guid||(n.guid=Et.guid++),(l=g.events)||(l=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(e){return void 0!==Et&&Et.event.triggered!==e.type?Et.event.dispatch.apply(t,arguments):undefined}),u=(e=(e||"").match(Bt)||[""]).length;u--;)f=m=(a=fe.exec(e[u])||[])[1],p=(a[2]||"").split(".").sort(),f&&(h=Et.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=Et.event.special[f]||{},c=Et.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&Et.expr.match.needsContext.test(r),namespace:p.join(".")},o),(d=l[f])||((d=l[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,p,s)||t.addEventListener&&t.addEventListener(f,s)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),Et.event.global[f]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,u,c,h,d,f,p,m,g=Kt.hasData(t)&&Kt.get(t);if(g&&(l=g.events)){for(u=(e=(e||"").match(Bt)||[""]).length;u--;)if(f=m=(a=fe.exec(e[u])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=Et.event.special[f]||{},d=l[f=(i?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)c=d[o],!r&&m!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,g.handle)||Et.removeEvent(t,f,g.handle),delete l[f])}else for(f in l)Et.event.remove(t,f+e[u],n,i,!0);Et.isEmptyObject(l)&&Kt.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=new Array(arguments.length),l=Et.event.fix(t),u=(Kt.get(this,"events")||Object.create(null))[l.type]||[],c=Et.event.special[l.type]||{};for(a[0]=l,e=1;e<arguments.length;e++)a[e]=arguments[e];if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){for(s=Et.event.handlers.call(this,l,u),e=0;(r=s[e++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,(i=((Et.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))!==undefined&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,i,r,o,s,a=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],s={},n=0;n<l;n++)s[r=(i=e[n]).selector+" "]===undefined&&(s[r]=i.needsContext?Et(r,this).index(u)>-1:Et.find(r,this,null,[u]).length),s[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return u=this,l<e.length&&a.push({elem:u,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(Et.Event.prototype,t,{enumerable:!0,configurable:!0,get:yt(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[Et.expando]?t:new Et.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return le.test(e.type)&&e.click&&o(e,"input")&&A(e,"click",!0),!1},trigger:function(t){var e=this||t;return le.test(e.type)&&e.click&&o(e,"input")&&A(e,"click"),!0},_default:function(t){var e=t.target;return le.test(e.type)&&e.click&&o(e,"input")&&Kt.get(e,"click")||o(e,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},Et.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},Et.Event=function(t,e){if(!(this instanceof Et.Event))return new Et.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?T:C,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&Et.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[Et.expando]=!0},Et.Event.prototype={constructor:Et.Event,isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=T,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=T,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=T,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},Et.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},Et.event.addProp),Et.each({focus:"focusin",blur:"focusout"},function(t,e){function n(t){if(xt.documentMode){var n=Kt.get(this,"handle"),i=Et.event.fix(t);i.type="focusin"===t.type?"focus":"blur",i.isSimulated=!0,n(t),i.target===i.currentTarget&&n(i)}else Et.event.simulate(e,t.target,Et.event.fix(t))}Et.event.special[t]={setup:function(){var i;if(A(this,t,!0),!xt.documentMode)return!1;(i=Kt.get(this,e))||this.addEventListener(e,n),Kt.set(this,e,(i||0)+1)},trigger:function(){return A(this,t),!0},teardown:function(){var t;if(!xt.documentMode)return!1;(t=Kt.get(this,e)-1)?Kt.set(this,e,t):(this.removeEventListener(e,n),Kt.remove(this,e))},_default:function(e){return Kt.get(e.target,t)},delegateType:e},Et.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,r=xt.documentMode?this:i,o=Kt.get(r,e);o||(xt.documentMode?this.addEventListener(e,n):i.addEventListener(t,n,!0)),Kt.set(r,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=xt.documentMode?this:i,o=Kt.get(r,e)-1;o?Kt.set(r,e,o):(xt.documentMode?this.removeEventListener(e,n):i.removeEventListener(t,n,!0),Kt.remove(r,e))}}}),Et.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Et.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||Et.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),Et.fn.extend({on:function(t,e,n,i){return S(this,t,e,n,i)},one:function(t,e,n,i){return S(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,Et(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=C),this.each(function(){Et.event.remove(this,t,n,e)})}});var pe=/<script|<style|<link/i,me=/checked\s*(?:[^=]|=\s*.checked.)/i,ge=/^\s*<!\[CDATA\[|\]\]>\s*$/g;Et.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),l=ne(t);if(!(vt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Et.isXMLDoc(t)))for(s=k(a),i=0,r=(o=k(t)).length;i<r;i++)R(o[i],s[i]);if(e)if(n)for(o=o||k(t),s=s||k(a),i=0,r=o.length;i<r;i++)D(o[i],s[i]);else D(t,a);return(s=k(a,"script")).length>0&&_(s,!l&&k(t,"script")),a},cleanData:function(t){for(var e,n,i,r=Et.event.special,o=0;(n=t[o])!==undefined;o++)if(Xt(n)){if(e=n[Kt.expando]){if(e.events)for(i in e.events)r[i]?Et.event.remove(n,i):Et.removeEvent(n,i,e.handle);n[Kt.expando]=undefined}n[Qt.expando]&&(n[Qt.expando]=undefined)}}}),Et.fn.extend({detach:function(t){return N(this,t,!0)},remove:function(t){return N(this,t)},text:function(t){return Ut(this,function(t){return t===undefined?Et.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return j(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||L(this,t).appendChild(t)})},prepend:function(){return j(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=L(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return j(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return j(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Et.cleanData(k(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return Et.clone(this,t,e)})},html:function(t){return Ut(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===undefined&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!pe.test(t)&&!he[(ue.exec(t)||["",""])[1].toLowerCase()]){t=Et.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(Et.cleanData(k(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return j(this,arguments,function(e){var n=this.parentNode;Et.inArray(this,t)<0&&(Et.cleanData(k(this)),n&&n.replaceChild(e,this))},t)}}),Et.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Et.fn[t]=function(t){for(var n,i=[],r=Et(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),Et(r[s])[e](n),ct.apply(i,n.get());return this.pushStack(i)}});var ve=new RegExp("^("+Jt+")(?!px)[a-z%]+$","i"),ye=/^--/,be=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},xe=function(t,e,n){var i,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];for(r in i=n.call(t),e)t.style[r]=o[r];return i},we=new RegExp(te.join("|"),"i");!function(){function e(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ee.appendChild(u).appendChild(c);var e=t.getComputedStyle(c);i="1%"!==e.top,l=12===n(e.marginLeft),c.style.right="60%",s=36===n(e.right),r=36===n(e.width),c.style.position="absolute",o=12===n(c.offsetWidth/3),ee.removeChild(u),c=null}}function n(t){return Math.round(parseFloat(t))}var i,r,o,s,a,l,u=xt.createElement("div"),c=xt.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",vt.clearCloneStyle="content-box"===c.style.backgroundClip,Et.extend(vt,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,n,i,r;return null==a&&(e=xt.createElement("table"),n=xt.createElement("tr"),i=xt.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="border:1px solid",n.style.height="1px",i.style.height="9px",i.style.display="block",ee.appendChild(e).appendChild(n).appendChild(i),r=t.getComputedStyle(n),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===n.offsetHeight,ee.removeChild(e)),a}}))}();var ke=["Webkit","Moz","ms"],_e=xt.createElement("div").style,Ee={},Te=/^(none|table(?!-c[ea]).+)/,Ce={position:"absolute",visibility:"hidden",display:"block"},Se={letterSpacing:"0",fontWeight:"400"};Et.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=$(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=m(e),l=ye.test(e),u=t.style;if(l||(e=I(a)),s=Et.cssHooks[e]||Et.cssHooks[a],n===undefined)return s&&"get"in s&&(r=s.get(t,!1,i))!==undefined?r:u[e];"string"===(o=typeof n)&&(r=Zt.exec(n))&&r[1]&&(n=b(t,e,r),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=r&&r[3]||(Et.cssNumber[a]?"":"px")),vt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),
s&&"set"in s&&(n=s.set(t,n,i))===undefined||(l?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,i){var r,o,s,a=m(e);return ye.test(e)||(e=I(a)),(s=Et.cssHooks[e]||Et.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),r===undefined&&(r=$(t,e,i)),"normal"===r&&e in Se&&(r=Se[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),Et.each(["height","width"],function(t,e){Et.cssHooks[e]={get:function(t,n,i){if(n)return!Te.test(Et.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?F(t,e,i):xe(t,Ce,function(){return F(t,e,i)})},set:function(t,n,i){var r,o=be(t),s=!vt.scrollboxSize()&&"absolute"===o.position,a=(s||i)&&"border-box"===Et.css(t,"boxSizing",!1,o),l=i?B(t,e,i,a,o):0;return a&&s&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-B(t,e,"border",!1,o)-.5)),l&&(r=Zt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=Et.css(t,e)),O(t,n,l)}}}),Et.cssHooks.marginLeft=q(vt.reliableMarginLeft,function(t,e){if(e)return(parseFloat($(t,"marginLeft"))||t.getBoundingClientRect().left-xe(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),Et.each({margin:"",padding:"",border:"Width"},function(t,e){Et.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+te[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(Et.cssHooks[t+e].set=O)}),Et.fn.extend({css:function(t,e){return Ut(this,function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=be(t),r=e.length;s<r;s++)o[e[s]]=Et.css(t,e[s],!1,i);return o}return n!==undefined?Et.style(t,e,n):Et.css(t,e)},t,e,arguments.length>1)}}),Et.Tween=V,V.prototype={constructor:V,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||Et.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(Et.cssNumber[n]?"":"px")},cur:function(){var t=V.propHooks[this.prop];return t&&t.get?t.get(this):V.propHooks._default.get(this)},run:function(t){var e,n=V.propHooks[this.prop];return this.options.duration?this.pos=e=Et.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):V.propHooks._default.set(this),this}},V.prototype.init.prototype=V.prototype,V.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=Et.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){Et.fx.step[t.prop]?Et.fx.step[t.prop](t):1!==t.elem.nodeType||!Et.cssHooks[t.prop]&&null==t.elem.style[I(t.prop)]?t.elem[t.prop]=t.now:Et.style(t.elem,t.prop,t.now+t.unit)}}},V.propHooks.scrollTop=V.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Et.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},Et.fx=V.prototype.init,Et.fx.step={};var Ae,Le,Pe=/^(?:toggle|show|hide)$/,Me=/queueHooks$/;Et.Animation=Et.extend(Y,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return b(n.elem,t,Zt.exec(e),n),n}]},tweener:function(t,e){yt(t)?(e=t,t=["*"]):t=t.match(Bt);for(var n,i=0,r=t.length;i<r;i++)n=t[i],Y.tweeners[n]=Y.tweeners[n]||[],Y.tweeners[n].unshift(e)},prefilters:[K],prefilter:function(t,e){e?Y.prefilters.unshift(t):Y.prefilters.push(t)}}),Et.speed=function(t,e,n){var i=t&&"object"==typeof t?Et.extend({},t):{complete:n||!n&&e||yt(t)&&t,duration:t,easing:n&&e||e&&!yt(e)&&e};return Et.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in Et.fx.speeds?i.duration=Et.fx.speeds[i.duration]:i.duration=Et.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){yt(i.old)&&i.old.call(this),i.queue&&Et.dequeue(this,i.queue)},i},Et.fn.extend({fadeTo:function(t,e,n,i){return this.filter(re).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=Et.isEmptyObject(t),o=Et.speed(e,n,i),s=function(){var e=Y(this,Et.extend({},t),o);(r||Kt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=undefined),e&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=Et.timers,s=Kt.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&Me.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||Et.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Kt.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=Et.timers,s=i?i.length:0;for(n.finish=!0,Et.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),Et.each(["toggle","show","hide"],function(t,e){var n=Et.fn[e];Et.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(z(e,!0),t,i,r)}}),Et.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Et.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),Et.timers=[],Et.fx.tick=function(){var t,e=0,n=Et.timers;for(Ae=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||Et.fx.stop(),Ae=undefined},Et.fx.timer=function(t){Et.timers.push(t),Et.fx.start()},Et.fx.interval=13,Et.fx.start=function(){Le||(Le=!0,U())},Et.fx.stop=function(){Le=null},Et.fx.speeds={slow:600,fast:200,_default:400},Et.fn.delay=function(e,n){return e=Et.fx&&Et.fx.speeds[e]||e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=xt.createElement("input"),e=xt.createElement("select").appendChild(xt.createElement("option"));t.type="checkbox",vt.checkOn=""!==t.value,vt.optSelected=e.selected,(t=xt.createElement("input")).value="t",t.type="radio",vt.radioValue="t"===t.value}();var De,Re=Et.expr.attrHandle;Et.fn.extend({attr:function(t,e){return Ut(this,Et.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Et.removeAttr(this,t)})}}),Et.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?Et.prop(t,e,n):(1===o&&Et.isXMLDoc(t)||(r=Et.attrHooks[e.toLowerCase()]||(Et.expr.match.bool.test(e)?De:undefined)),n!==undefined?null===n?void Et.removeAttr(t,e):r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=Et.find.attr(t,e))?undefined:i)},attrHooks:{type:{set:function(t,e){if(!vt.radioValue&&"radio"===e&&o(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(Bt);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),De={set:function(t,e,n){return!1===e?Et.removeAttr(t,n):t.setAttribute(n,n),n}},Et.each(Et.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Re[e]||Et.find.attr;Re[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=Re[s],Re[s]=r,r=null!=n(t,e,i)?s:null,Re[s]=o),r}});var je=/^(?:input|select|textarea|button)$/i,Ne=/^(?:a|area)$/i;Et.fn.extend({prop:function(t,e){return Ut(this,Et.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Et.propFix[t]||t]})}}),Et.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&Et.isXMLDoc(t)||(e=Et.propFix[e]||e,r=Et.propHooks[e]),n!==undefined?r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=Et.find.attr(t,"tabindex");return e?parseInt(e,10):je.test(t.nodeName)||Ne.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),vt.optSelected||(Et.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),Et.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Et.propFix[this.toLowerCase()]=this}),Et.fn.extend({addClass:function(t){var e,n,i,r,o,s;return yt(t)?this.each(function(e){Et(this).addClass(t.call(this,e,J(this)))}):(e=Z(t)).length?this.each(function(){if(i=J(this),n=1===this.nodeType&&" "+G(i)+" "){for(o=0;o<e.length;o++)r=e[o],n.indexOf(" "+r+" ")<0&&(n+=r+" ");s=G(n),i!==s&&this.setAttribute("class",s)}}):this},removeClass:function(t){var e,n,i,r,o,s;return yt(t)?this.each(function(e){Et(this).removeClass(t.call(this,e,J(this)))}):arguments.length?(e=Z(t)).length?this.each(function(){if(i=J(this),n=1===this.nodeType&&" "+G(i)+" "){for(o=0;o<e.length;o++)for(r=e[o];n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");s=G(n),i!==s&&this.setAttribute("class",s)}}):this:this.attr("class","")},toggleClass:function(t,e){var n,i,r,o,s=typeof t,a="string"===s||Array.isArray(t);return yt(t)?this.each(function(n){Et(this).toggleClass(t.call(this,n,J(this),e),e)}):"boolean"==typeof e&&a?e?this.addClass(t):this.removeClass(t):(n=Z(t),this.each(function(){if(a)for(o=Et(this),r=0;r<n.length;r++)i=n[r],o.hasClass(i)?o.removeClass(i):o.addClass(i);else t!==undefined&&"boolean"!==s||((i=J(this))&&Kt.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===t?"":Kt.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+G(J(n))+" ").indexOf(e)>-1)return!0;return!1}});var $e=/\r/g;Et.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=yt(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,Et(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=Et.map(r,function(t){return null==t?"":t+""})),(e=Et.valHooks[this.type]||Et.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&e.set(this,r,"value")!==undefined||(this.value=r))})):r?(e=Et.valHooks[r.type]||Et.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&(n=e.get(r,"value"))!==undefined?n:"string"==typeof(n=r.value)?n.replace($e,""):null==n?"":n:void 0}}),Et.extend({valHooks:{option:{get:function(t){var e=Et.find.attr(t,"value");return null!=e?e:G(Et.text(t))}},select:{get:function(t){var e,n,i,r=t.options,s=t.selectedIndex,a="select-one"===t.type,l=a?null:[],u=a?s+1:r.length;for(i=s<0?u:a?s:0;i<u;i++)if(((n=r[i]).selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!o(n.parentNode,"optgroup"))){if(e=Et(n).val(),a)return e;l.push(e)}return l},set:function(t,e){for(var n,i,r=t.options,o=Et.makeArray(e),s=r.length;s--;)((i=r[s]).selected=Et.inArray(Et.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),Et.each(["radio","checkbox"],function(){Et.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=Et.inArray(Et(t).val(),e)>-1}},vt.checkOn||(Et.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var qe=t.location,He={guid:Date.now()},Ie=/\?/;Et.parseXML=function(e){var n,i;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(r){}return i=n&&n.getElementsByTagName("parsererror")[0],n&&!i||Et.error("Invalid XML: "+(i?Et.map(i.childNodes,function(t){return t.textContent}).join("\n"):e)),n};var Oe=/^(?:focusinfocus|focusoutblur)$/,Be=function(t){t.stopPropagation()};Et.extend(Et.event,{trigger:function(e,n,i,r){var o,s,a,l,u,c,h,d,f=[i||xt],p=pt.call(e,"type")?e.type:e,m=pt.call(e,"namespace")?e.namespace.split("."):[];if(s=d=a=i=i||xt,3!==i.nodeType&&8!==i.nodeType&&!Oe.test(p+Et.event.triggered)&&(p.indexOf(".")>-1&&(p=(m=p.split(".")).shift(),m.sort()),u=p.indexOf(":")<0&&"on"+p,(e=e[Et.expando]?e:new Et.Event(p,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=i),n=null==n?[e]:Et.makeArray(n,[e]),h=Et.event.special[p]||{},r||!h.trigger||!1!==h.trigger.apply(i,n))){if(!r&&!h.noBubble&&!bt(i)){for(l=h.delegateType||p,Oe.test(l+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(i.ownerDocument||xt)&&f.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=f[o++])&&!e.isPropagationStopped();)d=s,e.type=o>1?l:h.bindType||p,(c=(Kt.get(s,"events")||Object.create(null))[e.type]&&Kt.get(s,"handle"))&&c.apply(s,n),(c=u&&s[u])&&c.apply&&Xt(s)&&(e.result=c.apply(s,n),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(f.pop(),n)||!Xt(i)||u&&yt(i[p])&&!bt(i)&&((a=i[u])&&(i[u]=null),Et.event.triggered=p,e.isPropagationStopped()&&d.addEventListener(p,Be),i[p](),e.isPropagationStopped()&&d.removeEventListener(p,Be),Et.event.triggered=undefined,a&&(i[u]=a)),e.result}},simulate:function(t,e,n){var i=Et.extend(new Et.Event,n,{type:t,isSimulated:!0});Et.event.trigger(i,null,e)}}),Et.fn.extend({trigger:function(t,e){return this.each(function(){Et.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return Et.event.trigger(t,e,n,!0)}});var Fe=/\[\]$/,Ve=/\r?\n/g,Ue=/^(?:submit|button|image|reset|file)$/i,We=/^(?:input|select|textarea|keygen)/i;Et.param=function(t,e){var n,i=[],r=function(t,e){var n=yt(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!Et.isPlainObject(t))Et.each(t,function(){r(this.name,this.value)});else for(n in t)tt(n,t[n],e,r);return i.join("&")},Et.fn.extend({serialize:function(){return Et.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Et.prop(this,"elements");return t?Et.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Et(this).is(":disabled")&&We.test(this.nodeName)&&!Ue.test(t)&&(this.checked||!le.test(t))}).map(function(t,e){var n=Et(this).val();return null==n?null:Array.isArray(n)?Et.map(n,function(t){return{name:e.name,value:t.replace(Ve,"\r\n")}}):{name:e.name,value:n.replace(Ve,"\r\n")}}).get()}});var ze=/%20/g,Xe=/#.*$/,Ke=/([?&])_=[^&]*/,Qe=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ye=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ge=/^(?:GET|HEAD)$/,Je=/^\/\//,Ze={},tn={},en="*/".concat("*"),nn=xt.createElement("a");nn.href=qe.href,Et.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:qe.href,type:"GET",isLocal:Ye.test(qe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":en,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Et.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?it(it(t,Et.ajaxSettings),e):it(Et.ajaxSettings,t)},ajaxPrefilter:et(Ze),ajaxTransport:et(tn),ajax:function(e,n){function i(e,n,i,a){var u,d,f,x,w,k=n;c||(c=!0,l&&t.clearTimeout(l),r=undefined,s=a||"",_.readyState=e>0?4:0,u=e>=200&&e<300||304===e,i&&(x=rt(p,_,i)),!u&&Et.inArray("script",p.dataTypes)>-1&&Et.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),x=ot(p,x,_,u),u?(p.ifModified&&((w=_.getResponseHeader("Last-Modified"))&&(Et.lastModified[o]=w),(w=_.getResponseHeader("etag"))&&(Et.etag[o]=w)),204===e||"HEAD"===p.type?k="nocontent":304===e?k="notmodified":(k=x.state,d=x.data,u=!(f=x.error))):(f=k,!e&&k||(k="error",e<0&&(e=0))),_.status=e,_.statusText=(n||k)+"",u?v.resolveWith(m,[d,k,_]):v.rejectWith(m,[_,k,f]),_.statusCode(b),b=undefined,h&&g.trigger(u?"ajaxSuccess":"ajaxError",[_,p,u?d:f]),y.fireWith(m,[_,k]),h&&(g.trigger("ajaxComplete",[_,p]),--Et.active||Et.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=undefined),n=n||{};var r,o,s,a,l,u,c,h,d,f,p=Et.ajaxSetup({},n),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?Et(m):Et.event,v=Et.Deferred(),y=Et.Callbacks("once memory"),b=p.statusCode||{},x={},w={},k="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=Qe.exec(s);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)_.always(t[_.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||k;return r&&r.abort(e),i(0,e),this}};if(v.promise(_),p.url=((e||p.url||qe.href)+"").replace(Je,qe.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Bt)||[""],null==p.crossDomain){u=xt.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=nn.protocol+"//"+nn.host!=u.protocol+"//"+u.host}catch(E){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=Et.param(p.data,p.traditional)),nt(Ze,p,n,_),c)return _;for(d in(h=Et.event&&p.global)&&0==Et.active++&&Et.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ge.test(p.type),o=p.url.replace(Xe,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(ze,"+")):(f=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(Ie.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Ke,"$1"),f=(Ie.test(o)?"&":"?")+"_="+He.guid+++f),p.url=o+f),p.ifModified&&(Et.lastModified[o]&&_.setRequestHeader("If-Modified-Since",Et.lastModified[o]),Et.etag[o]&&_.setRequestHeader("If-None-Match",Et.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&_.setRequestHeader("Content-Type",p.contentType),_.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+en+"; q=0.01":""):p.accepts["*"]),p.headers)_.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(m,_,p)||c))return _.abort();if(k="abort",y.add(p.complete),_.done(p.success),_.fail(p.error),r=nt(tn,p,n,_)){if(_.readyState=1,h&&g.trigger("ajaxSend",[_,p]),c)return _;p.async&&p.timeout>0&&(l=t.setTimeout(function(){_.abort("timeout")},p.timeout));try{c=!1,r.send(x,i)}catch(E){if(c)throw E;i(-1,E)}}else i(-1,"No Transport");return _},getJSON:function(t,e,n){return Et.get(t,e,n,"json")},getScript:function(t,e){return Et.get(t,undefined,e,"script")}}),Et.each(["get","post"],function(t,e){Et[e]=function(t,n,i,r){return yt(n)&&(r=r||i,i=n,n=undefined),Et.ajax(Et.extend({url:t,type:e,dataType:r,data:n,success:i},Et.isPlainObject(t)&&t))}}),Et.ajaxPrefilter(function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),Et._evalUrl=function(t,e,n){return Et.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){Et.globalEval(t,e,n)}})},Et.fn.extend({wrapAll:function(t){var e;return this[0]&&(yt(t)&&(t=t.call(this[0])),e=Et(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return yt(t)?this.each(function(e){Et(this).wrapInner(t.call(this,e))}):this.each(function(){var e=Et(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=yt(t);return this.each(function(n){Et(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){Et(this).replaceWith(this.childNodes)}),this}}),Et.expr.pseudos.hidden=function(t){return!Et.expr.pseudos.visible(t)},Et.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},Et.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var rn={0:200,1223:204},on=Et.ajaxSettings.xhr();vt.cors=!!on&&"withCredentials"in on,vt.ajax=on=!!on,Et.ajaxTransport(function(e){var n,i;if(vt.cors||on&&!e.crossDomain)return{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(rn[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n("error"),a.onabort!==undefined?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}}),Et.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),Et.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return Et.globalEval(t),t}}}),Et.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Et.ajaxTransport("script",function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=Et("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),xt.head.appendChild(e[0])},abort:function(){n&&n()}}});var sn,an=[],ln=/(=)\?(?=&|$)|\?\?/;Et.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=an.pop()||Et.expando+"_"+He.guid++;return this[t]=!0,t}}),Et.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=!1!==e.jsonp&&(ln.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ln.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=yt(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(ln,"$1"+r):!1!==e.jsonp&&(e.url+=(Ie.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||Et.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){o===undefined?Et(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,an.push(r)),s&&yt(o)&&o(s[0]),s=o=undefined}),"script"}),vt.createHTMLDocument=((sn=xt.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===sn.childNodes.length),Et.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(vt.createHTMLDocument?((i=(e=xt.implementation.createHTMLDocument("")).createElement("base")).href=xt.location.href,e.head.appendChild(i)):e=xt),o=!n&&[],(r=$t.exec(t))?[e.createElement(r[1])]:(r=E([t],e,o),o&&o.length&&Et(o).remove(),Et.merge([],r.childNodes)));var i,r,o},Et.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=G(t.slice(a)),t=t.slice(0,a)),yt(e)?(n=e,e=undefined):e&&"object"==typeof e&&(r="POST"),s.length>0&&Et.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?Et("<div>").append(Et.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},Et.expr.pseudos.animated=function(t){return Et.grep(Et.timers,function(e){return t===e.elem}).length},Et.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,u=Et.css(t,"position"),c=Et(t),h={};"static"===u&&(t.style.position="relative"),a=c.offset(),o=Et.css(t,"top"),l=Et.css(t,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(s=(i=c.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),yt(e)&&(e=e.call(t,n,Et.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):c.css(h)}},Et.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){Et.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===Et.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===Et.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=Et(t).offset()).top+=Et.css(t,"borderTopWidth",!0),r.left+=Et.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-Et.css(i,"marginTop",!0),left:e.left-r.left-Et.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===Et.css(t,"position");)t=t.offsetParent;return t||ee})}}),Et.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;Et.fn[t]=function(i){return Ut(this,function(t,i,r){var o;if(bt(t)?o=t:9===t.nodeType&&(o=t.defaultView),r===undefined)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),Et.each(["top","left"],function(t,e){Et.cssHooks[e]=q(vt.pixelPosition,function(t,n){if(n)return n=$(t,e),ve.test(n)?Et(t).position()[e]+"px":n})}),Et.each({Height:"height",Width:"width"},function(t,e){Et.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){Et.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return Ut(this,function(e,n,r){var o;return bt(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):r===undefined?Et.css(e,n,a):Et.style(e,n,r,a)},e,s?r:undefined,s)}})}),Et.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Et.fn[e]=function(t){return this.on(e,t)}}),Et.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),Et.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){Et.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}});var un=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;Et.proxy=function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),yt(t)?(i=lt.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(lt.call(arguments)))}).guid=t.guid=t.guid||Et.guid++,r):undefined},Et.holdReady=function(t){t?Et.readyWait++:Et.ready(!0)},Et.isArray=Array.isArray,Et.parseJSON=JSON.parse,Et.nodeName=o,Et.isFunction=yt,Et.isWindow=bt,Et.camelCase=m,Et.type=i,Et.now=Date.now,Et.isNumeric=function(t){var e=Et.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},Et.trim=function(t){return null==t?"":(t+"").replace(un,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return Et});var cn=t.jQuery,hn=t.$;return Et.noConflict=function(e){return t.$===Et&&(t.$=hn),e&&t.jQuery===Et&&(t.jQuery=cn),Et},void 0===e&&(t.jQuery=t.$=Et),Et}),function(){"use strict";var t=function(t,e){var n;t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form:not([data-turbo=true])",formInputClickSelector:"form:not([data-turbo=true]) input[type=submit], form:not([data-turbo=true]) input[type=image], form:not([data-turbo=true]) button[type=submit], form:not([data-turbo=true]) button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=n.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(e,n,i){var r=t.Event(n);return e.trigger(r,i),!1!==r.result},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&!1!==t.data("remote")},handleRemote:function(i){var r,o,s,a,l,u;if(n.fire(i,"ajax:before")){if(a=i.data("with-credentials")||null,l=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){r=i.data("ujs:submit-button-formmethod")||i.attr("method"),o=i.data("ujs:submit-button-formaction")||i.attr("action"),s=t(i[0]).serializeArray();var c=i.data("ujs:submit-button");c&&(s.push(c),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):(r=i.data("method"),o=n.href(i),s=i.data("params")||null);return u={type:r||"GET",data:s,dataType:l,beforeSend:function(t,r){if(r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),!n.fire(i,"ajax:beforeSend",[t,r]))return!1;i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:n.isCrossDomain(o)},a&&(u.xhrFields={withCredentials:a}),o&&(u.url=o),n.ajax(u)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(i){var r=n.href(i),o=i.data("method"),s=i.attr("target"),a=n.csrfToken(),l=n.csrfParam(),u=t('<form method="post" action="'+r+'"></form>'),c='<input name="_method" value="'+o+'" type="hidden" />';l===e||a===e||n.isCrossDomain(r)||(c+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&u.attr("target",s),u.hide().append(c).appendTo("body"),u.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each(function(){n.disableFormElement(t(this))})},disableFormElement:function(t){var n,i;n=t.is("button")?"html":"val",(i=t.data("disable-with"))!==e&&(t.data("ujs:enable-with",t[n]()),t[n](i)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){
n.formElements(e,n.enableSelector).each(function(){n.enableFormElement(t(this))})},enableFormElement:function(t){var n=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[n](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,i=t.data("confirm"),r=!1;if(!i)return!0;if(n.fire(t,"confirm")){try{r=n.confirm(i)}catch(o){(console.error||console.log).call(console,o.stack||o)}e=n.fire(t,"confirm:complete",[r])}return r&&e},blankInputs:function(e,n,i){var r,o,s,a=t(),l=n||"input,textarea",u=e.find(l),c={};return u.each(function(){(r=t(this)).is("input[type=radio]")?(s=r.attr("name"),c[s]||(0===e.find('input[type=radio]:checked[name="'+s+'"]').length&&(o=e.find('input[type=radio][name="'+s+'"]'),a=a.add(o)),c[s]=s)):(r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):!!r.val())===i&&(a=a.add(r))}),!!a.length&&a},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var i=t.data("disable-with");i!==e&&(t.data("ujs:enable-with",t.html()),t.html(i)),t.on("click.railsDisable",function(t){return n.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.off("click.railsDisable"),t.removeData("ujs:disabled")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),i.on("ajax:complete",n.linkDisableSelector,function(){n.enableElement(t(this))}),i.on("ajax:complete",n.buttonDisableSelector,function(){n.enableFormElement(t(this))}),i.on("click.rails",n.linkClickSelector,function(e){var i=t(this),r=i.data("method"),o=i.data("params"),s=e.metaKey||e.ctrlKey;if(!n.allowAction(i))return n.stopEverything(e);if(!s&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(s&&(!r||"GET"===r)&&!o)return!0;var a=n.handleRemote(i);return!1===a?n.enableElement(i):a.fail(function(){n.enableElement(i)}),!1}return r?(n.handleMethod(i),!1):void 0}),i.on("click.rails",n.buttonClickSelector,function(e){var i=t(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(e);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var r=n.handleRemote(i);return!1===r?n.enableFormElement(i):r.fail(function(){n.enableFormElement(i)}),!1}),i.on("change.rails",n.inputChangeSelector,function(e){var i=t(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.on("submit.rails",n.formSubmitSelector,function(i){var r,o,s=t(this),a=n.isRemote(s);if(!n.allowAction(s))return n.stopEverything(i);if(s.attr("novalidate")===e)if(s.data("ujs:formnovalidate-button")===e){if((r=n.blankInputs(s,n.requiredInputSelector,!1))&&n.fire(s,"ajax:aborted:required",[r]))return n.stopEverything(i)}else s.data("ujs:formnovalidate-button",e);if(a){if(o=n.nonBlankInputs(s,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(s)},13);var l=n.fire(s,"ajax:aborted:file",[o]);return l||setTimeout(function(){n.enableFormElements(s)},13),l}return n.handleRemote(s),!1}setTimeout(function(){n.disableFormElements(s)},13)}),i.on("click.rails",n.formInputClickSelector,function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null,s=i.closest("form");0===s.length&&(s=t("#"+i.attr("form"))),s.data("ujs:submit-button",o),s.data("ujs:formnovalidate-button",i.attr("formnovalidate")),s.data("ujs:submit-button-formaction",i.attr("formaction")),s.data("ujs:submit-button-formmethod",i.attr("formmethod"))}),i.on("ajax:send.rails",n.formSubmitSelector,function(e){this===e.target&&n.disableFormElements(t(this))}),i.on("ajax:complete.rails",n.formSubmitSelector,function(e){this===e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))};window.jQuery?t(jQuery):"object"==typeof exports&&"object"==typeof module&&(module.exports=t)}(),
/*
Turbolinks 5.2.0
Copyright  2018 Basecamp, LLC
 */
function(){var t=this;(function(){(function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,visit:function(t,n){return e.controller.visit(t,n)},clearCache:function(){return e.controller.clearCache()},setProgressBarDelay:function(t){return e.controller.setProgressBarDelay(t)}}}).call(this)}).call(t);var e=t.Turbolinks;(function(){(function(){var t,n,i,r=[].slice;e.copyObject=function(t){var e,n,i;for(e in n={},t)i=t[e],n[e]=i;return n},e.closest=function(e,n){return t.call(e,n)},t=function(){var t;return null!=(t=document.documentElement.closest)?t:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&n.call(e,t))return e;e=e.parentNode}}}(),e.defer=function(t){return setTimeout(t,1)},e.throttle=function(t){var e;return e=null,function(){var n,i;return n=1<=arguments.length?r.call(arguments,0):[],null!=e?e:e=requestAnimationFrame((i=this,function(){return e=null,t.apply(i,n)}))}},e.dispatch=function(t,e){var n,r,o,s,a,l;return l=(a=null!=e?e:{}).target,n=a.cancelable,r=a.data,(o=document.createEvent("Events")).initEvent(t,!0,!0===n),o.data=null!=r?r:{},o.cancelable&&!i&&(s=o.preventDefault,o.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),s.call(this)}),(null!=l?l:document).dispatchEvent(o),o},i=function(){var t;return(t=document.createEvent("Events")).initEvent("test",!0,!0),t.preventDefault(),t.defaultPrevented}(),e.match=function(t,e){return n.call(t,e)},n=function(){var t,e,n,i;return null!=(e=null!=(n=null!=(i=(t=document.documentElement).matchesSelector)?i:t.webkitMatchesSelector)?n:t.msMatchesSelector)?e:t.mozMatchesSelector}(),e.uuid=function(){var t,e,n;for(n="",t=e=1;36>=e;t=++e)n+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}).call(this),function(){e.Location=function(){function t(t){var e,n;null==t&&(t=""),(n=document.createElement("a")).href=t.toString(),this.absoluteURL=n.href,2>(e=n.hash.length)?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=n.hash.slice(1))}var e,n,i,r;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=n(t),this.isEqualTo(t)||r(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},n=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return i(t,"/")?t:t+"/"},r=function(t,e){return t.slice(0,e.length)===e},i=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.HttpRequest=function(){function n(n,i,r){this.delegate=n,this.requestCanceled=t(this.requestCanceled,this),this.requestTimedOut=t(this.requestTimedOut,this),this.requestFailed=t(this.requestFailed,this),this.requestLoaded=t(this.requestLoaded,this),this.requestProgressed=t(this.requestProgressed,this),this.url=e.Location.wrap(i).requestURL,this.referrer=e.Location.wrap(r).absoluteURL,this.createXHR()}return n.NETWORK_FAILURE=0,n.TIMEOUT_FAILURE=-1,n.timeout=60,n.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},n.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},n.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},n.prototype.requestLoaded=function(){return this.endRequest((t=this,function(){var e;return 200<=(e=t.xhr.status)&&300>e?t.delegate.requestCompletedWithResponse(t.xhr.responseText,t.xhr.getResponseHeader("Turbolinks-Location")):(t.failed=!0,t.delegate.requestFailedWithStatusCode(t.xhr.status,t.xhr.responseText))}));var t},n.prototype.requestFailed=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}));var t},n.prototype.requestTimedOut=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}));var t},n.prototype.requestCanceled=function(){return this.endRequest()},n.prototype.notifyApplicationBeforeRequestStart=function(){return e.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},n.prototype.notifyApplicationAfterRequestEnd=function(){return e.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},n.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},n.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},n.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},n.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},n}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.ProgressBar=function(){function e(){this.trickle=t(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var n;return n=300,e.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+n+"ms ease-out, opacity "+n/2+"ms "+n/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",e.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},e.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement((t=this,function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}))):void 0;var t},e.prototype.setValue=function(t){return this.value=t,this.refresh()},e.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},e.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},e.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*n)},e.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},e.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,n)},e.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},e.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},e.prototype.refresh=function(){return requestAnimationFrame((t=this,function(){return t.progressElement.style.width=10+90*t.value+"%"}));var t},e.prototype.createStylesheetElement=function(){var t;return(t=document.createElement("style")).type="text/css",t.textContent=this.constructor.defaultCSS,t},e.prototype.createProgressElement=function(){var t;return(t=document.createElement("div")).className="turbolinks-progress-bar",t},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.BrowserAdapter=function(){function n(n){this.controller=n,this.showProgressBar=t(this.showProgressBar,this),this.progressBar=new e.ProgressBar}var i,r,o;return o=e.HttpRequest,i=o.NETWORK_FAILURE,r=o.TIMEOUT_FAILURE,n.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},n.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},n.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},n.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},n.prototype.visitRequestCompleted=function(t){return t.loadResponse()},n.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case i:case r:return this.reload();default:return t.loadResponse()}},n.prototype.visitRequestFinished=function(){return this.hideProgressBar()},n.prototype.visitCompleted=function(t){return t.followRedirect()},n.prototype.pageInvalidated=function(){return this.reload()},n.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},n.prototype.showProgressBar=function(){return this.progressBar.show()},n.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},n.prototype.reload=function(){return window.location.reload()},n}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.History=function(){function n(e){this.delegate=e,this.onPageLoad=t(this.onPageLoad,this),this.onPopState=t(this.onPopState,this)}return n.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},n.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},n.prototype.push=function(t,n){return t=e.Location.wrap(t),this.update("push",t,n)},n.prototype.replace=function(t,n){return t=e.Location.wrap(t),this.update("replace",t,n)},n.prototype.onPopState=function(t){var n,i,r,o;return this.shouldHandlePopState()&&(o=null!=(i=t.state)?i.turbolinks:void 0)?(n=e.Location.wrap(window.location),r=o.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(n,r)):void 0},n.prototype.onPageLoad=function(){return e.defer(function(t){return function(){return t.pageLoaded=!0}}(this))},n.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},n.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},n.prototype.update=function(t,e,n){var i;return i={turbolinks:{restorationIdentifier:n}},history[t+"State"](i,null,e)},n}()}.call(this),function(){e.HeadDetails=function(){function t(t){var e,n,i,s,a;for(this.elements={},n=0,s=t.length;s>n;n++)(a=t[n]).nodeType===Node.ELEMENT_NODE&&(i=a.outerHTML,(null!=(e=this.elements)[i]?e[i]:e[i]={type:o(a),tracked:r(a),elements:[]}).elements.push(a))}var e,n,i,r,o;return t.fromHeadElement=function(t){var e;return new this(null!=(e=null!=t?t.childNodes:void 0)?e:[])},t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var t;return function(){var e,n;for(t in n=[],e=this.elements)e[t].tracked&&n.push(t);return n}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var n,i,r,o,s,a;for(i in s=[],r=this.elements)a=(o=r[i]).type,n=o.elements,a!==t||e.hasElementWithKey(i)||s.push(n[0]);return s},t.prototype.getProvisionalElements=function(){var t,e,n,i,r,o,s;for(e in n=[],i=this.elements)s=(r=i[e]).type,o=r.tracked,t=r.elements,null!=s||o?t.length>1&&n.push.apply(n,t.slice(1)):n.push.apply(n,t);return n},t.prototype.getMetaValue=function(t){var e;return null!=(e=this.findMetaElementByName(t))?e.getAttribute("content"):void 0},t.prototype.findMetaElementByName=function(t){var n,i,r,o;for(r in n=void 0,o=this.elements)i=o[r].elements,e(i[0],t)&&(n=i[0]);return n},o=function(t){return n(t)?"script":i(t)?"stylesheet":void 0},r=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},n=function(t){return"script"===t.tagName.toLowerCase()},i=function(t){var e;return"style"===(e=t.tagName.toLowerCase())||"link"===e&&"stylesheet"===t.getAttribute("rel")},e=function(t,e){return"meta"===t.tagName.toLowerCase()&&t.getAttribute("name")===e},t}()}.call(this),function(){e.Snapshot=function(){function t(t,e){this.headDetails=t,this.bodyElement=e}return t.wrap=function(t){return t instanceof this?t:"string"==typeof t?this.fromHTMLString(t):this.fromHTMLElement(t)},t.fromHTMLString=function(t){var e;return(e=document.createElement("html")).innerHTML=t,this.fromHTMLElement(e)},t.fromHTMLElement=function(t){var n,i,r;return i=t.querySelector("head"),n=null!=(r=t.querySelector("body"))?r:document.createElement("body"),new this(e.HeadDetails.fromHeadElement(i),n)},t.prototype.clone=function(){return new this.constructor(this.headDetails,this.bodyElement.cloneNode(!0))},t.prototype.getRootLocation=function(){var t,n;return n=null!=(t=this.getSetting("root"))?t:"/",new e.Location(n)},t.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},t.prototype.getElementForAnchor=function(t){try{return this.bodyElement.querySelector("[id='"+t+"'], a[name='"+t+"']")}catch(e){}},t.prototype.getPermanentElements=function(){return this.bodyElement.querySelectorAll("[id][data-turbolinks-permanent]")},t.prototype.getPermanentElementById=function(t){return this.bodyElement.querySelector("#"+t+"[data-turbolinks-permanent]")},t.prototype.getPermanentElementsPresentInSnapshot=function(t){var e,n,i,r,o;for(o=[],n=0,i=(r=this.getPermanentElements()).length;i>n;n++)e=r[n],t.getPermanentElementById(e.id)&&o.push(e);return o},t.prototype.findFirstAutofocusableElement=function(){return this.bodyElement.querySelector("[autofocus]")},t.prototype.hasAnchor=function(t){return null!=this.getElementForAnchor(t)},t.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},t.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},t.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},t.prototype.getSetting=function(t){return this.headDetails.getMetaValue("turbolinks-"+t)},t}()}.call(this),function(){var t=[].slice;e.Renderer=function(){function e(){}var n;return e.render=function(){var e,n,i;return n=arguments[0],e=arguments[1],(i=function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(this,3<=arguments.length?t.call(arguments,2):[],function(){})).delegate=n,i.render(e),i},e.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},e.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},e.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:((e=document.createElement("script")).textContent=t.textContent,e.async=!1,n(e,t),e)},n=function(t,e){var n,i,r,o,s,a,l;for(a=[],n=0,i=(o=e.attributes).length;i>n;n++)r=(s=o[n]).name,l=s.value,a.push(t.setAttribute(r,l));return a},e}()}.call(this),function(){var t,n,i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;e.SnapshotRenderer=function(e){function r(t,e,n){this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=n,this.currentHeadDetails=this.currentSnapshot.headDetails,this.newHeadDetails=this.newSnapshot.headDetails,this.currentBody=this.currentSnapshot.bodyElement,this.newBody=this.newSnapshot.bodyElement}return i(r,e),r.prototype.render=function(t){return this.shouldRender()?(this.mergeHead(),this.renderView((e=this,function(){return e.replaceBody(),e.isPreview||e.focusFirstAutofocusableElement(),t()}))):this.invalidateView();var e},r.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},r.prototype.replaceBody=function(){var t;return t=this.relocateCurrentBodyPermanentElements(),this.activateNewBodyScriptElements(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(t)},r.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},r.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},r.prototype.copyNewHeadStylesheetElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadStylesheetElements()).length;n>e;e++)t=i[e],r.push(document.head.appendChild(t));return r},r.prototype.copyNewHeadScriptElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadScriptElements()).length;n>e;e++)t=i[e],r.push(document.head.appendChild(this.createScriptElement(t)));return r},r.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getCurrentHeadProvisionalElements()).length;n>e;e++)t=i[e],r.push(document.head.removeChild(t));return r},r.prototype.copyNewHeadProvisionalElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadProvisionalElements()).length;n>e;e++)t=i[e],r.push(document.head.appendChild(t));return r},r.prototype.relocateCurrentBodyPermanentElements=function(){var e,i,r,o,s,a,l;for(l=[],e=0,i=(a=this.getCurrentBodyPermanentElements()).length;i>e;e++)o=a[e],s=t(o),r=this.newSnapshot.getPermanentElementById(o.id),n(o,s.element),n(r,o),l.push(s);return l},r.prototype.replacePlaceholderElementsWithClonedPermanentElements=function(t){var e,i,r,o,s,a;for(a=[],r=0,o=t.length;o>r;r++)i=(s=t[r]).element,e=s.permanentElement.cloneNode(!0),a.push(n(i,e));return a},r.prototype.activateNewBodyScriptElements=function(){var t,e,i,r,o,s;for(s=[],e=0,r=(o=this.getNewBodyScriptElements()).length;r>e;e++)i=o[e],t=this.createScriptElement(i),s.push(n(i,t));return s},r.prototype.assignNewBody=function(){return document.body=this.newBody},r.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.newSnapshot.findFirstAutofocusableElement())?t.focus():void 0},r.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},r.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},r.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},r.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},r.prototype.getCurrentBodyPermanentElements=function(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)},r.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},r}(e.Renderer),t=function(t){var e;return(e=document.createElement("meta")).setAttribute("name","turbolinks-permanent-placeholder"),e.setAttribute("content",t.id),{element:e,permanentElement:t}},n=function(t,e){var n;return(n=t.parentNode)?n.replaceChild(e,t):void 0}}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.ErrorRenderer=function(e){function n(t){var e;(e=document.createElement("html")).innerHTML=t,this.newHead=e.querySelector("head"),this.newBody=e.querySelector("body")}return t(n,e),n.prototype.render=function(t){return this.renderView((e=this,function(){return e.replaceHeadAndBody(),e.activateBodyScriptElements(),t()}));var e},n.prototype.replaceHeadAndBody=function(){var t,e;return e=document.head,t=document.body,e.parentNode.replaceChild(this.newHead,e),t.parentNode.replaceChild(this.newBody,t)},n.prototype.activateBodyScriptElements=function(){var t,e,n,i,r,o;for(o=[],e=0,n=(i=this.getScriptElements()).length;n>e;e++)r=i[e],t=this.createScriptElement(r),o.push(r.parentNode.replaceChild(t,r));return o},n.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},n}(e.Renderer)}.call(this),function(){e.View=function(){function t(t){this.delegate=t,this.htmlElement=document.documentElement}return t.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},t.prototype.getElementForAnchor=function(t){return this.getSnapshot().getElementForAnchor(t)},t.prototype.getSnapshot=function(){return e.Snapshot.fromHTMLElement(this.htmlElement)},t.prototype.render=function(t,e){var n,i,r;return r=t.snapshot,n=t.error,i=t.isPreview,this.markAsPreview(i),null!=r?this.renderSnapshot(r,i,e):this.renderError(n,e)},t.prototype.markAsPreview=function(t){return t?this.htmlElement.setAttribute("data-turbolinks-preview",""):this.htmlElement.removeAttribute("data-turbolinks-preview")},t.prototype.renderSnapshot=function(t,n,i){return e.SnapshotRenderer.render(this.delegate,i,this.getSnapshot(),e.Snapshot.wrap(t),n)},t.prototype.renderError=function(t,n){return e.ErrorRenderer.render(this.delegate,n,t)},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.ScrollManager=function(){function n(n){this.delegate=n,this.onScroll=t(this.onScroll,this),this.onScroll=e.throttle(this.onScroll)}return n.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},n.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},n.prototype.scrollToElement=function(t){return t.scrollIntoView()},n.prototype.scrollToPosition=function(t){var e,n;return e=t.x,n=t.y,window.scrollTo(e,n)},n.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},n.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},n}()}.call(this),function(){e.SnapshotCache=function(){function t(t){this.size=t,this.keys=[],this.snapshots={}}var n;return t.prototype.has=function(t){return n(t)in this.snapshots},t.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},t.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},t.prototype.read=function(t){var e;return e=n(t),this.snapshots[e]},t.prototype.write=function(t,e){var i;return i=n(t),this.snapshots[i]=e},t.prototype.touch=function(t){var e,i;return i=n(t),(e=this.keys.indexOf(i))>-1&&this.keys.splice(e,1),this.keys.unshift(i),this.trim()},t.prototype.trim=function(){var t,e,n,i,r;for(r=[],t=0,n=(i=this.keys.splice(this.size)).length;n>t;t++)e=i[t],r.push(delete this.snapshots[e]);return r},n=function(t){return e.Location.wrap(t).toCacheKey()},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.Visit=function(){function n(n,i,r){this.controller=n,this.action=r,this.performScroll=t(this.performScroll,this),this.identifier=e.uuid(),this.location=e.Location.wrap(i),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var i;return n.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},n.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},n.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},n.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},n.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=i(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},n.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new e.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},n.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},n.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},n.prototype.loadCachedSnapshot=function(){var t,e;return(e=this.getCachedSnapshot())?(t=this.shouldIssueRequest(),this.render(function(){var n;return this.cacheSnapshot(),this.controller.render({snapshot:e,isPreview:t},this.performScroll),"function"==typeof(n=this.adapter).visitRendered&&n.visitRendered(this),t?void 0:this.complete()})):void 0},n.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},n.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},n.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},n.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},n.prototype.requestCompletedWithResponse=function(t,n){return this.response=t,null!=n&&(this.redirectedToLocation=e.Location.wrap(n)),this.adapter.visitRequestCompleted(this)},n.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},n.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},n.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},n.prototype.scrollToRestoredPosition=function(){var t,e;return null!=(t=null!=(e=this.restorationData)?e.scrollPosition:void 0)?(this.controller.scrollToPosition(t),!0):void 0},n.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},n.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},n.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},n.prototype.getTimingMetrics=function(){return e.copyObject(this.timingMetrics)},i=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},n.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},n.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},n.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame((e=this,function(){return e.frame=null,t.call(e)}));var e},n.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},n}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.Controller=function(){function n(){this.clickBubbled=t(this.clickBubbled,this),this.clickCaptured=t(this.clickCaptured,this),this.pageLoaded=t(this.pageLoaded,this),this.history=new e.History(this),this.view=new e.View(this),this.scrollManager=new e.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return n.prototype.start=function(){return e.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},n.prototype.disable=function(){return this.enabled=!1},n.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},n.prototype.clearCache=function(){return this.cache=new e.SnapshotCache(10)},n.prototype.visit=function(t,n){var i,r;return null==n&&(n={}),t=e.Location.wrap(t),this.applicationAllowsVisitingLocation(t)?this.locationIsVisitable(t)?(i=null!=(r=n.action)?r:"advance",this.adapter.visitProposedToLocationWithAction(t,i)):window.location=t:void 0},n.prototype.startVisitToLocationWithAction=function(t,n,i){var r;return e.supported?(r=this.getRestorationDataForIdentifier(i),this.startVisit(t,n,{restorationData:r})):window.location=t},n.prototype.setProgressBarDelay=function(t){return this.progressBarDelay=t},n.prototype.startHistory=function(){return this.location=e.Location.wrap(window.location),this.restorationIdentifier=e.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},n.prototype.stopHistory=function(){return this.history.stop()},n.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(t,n){return this.restorationIdentifier=n,this.location=e.Location.wrap(t),this.history.push(this.location,this.restorationIdentifier)},n.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(t,n){return this.restorationIdentifier=n,this.location=e.Location.wrap(t),this.history.replace(this.location,this.restorationIdentifier)},n.prototype.historyPoppedToLocationWithRestorationIdentifier=function(t,n){var i;return this.restorationIdentifier=n,this.enabled?(i=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(t,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:i,historyChanged:!0}),this.location=e.Location.wrap(t)):this.adapter.pageInvalidated()},n.prototype.getCachedSnapshotForLocation=function(t){var e;return null!=(e=this.cache.get(t))?e.clone():void 0},n.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},n.prototype.cacheSnapshot=function(){var t,n;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),n=this.view.getSnapshot(),t=this.lastRenderedLocation,e.defer(function(e){
return function(){return e.cache.put(t,n.clone())}}(this))):void 0},n.prototype.scrollToAnchor=function(t){var e;return(e=this.view.getElementForAnchor(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},n.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},n.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},n.prototype.scrollPositionChanged=function(t){return this.getCurrentRestorationData().scrollPosition=t},n.prototype.render=function(t,e){return this.view.render(t,e)},n.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},n.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},n.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},n.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},n.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},n.prototype.clickBubbled=function(t){var e,n,i;return this.enabled&&this.clickEventIsSignificant(t)&&(n=this.getVisitableLinkForNode(t.target))&&(i=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,i)?(t.preventDefault(),e=this.getActionForLink(n),this.visit(i,{action:e})):void 0},n.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){return!this.notifyApplicationAfterClickingLinkToLocation(t,e).defaultPrevented},n.prototype.applicationAllowsVisitingLocation=function(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented},n.prototype.notifyApplicationAfterClickingLinkToLocation=function(t,n){return e.dispatch("turbolinks:click",{target:t,data:{url:n.absoluteURL},cancelable:!0})},n.prototype.notifyApplicationBeforeVisitingLocation=function(t){return e.dispatch("turbolinks:before-visit",{data:{url:t.absoluteURL},cancelable:!0})},n.prototype.notifyApplicationAfterVisitingLocation=function(t){return e.dispatch("turbolinks:visit",{data:{url:t.absoluteURL}})},n.prototype.notifyApplicationBeforeCachingSnapshot=function(){return e.dispatch("turbolinks:before-cache")},n.prototype.notifyApplicationBeforeRender=function(t){return e.dispatch("turbolinks:before-render",{data:{newBody:t}})},n.prototype.notifyApplicationAfterRender=function(){return e.dispatch("turbolinks:render")},n.prototype.notifyApplicationAfterPageLoad=function(t){return null==t&&(t={}),e.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:t}})},n.prototype.startVisit=function(t,e,n){var i;return null!=(i=this.currentVisit)&&i.cancel(),this.currentVisit=this.createVisit(t,e,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},n.prototype.createVisit=function(t,n,i){var r,o,s,a,l;return a=(o=null!=i?i:{}).restorationIdentifier,s=o.restorationData,r=o.historyChanged,(l=new e.Visit(this,t,n)).restorationIdentifier=null!=a?a:e.uuid(),l.restorationData=e.copyObject(s),l.historyChanged=r,l.referrer=this.location,l},n.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},n.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},n.prototype.getVisitableLinkForNode=function(t){return this.nodeIsVisitable(t)?e.closest(t,"a[href]:not([target]):not([download])"):void 0},n.prototype.getVisitableLocationForLink=function(t){var n;return n=new e.Location(t.getAttribute("href")),this.locationIsVisitable(n)?n:void 0},n.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},n.prototype.nodeIsVisitable=function(t){var n;return!(n=e.closest(t,"[data-turbolinks]"))||"false"!==n.getAttribute("data-turbolinks")},n.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},n.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},n.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},n}()}.call(this),function(){!function(){var t,e;if((t=e=document.currentScript)&&!e.hasAttribute("data-turbolinks-suppress-warning"))for(;t=t.parentNode;)if(t===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\u2014\u2014\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",e.outerHTML)}()}.call(this),function(){var t,n,i;e.start=function(){return n()?(null==e.controller&&(e.controller=t()),e.controller.start()):void 0},n=function(){return null==window.Turbolinks&&(window.Turbolinks=e),i()},t=function(){var t;return(t=new e.Controller).adapter=new e.BrowserAdapter(t),t},(i=function(){return window.Turbolinks===e})()&&e.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd&&define(e)}.call(this),
/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bzier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bzier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bzier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.SignaturePad=e()}(this,function(){"use strict";function t(t,e,n){this.x=t,this.y=e,this.time=n||(new Date).getTime()}function e(t,e,n,i){this.startPoint=t,this.control1=e,this.control2=n,this.endPoint=i}function n(t,e,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=!1===n.leading?0:Date.now(),s=null,o=t.apply(i,r),s||(i=r=null)};return function(){var u=Date.now();a||!1!==n.leading||(a=u);var c=e-(u-a);return i=this,r=arguments,c<=0||c>e?(s&&(clearTimeout(s),s=null),a=u,o=t.apply(i,r),s||(i=r=null)):s||!1===n.trailing||(s=setTimeout(l,c)),o}}function i(t,e){var r=this,o=e||{};this.velocityFilterWeight=o.velocityFilterWeight||.7,this.minWidth=o.minWidth||.5,this.maxWidth=o.maxWidth||2.5,this.throttle="throttle"in o?o.throttle:16,this.minDistance="minDistance"in o?o.minDistance:5,this.throttle?this._strokeMoveUpdate=n(i.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=i.prototype._strokeUpdate,this.dotSize=o.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=o.penColor||"black",this.backgroundColor=o.backgroundColor||"rgba(0,0,0,0)",this.onBegin=o.onBegin,this.onEnd=o.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(t){1===t.which&&(r._mouseButtonDown=!0,r._strokeBegin(t))},this._handleMouseMove=function(t){r._mouseButtonDown&&r._strokeMoveUpdate(t)},this._handleMouseUp=function(t){1===t.which&&r._mouseButtonDown&&(r._mouseButtonDown=!1,r._strokeEnd(t))},this._handleTouchStart=function(t){if(1===t.targetTouches.length){var e=t.changedTouches[0];r._strokeBegin(e)}},this._handleTouchMove=function(t){t.preventDefault();var e=t.targetTouches[0];r._strokeMoveUpdate(e)},this._handleTouchEnd=function(t){t.target===r._canvas&&(t.preventDefault(),r._strokeEnd(t))},this.on()}return t.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1},t.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time},e.prototype.length=function(){for(var t=10,e=0,n=void 0,i=void 0,r=0;r<=t;r+=1){var o=r/t,s=this._point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this._point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(r>0){var l=s-n,u=a-i;e+=Math.sqrt(l*l+u*u)}n=s,i=a}return e},e.prototype._point=function(t,e,n,i,r){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*i*(1-t)*t*t+r*t*t*t},i.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0},i.prototype.fromDataURL=function(t){var e=this,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=new Image,r=n.ratio||window.devicePixelRatio||1,o=n.width||this._canvas.width/r,s=n.height||this._canvas.height/r;this._reset(),i.src=t,i.onload=function(){e._ctx.drawImage(i,0,0,o,s)},this._isEmpty=!1},i.prototype.toDataURL=function(t){var e;switch(t){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return(e=this._canvas).toDataURL.apply(e,[t].concat(i))}},i.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},i.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},i.prototype.isEmpty=function(){return this._isEmpty},i.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),"function"==typeof this.onBegin&&this.onBegin(t)},i.prototype._strokeUpdate=function(t){var e=t.clientX,n=t.clientY,i=this._createPoint(e,n),r=this._data[this._data.length-1],o=r&&r[r.length-1],s=o&&i.distanceTo(o)<this.minDistance;if(!o||!s){var a=this._addPoint(i),l=a.curve,u=a.widths;l&&u&&this._drawCurve(l,u.start,u.end),this._data[this._data.length-1].push({x:i.x,y:i.y,time:i.time,color:this.penColor})}},i.prototype._strokeEnd=function(t){var e=this.points.length>2,n=this.points[0];if(!e&&n&&this._drawDot(n),n){var i=this._data[this._data.length-1],r=i[i.length-1];n.equals(r)||i.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}"function"==typeof this.onEnd&&this.onEnd(t)},i.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},i.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},i.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},i.prototype._createPoint=function(e,n,i){var r=this._canvas.getBoundingClientRect();return new t(e-r.left,n-r.top,i||(new Date).getTime())},i.prototype._addPoint=function(t){var n=this.points;if(n.push(t),n.length>2){3===n.length&&n.unshift(n[0]);var i=this._calculateCurveControlPoints(n[0],n[1],n[2]).c2,r=this._calculateCurveControlPoints(n[1],n[2],n[3]).c1,o=new e(n[1],i,r,n[2]),s=this._calculateCurveWidths(o);return n.shift(),{curve:o,widths:s}}return{}},i.prototype._calculateCurveControlPoints=function(e,n,i){var r=e.x-n.x,o=e.y-n.y,s=n.x-i.x,a=n.y-i.y,l={x:(e.x+n.x)/2,y:(e.y+n.y)/2},u={x:(n.x+i.x)/2,y:(n.y+i.y)/2},c=Math.sqrt(r*r+o*o),h=Math.sqrt(s*s+a*a),d=l.x-u.x,f=l.y-u.y,p=h/(c+h),m={x:u.x+d*p,y:u.y+f*p},g=n.x-m.x,v=n.y-m.y;return{c1:new t(l.x+g,l.y+v),c2:new t(u.x+g,u.y+v)}},i.prototype._calculateCurveWidths=function(t){var e=t.startPoint,n=t.endPoint,i={start:null,end:null},r=this.velocityFilterWeight*n.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,o=this._strokeWidth(r);return i.start=this._lastWidth,i.end=o,this._lastVelocity=r,this._lastWidth=o,i},i.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)},i.prototype._drawPoint=function(t,e,n){var i=this._ctx;i.moveTo(t,e),i.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1},i.prototype._drawCurve=function(t,e,n){var i=this._ctx,r=n-e,o=Math.floor(t.length());i.beginPath();for(var s=0;s<o;s+=1){var a=s/o,l=a*a,u=l*a,c=1-a,h=c*c,d=h*c,f=d*t.startPoint.x;f+=3*h*a*t.control1.x,f+=3*c*l*t.control2.x,f+=u*t.endPoint.x;var p=d*t.startPoint.y;p+=3*h*a*t.control1.y,p+=3*c*l*t.control2.y,p+=u*t.endPoint.y;var m=e+u*r;this._drawPoint(f,p,m)}i.closePath(),i.fill()},i.prototype._drawDot=function(t){var e=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,n),e.closePath(),e.fill()},i.prototype._fromData=function(e,n,i){for(var r=0;r<e.length;r+=1){var o=e[r];if(o.length>1)for(var s=0;s<o.length;s+=1){var a=o[s],l=new t(a.x,a.y,a.time),u=a.color;if(0===s)this.penColor=u,this._reset(),this._addPoint(l);else if(s!==o.length-1){var c=this._addPoint(l),h=c.curve,d=c.widths;h&&d&&n(h,d,u)}}else this._reset(),i(o[0])}},i.prototype._toSVG=function(){var t=this,e=this._data,n=this._canvas,i=Math.max(window.devicePixelRatio||1,1),r=0,o=0,s=n.width/i,a=n.height/i,l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttributeNS(null,"width",n.width),l.setAttributeNS(null,"height",n.height),this._fromData(e,function(t,e,n){var i=document.createElement("path");if(!(isNaN(t.control1.x)||isNaN(t.control1.y)||isNaN(t.control2.x)||isNaN(t.control2.y))){var r="M "+t.startPoint.x.toFixed(3)+","+t.startPoint.y.toFixed(3)+" C "+t.control1.x.toFixed(3)+","+t.control1.y.toFixed(3)+" "+t.control2.x.toFixed(3)+","+t.control2.y.toFixed(3)+" "+t.endPoint.x.toFixed(3)+","+t.endPoint.y.toFixed(3);i.setAttribute("d",r),i.setAttribute("stroke-width",(2.25*e.end).toFixed(3)),i.setAttribute("stroke",n),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),l.appendChild(i)}},function(e){var n=document.createElement("circle"),i="function"==typeof t.dotSize?t.dotSize():t.dotSize;n.setAttribute("r",i),n.setAttribute("cx",e.x),n.setAttribute("cy",e.y),n.setAttribute("fill",e.color),l.appendChild(n)});var u="data:image/svg+xml;base64,",c='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="'+r+" "+o+" "+s+" "+a+'" width="'+s+'" height="'+a+'">',h=l.innerHTML;if(h===undefined){var d=document.createElement("dummy"),f=l.childNodes;d.innerHTML="";for(var p=0;p<f.length;p+=1)d.appendChild(f[p].cloneNode(!0));h=d.innerHTML}return u+btoa(c+h+"</svg>")},i.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,function(t,n){return e._drawCurve(t,n.start,n.end)},function(t){return e._drawDot(t)}),this._data=t},i.prototype.toData=function(){return this._data},i});var numeric="undefined"==typeof exports?function(){}:exports;"undefined"!=typeof global&&(global.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(t,e){var n,i,r;for(void 0===e&&(e=15),i=.5,n=new Date;;){for(r=i*=2;r>3;r-=4)t(),t(),t(),t();for(;r>0;)t(),r--;if(new Date-n>e)break}for(r=i;r>3;r-=4)t(),t(),t(),t();for(;r>0;)t(),r--;return 1e3*(3*i-1)/(new Date-n)},numeric._myIndexOf=function(t){var e,n=this.length;for(e=0;e<n;++e)if(this[e]===t)return e;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(t){function e(t){if(0===t)return"0";if(isNaN(t))return"NaN";if(t<0)return"-"+e(-t);if(isFinite(t)){var n=Math.floor(Math.log(t)/Math.log(10)),i=t/Math.pow(10,n),r=i.toPrecision(numeric.precision);return 10===parseFloat(r)&&(n++,r=(i=1).toPrecision(numeric.precision)),parseFloat(r).toString()+"e"+n.toString()}return"Infinity"}function n(t){var r;if(void 0===t)return i.push(Array(numeric.precision+8).join(" ")),!1;if("string"==typeof t)return i.push('"'+t+'"'),!1;if("boolean"==typeof t)return i.push(t.toString()),!1;if("number"==typeof t){var o=e(t),s=t.toPrecision(numeric.precision),a=parseFloat(t.toString()).toString(),l=[o,s,a,parseFloat(s).toString(),parseFloat(a).toString()];for(r=1;r<l.length;r++)l[r].length<o.length&&(o=l[r]);return i.push(Array(numeric.precision+8-o.length).join(" ")+o),!1}if(null===t)return i.push("null"),!1;if("function"==typeof t){i.push(t.toString());var u=!1;for(r in t)t.hasOwnProperty(r)&&(u?i.push(",\n"):i.push("\n{"),u=!0,i.push(r),i.push(": \n"),n(t[r]));return u&&i.push("}\n"),!0}if(t instanceof Array){if(t.length>numeric.largeArray)return i.push("...Large Array..."),!0;u=!1;for(i.push("["),r=0;r<t.length;r++)r>0&&(i.push(","),u&&i.push("\n ")),u=n(t[r]);return i.push("]"),!0}i.push("{");u=!1;for(r in t)t.hasOwnProperty(r)&&(u&&i.push(",\n"),u=!0,i.push(r),i.push(": \n"),n(t[r]));return i.push("}"),!0}var i=[];return n(t),i.join("")},numeric.parseDate=function(t){function e(t){if("string"==typeof t)return Date.parse(t.replace(/-/g,"/"));if(t instanceof Array){var n,i=[];for(n=0;n<t.length;n++)i[n]=e(t[n]);return i}throw new Error("parseDate: parameter must be arrays of strings")}return e(t)},numeric.parseFloat=function(t){function e(t){if("string"==typeof t)return parseFloat(t);if(t instanceof Array){var n,i=[];for(n=0;n<t.length;n++)i[n]=e(t[n]);return i}throw new Error("parseFloat: parameter must be arrays of strings")}return e(t)},numeric.parseCSV=function(t){var e,n,i=t.split("\n"),r=[],o=/(([^'",]*)|('[^']*')|("[^"]*")),/g,s=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,a=function(t){return t.substr(0,t.length-1)},l=0;for(n=0;n<i.length;n++){var u,c=(i[n]+",").match(o);if(c.length>0){for(r[l]=[],e=0;e<c.length;e++)u=a(c[e]),s.test(u)?r[l][e]=parseFloat(u):r[l][e]=u;l++}}return r},numeric.toCSV=function(t){var e,n,i,r,o,s=numeric.dim(t);for(i=s[0],s[1],o=[],e=0;e<i;e++){for(r=[],n=0;n<i;n++)r[n]=t[e][n].toString();o[e]=r.join(", ")}return o.join("\n")+"\n"},numeric.getURL=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(),e},numeric.imageURL=function(t){function e(t){var e,n,i,r,o,s,a,l,u=t.length,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h="";for(e=0;e<u;e+=3)o=(n=t[e])>>2,s=((3&n)<<4)+((i=t[e+1])>>4),a=((15&i)<<2)+((r=t[e+2])>>6),l=63&r,e+1>=u?a=l=64:e+2>=u&&(l=64),h+=c.charAt(o)+c.charAt(s)+c.charAt(a)+c.charAt(l);return h}function n(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length);var i,r=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o=-1;t.length;for(i=e;i<n;i++)o=o>>>8^r[255&(o^t[i])];return-1^o}var i,r,o,s,a,l,u,c,h,d,f=t[0].length,p=t[0][0].length,m=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,p>>24&255,p>>16&255,p>>8&255,255&p,f>>24&255,f>>16&255,f>>8&255,255&f,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(d=n(m,12,29),m[29]=d>>24&255,m[30]=d>>16&255,m[31]=d>>8&255,m[32]=255&d,i=1,r=0,u=0;u<f;u++){for(u<f-1?m.push(0):m.push(1),a=3*p+1+(0===u)&255,l=3*p+1+(0===u)>>8&255,m.push(a),m.push(l),m.push(255&~a),m.push(255&~l),0===u&&m.push(0),c=0;c<p;c++)for(o=0;o<3;o++)r=(r+(i=(i+(a=(a=t[o][u][c])>255?255:a<0?0:Math.round(a)))%65521))%65521,m.push(a);m.push(0)}return h=(r<<16)+i,m.push(h>>24&255),m.push(h>>16&255),m.push(h>>8&255),m.push(255&h),s=m.length-41,m[33]=s>>24&255,m[34]=s>>16&255,m[35]=s>>8&255,m[36]=255&s,d=n(m,37),m.push(d>>24&255),m.push(d>>16&255),m.push(d>>8&255),m.push(255&d),m.push(0),m.push(0),m.push(0),m.push(0),m.push(73),m.push(69),m.push(78),m.push(68),m.push(174),m.push(66),m.push(96),m.push(130),"data:image/png;base64,"+e(m)},numeric._dim=function(t){for(var e=[];"object"==typeof t;)e.push(t.length),t=t[0];return e},numeric.dim=function(t){var e;return"object"==typeof t?"object"==typeof(e=t[0])?"object"==typeof e[0]?numeric._dim(t):[t.length,e.length]:[t.length]:[]},numeric.mapreduce=function(t,e){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+e+';\nif(typeof x === "number") { var xi = x; '+t+'; return accum; }\nif(typeof _s === "undefined") _s = numeric.dim(x);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i,xi;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) {\n        accum = arguments.callee(x[i],accum,_s,_k+1);\n    }    return accum;\n}\nfor(i=_n-1;i>=1;i-=2) { \n    xi = x[i];\n    '+t+";\n    xi = x[i-1];\n    "+t+";\n}\nif(i === 0) {\n    xi = x[i];\n    "+t+"\n}\nreturn accum;")},numeric.mapreduce2=function(t,e){return Function("x","var n = x.length;\nvar i,xi;\n"+e+";\nfor(i=n-1;i!==-1;--i) { \n    xi = x[i];\n    "+t+";\n}\nreturn accum;")},numeric.same=function t(e,n){var i,r;if(e instanceof Array&&n instanceof Array){if((r=e.length)!==n.length)return!1;for(i=0;i<r;i++)if(e[i]!==n[i]){if("object"!=typeof e[i])return!1;if(!t(e[i],n[i]))return!1}return!0}return!1},numeric.rep=function(t,e,n){void 0===n&&(n=0);var i,r=t[n],o=Array(r);if(n===t.length-1){for(i=r-2;i>=0;i-=2)o[i+1]=e,o[i]=e;return-1===i&&(o[0]=e),o}for(i=r-1;i>=0;i--)o[i]=numeric.rep(t,e,n+1);return o},numeric.dotMMsmall=function(t,e){var n,i,r,o,s,a,l,u,c,h,d;for(o=t.length,s=e.length,a=e[0].length,l=Array(o),n=o-1;n>=0;n--){for(u=Array(a),c=t[n],r=a-1;r>=0;r--){for(h=c[s-1]*e[s-1][r],i=s-2;i>=1;i-=2)d=i-1,h+=c[i]*e[i][r]+c[d]*e[d][r];0===i&&(h+=c[0]*e[0][r]),u[r]=h}l[n]=u}return l},numeric._getCol=function(t,e,n){var i;for(i=t.length-1;i>0;--i)n[i]=t[i][e],n[--i]=t[i][e];0===i&&(n[0]=t[0][e])},numeric.dotMMbig=function(t,e){var n,i,r,o=numeric._getCol,s=e.length,a=Array(s),l=t.length,u=e[0].length,c=new Array(l),h=numeric.dotVV;for(--s,i=--l;-1!==i;--i)c[i]=Array(u);for(i=--u;-1!==i;--i)for(o(e,i,a),r=l;-1!==r;--r)0,n=t[r],c[r][i]=h(n,a);return c},numeric.dotMV=function(t,e){var n,i=t.length,r=(e.length,Array(i)),o=numeric.dotVV;for(n=i-1;n>=0;n--)r[n]=o(t[n],e);return r},numeric.dotVM=function(t,e){var n,i,r,o,s,a,l;for(r=t.length,o=e[0].length,s=Array(o),i=o-1;i>=0;i--){for(a=t[r-1]*e[r-1][i],n=r-2;n>=1;n-=2)l=n-1,a+=t[n]*e[n][i]+t[l]*e[l][i];0===n&&(a+=t[0]*e[0][i]),s[i]=a}return s},numeric.dotVV=function(t,e){var n,i,r=t.length,o=t[r-1]*e[r-1];for(n=r-2;n>=1;n-=2)i=n-1,o+=t[n]*e[n]+t[i]*e[i];return 0===n&&(o+=t[0]*e[0]),o},numeric.dot=function(t,e){var n=numeric.dim;switch(1e3*n(t).length+n(e).length){case 2002:return e.length<10?numeric.dotMMsmall(t,e):numeric.dotMMbig(t,e);case 2001:return numeric.dotMV(t,e);case 1002:return numeric.dotVM(t,e);case 1001:return numeric.dotVV(t,e);case 1e3:return numeric.mulVS(t,e);case 1:return numeric.mulSV(t,e);case 0:return t*e;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(t){var e,n,i,r,o=t.length,s=Array(o);for(e=o-1;e>=0;e--){for(r=Array(o),n=e+2,i=o-1;i>=n;i-=2)r[i]=0,r[i-1]=0;for(i>e&&(r[i]=0),r[e]=t[e],i=e-1;i>=1;i-=2)r[i]=0,r[i-1]=0;0===i&&(r[0]=0),s[e]=r}return s},numeric.getDiag=function(t){var e,n=Math.min(t.length,t[0].length),i=Array(n);for(e=n-1;e>=1;--e)i[e]=t[e][e],i[--e]=t[e][e];return 0===e&&(i[0]=t[0][0]),i},numeric.identity=function(t){return numeric.diag(numeric.rep([t],1))},numeric.pointwise=function(t,e,n){void 0===n&&(n="");var i,r,o=[],s=/\[i\]$/,a="",l=!1;for(i=0;i<t.length;i++)s.test(t[i])?a=r=t[i].substring(0,t[i].length-3):r=t[i],"ret"===r&&(l=!0),o.push(r);return o[t.length]="_s",o[t.length+1]="_k",o[t.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+a+');\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i'+(l?"":", ret = Array(_n)")+";\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+t.join(",")+",_s,_k+1);\n    return ret;\n}\n"+n+"\nfor(i=_n-1;i!==-1;--i) {\n    "+e+"\n}\nreturn ret;",Function.apply(null,o)},numeric.pointwise2=function(t,e,n){void 0===n&&(n="");var i,r,o=[],s=/\[i\]$/,a="",l=!1;for(i=0;i<t.length;i++)s.test(t[i])?a=r=t[i].substring(0,t[i].length-3):r=t[i],"ret"===r&&(l=!0),o.push(r);return o[t.length]="var _n = "+a+".length;\nvar i"+(l?"":", ret = Array(_n)")+";\n"+n+"\nfor(i=_n-1;i!==-1;--i) {\n"+e+"\n}\nreturn ret;",Function.apply(null,o)},numeric._biforeach=function e(t,n,i,r,o){var s;if(r!==i.length-1)for(s=i[r]-1;s>=0;s--)e("object"==typeof t?t[s]:t,"object"==typeof n?n[s]:n,i,r+1,o);else o(t,n)},numeric._biforeach2=function n(t,e,i,r,o){if(r===i.length-1)return o(t,e);var s,a=i[r],l=Array(a);for(s=a-1;s>=0;--s)l[s]=n("object"==typeof t?t[s]:t,"object"==typeof e?e[s]:e,i,r+1,o);return l},numeric._foreach=function r(t,e,n,i){var o;if(n!==e.length-1)for(o=e[n]-1;o>=0;o--)r(t[o],e,n+1,i);else i(t)},numeric._foreach2=function o(t,e,n,i){if(n===e.length-1)return i(t);var r,s=e[n],a=Array(s);for(r=s-1;r>=0;r--)a[r]=o(t[r],e,n+1,i);return a},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var t,e;for(t=0;t<numeric.mathfuns2.length;++t)e=numeric.mathfuns2[t],numeric.ops2[e]=e;for(t in numeric.ops2)if(numeric.ops2.hasOwnProperty(t)){e=numeric.ops2[t];var n,i,r="";-1!==numeric.myIndexOf.call(numeric.mathfuns2,t)?(r="var "+e+" = Math."+e+";\n",n=function(t,n,i){return t+" = "+e+"("+n+","+i+")"},i=function(t,n){return t+" = "+e+"("+t+","+n+")"}):(n=function(t,n,i){return t+" = "+n+" "+e+" "+i},i=numeric.opseq.hasOwnProperty(t+"eq")?function(t,n){return t+" "+e+"= "+n}:function(t,n){return t+" = "+t+" "+e+" "+n}),numeric[t+"VV"]=numeric.pointwise2(["x[i]","y[i]"],n("ret[i]","x[i]","y[i]"),r),numeric[t+"SV"]=numeric.pointwise2(["x","y[i]"],n("ret[i]","x","y[i]"),r),numeric[t+"VS"]=numeric.pointwise2(["x[i]","y"],n("ret[i]","x[i]","y"),r),numeric[t]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+t+"VV, VS = numeric."+t+"VS, SV = numeric."+t+'SV;\nvar dim = numeric.dim;\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof x === "object") {\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n  else '+i("x","y")+"\n}\nreturn x;\n"),numeric[e]=numeric[t],numeric[t+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],i("ret[i]","x[i]"),r),numeric[t+"eqS"]=numeric.pointwise2(["ret[i]","x"],i("ret[i]","x"),r),numeric[t+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+t+"eqV, S = numeric."+t+'eqS\nvar s = numeric.dim(x);\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n  else numeric._biforeach(x,y,s,0,S);\n}\nreturn x;\n')}for(t=0;t<numeric.mathfuns2.length;++t)e=numeric.mathfuns2[t],delete numeric.ops2[e];for(t=0;t<numeric.mathfuns.length;++t)e=numeric.mathfuns[t],numeric.ops1[e]=e;for(t in numeric.ops1)numeric.ops1.hasOwnProperty(t)&&(r="",e=numeric.ops1[t],-1!==numeric.myIndexOf.call(numeric.mathfuns,t)&&Math.hasOwnProperty(e)&&(r="var "+e+" = Math."+e+";\n"),numeric[t+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+e+"(ret[i]);",r),numeric[t+"eq"]=Function("x",'if(typeof x !== "object") return '+e+"x\nvar i;\nvar V = numeric."+t+"eqV;\nvar s = numeric.dim(x);\nnumeric._foreach(x,s,0,V);\nreturn x;\n"),numeric[t+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+e+"(x[i]);",r),numeric[t]=Function("x",'if(typeof x !== "object") return '+e+"(x)\nvar i;\nvar V = numeric."+t+"V;\nvar s = numeric.dim(x);\nreturn numeric._foreach2(x,s,0,V);\n"));for(t=0;t<numeric.mathfuns.length;++t)e=numeric.mathfuns[t],delete numeric.ops1[e];for(t in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(t)&&(e=numeric.mapreducers[t],numeric[t+"V"]=numeric.mapreduce2(e[0],e[1]),numeric[t]=Function("x","s","k",e[1]+'if(typeof x !== "object") {    xi = x;\n'+e[0]+';\n    return accum;\n}if(typeof s === "undefined") s = numeric.dim(x);\nif(typeof k === "undefined") k = 0;\nif(k === s.length-1) return numeric.'+t+"V(x);\nvar xi;\nvar n = x.length, i;\nfor(i=n-1;i!==-1;--i) {\n   xi = arguments.callee(x[i]);\n"+e[0]+";\n}\nreturn accum;\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(t,e){return"object"==typeof t?"object"==typeof e?numeric.truncVV(t,e):numeric.truncVS(t,e):"object"==typeof e?numeric.truncSV(t,e):Math.round(t/e)*e},numeric.inv=function(t){var e,n,i,r,o,s,a,l=numeric.dim(t),u=Math.abs,c=l[0],h=l[1],d=numeric.clone(t),f=numeric.identity(c);for(s=0;s<h;++s){var p=-1,m=-1;for(o=s;o!==c;++o)(a=u(d[o][s]))>m&&(p=o,m=a);for(n=d[p],d[p]=d[s],d[s]=n,r=f[p],f[p]=f[s],f[s]=r,t=n[s],a=s;a!==h;++a)n[a]/=t;for(a=h-1;-1!==a;--a)r[a]/=t;for(o=c-1;-1!==o;--o)if(o!==s){for(e=d[o],i=f[o],t=e[s],a=s+1;a!==h;++a)e[a]-=n[a]*t;for(a=h-1;a>0;--a)i[a]-=r[a]*t,i[--a]-=r[a]*t;0===a&&(i[0]-=r[0]*t)}}return f},numeric.det=function(t){var e=numeric.dim(t);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: det() only works on square matrices");var n,i,r,o,s,a,l,u,c=e[0],h=1,d=numeric.clone(t);for(i=0;i<c-1;i++){for(r=i,n=i+1;n<c;n++)Math.abs(d[n][i])>Math.abs(d[r][i])&&(r=n);for(r!==i&&(l=d[r],d[r]=d[i],d[i]=l,h*=-1),o=d[i],n=i+1;n<c;n++){for(a=(s=d[n])[i]/o[i],r=i+1;r<c-1;r+=2)u=r+1,s[r]-=o[r]*a,s[u]-=o[u]*a;r!==c&&(s[r]-=o[r]*a)}if(0===o[i])return 0;h*=o[i]}return h*d[i][i]},numeric.transpose=function(t){var e,n,i,r,o,s=t.length,a=t[0].length,l=Array(a);for(n=0;n<a;n++)l[n]=Array(s);for(e=s-1;e>=1;e-=2){for(r=t[e],i=t[e-1],n=a-1;n>=1;--n)(o=l[n])[e]=r[n],o[e-1]=i[n],(o=l[--n])[e]=r[n],o[e-1]=i[n];0===n&&((o=l[0])[e]=r[0],o[e-1]=i[0])}if(0===e){for(i=t[0],n=a-1;n>=1;--n)l[n][0]=i[n],l[--n][0]=i[n];0===n&&(l[0][0]=i[0])}return l},numeric.negtranspose=function(t){var e,n,i,r,o,s=t.length,a=t[0].length,l=Array(a);for(n=0;n<a;n++)l[n]=Array(s);for(e=s-1;e>=1;e-=2){for(r=t[e],i=t[e-1],n=a-1;n>=1;--n)(o=l[n])[e]=-r[n],o[e-1]=-i[n],(o=l[--n])[e]=-r[n],o[e-1]=-i[n];0===n&&((o=l[0])[e]=-r[0],o[e-1]=-i[0])}if(0===e){for(i=t[0],n=a-1;n>=1;--n)l[n][0]=-i[n],l[--n][0]=-i[n];0===n&&(l[0][0]=-i[0])}return l},numeric._random=function s(t,e){var n,i,r=t[e],o=Array(r);if(e===t.length-1){for(i=Math.random,n=r-1;n>=1;n-=2)o[n]=i(),o[n-1]=i();return 0===n&&(o[0]=i()),o}for(n=r-1;n>=0;n--)o[n]=s(t,e+1);return o},numeric.random=function(t){return numeric._random(t,0)},numeric.norm2=function(t){return Math.sqrt(numeric.norm2Squared(t))},numeric.linspace=function(t,e,n){if(void 0===n&&(n=Math.max(Math.round(e-t)+1,1)),n<2)return 1===n?[t]:[];var i,r=Array(n);for(i=--n;i>=0;i--)r[i]=(i*e+(n-i)*t)/n;return r},numeric.getBlock=function(t,e,n){function i(t,o){var s,a=e[o],l=n[o]-a,u=Array(l);if(o===r.length-1){for(s=l;s>=0;s--)u[s]=t[s+a];return u}for(s=l;s>=0;s--)u[s]=i(t[s+a],o+1);return u}var r=numeric.dim(t);return i(t,0)},numeric.setBlock=function(t,e,n,i){function r(t,i,s){var a,l=e[s],u=n[s]-l;if(s===o.length-1)for(a=u;a>=0;a--)t[a+l]=i[a];for(a=u;a>=0;a--)r(t[a+l],i[a],s+1)}var o=numeric.dim(t);return r(t,i,0),t},numeric.getRange=function(t,e,n){var i,r,o,s,a=e.length,l=n.length,u=Array(a);for(i=a-1;-1!==i;--i)for(u[i]=Array(l),o=u[i],s=t[e[i]],r=l-1;-1!==r;--r)o[r]=s[n[r]];return u},numeric.blockMatrix=function(t){var e=numeric.dim(t);if(e.length<4)return numeric.blockMatrix([t]);var n,i,r,o,s,a=e[0],l=e[1];for(n=0,i=0,r=0;r<a;++r)n+=t[r][0].length;for(o=0;o<l;++o)i+=t[0][o][0].length;var u=Array(n);for(r=0;r<n;++r)u[r]=Array(i);var c,h,d,f,p,m=0;for(r=0;r<a;++r){for(c=i,o=l-1;-1!==o;--o)for(c-=(s=t[r][o])[0].length,d=s.length-1;-1!==d;--d)for(p=s[d],h=u[m+d],f=p.length-1;-1!==f;--f)h[c+f]=p[f];m+=t[r][0].length}return u},numeric.tensor=function(t,e){if("number"==typeof t||"number"==typeof e)return numeric.mul(t,e);var n=numeric.dim(t),i=numeric.dim(e);if(1!==n.length||1!==i.length)throw new Error("numeric: tensor product is only defined for vectors");var r,o,s,a,l=n[0],u=i[0],c=Array(l);for(o=l-1;o>=0;o--){for(r=Array(u),a=t[o],s=u-1;s>=3;--s)r[s]=a*e[s],r[--s]=a*e[s],r[--s]=a*e[s],r[--s]=a*e[s];for(;s>=0;)r[s]=a*e[s],--s;c[o]=r}return c},numeric.T=function(t,e){this.x=t,this.y=e},numeric.t=function(t,e){return new numeric.T(t,e)},numeric.Tbinop=function(t,e,n,i,r){var o;numeric.indexOf;if("string"!=typeof r)for(o in r="",numeric)numeric.hasOwnProperty(o)&&(t.indexOf(o)>=0||e.indexOf(o)>=0||n.indexOf(o)>=0||i.indexOf(o)>=0)&&o.length>1&&(r+="var "+o+" = numeric."+o+";\n");return Function(["y"],"var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+r+"\nif(x.y) {  if(y.y) {    return new numeric.T("+i+");\n  }\n  return new numeric.T("+n+");\n}\nif(y.y) {\n  return new numeric.T("+e+");\n}\nreturn new numeric.T("+t+");\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var t=numeric.mul,e=numeric.div;if(this.y){var n=numeric.add(t(this.x,this.x),t(this.y,this.y));return new numeric.T(e(this.x,n),e(numeric.neg(this.y),n))}return new T(e(1,this.x))},numeric.T.prototype.div=function(t){if(t instanceof numeric.T||(t=new numeric.T(t)),t.y)return this.mul(t.reciprocal());var e=numeric.div;return this.y?new numeric.T(e(this.x,t.x),e(this.y,t.x)):new numeric.T(e(this.x,t.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var t=numeric.transpose,e=this.x,n=this.y;return n?new numeric.T(t(e),t(n)):new numeric.T(t(e))},numeric.T.prototype.transjugate=function(){var t=numeric.transpose,e=this.x,n=this.y;return n?new numeric.T(t(e),numeric.negtranspose(n)):new numeric.T(t(e))},numeric.Tunop=function(t,e,n){return"string"!=typeof n&&(n=""),Function("var x = this;\n"+n+"\nif(x.y) {  "+e+";\n}\n"+t+";\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),
numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var t=this;if("undefined"==typeof t.y)return new numeric.T(numeric.inv(t.x));var e,n,i,r,o,s,a,l,u,c,h,d,f,p,m,g,v,y,b=t.x.length,x=numeric.identity(b),w=numeric.rep([b,b],0),k=numeric.clone(t.x),_=numeric.clone(t.y);for(u=0;u<b;u++){for(d=(p=k[u][u])*p+(m=_[u][u])*m,h=u,c=u+1;c<b;c++)(f=(p=k[c][u])*p+(m=_[c][u])*m)>d&&(h=c,d=f);for(h!==u&&(y=k[u],k[u]=k[h],k[h]=y,y=_[u],_[u]=_[h],_[h]=y,y=x[u],x[u]=x[h],x[h]=y,y=w[u],w[u]=w[h],w[h]=y),e=k[u],n=_[u],o=x[u],s=w[u],p=e[u],m=n[u],c=u+1;c<b;c++)g=e[c],v=n[c],e[c]=(g*p+v*m)/d,n[c]=(v*p-g*m)/d;for(c=0;c<b;c++)g=o[c],v=s[c],o[c]=(g*p+v*m)/d,s[c]=(v*p-g*m)/d;for(c=u+1;c<b;c++){for(i=k[c],r=_[c],a=x[c],l=w[c],p=i[u],m=r[u],h=u+1;h<b;h++)g=e[h],v=n[h],i[h]-=g*p-v*m,r[h]-=v*p+g*m;for(h=0;h<b;h++)g=o[h],v=s[h],a[h]-=g*p-v*m,l[h]-=v*p+g*m}}for(u=b-1;u>0;u--)for(o=x[u],s=w[u],c=u-1;c>=0;c--)for(a=x[c],l=w[c],p=k[c][u],m=_[c][u],h=b-1;h>=0;h--)g=o[h],v=s[h],a[h]-=p*g-m*v,l[h]-=p*v+m*g;return new numeric.T(x,w)},numeric.T.prototype.get=function(t){var e,n=this.x,i=this.y,r=0,o=t.length;if(i){for(;r<o;)n=n[e=t[r]],i=i[e],r++;return new numeric.T(n,i)}for(;r<o;)n=n[e=t[r]],r++;return new numeric.T(n)},numeric.T.prototype.set=function(t,e){var n,i=this.x,r=this.y,o=0,s=t.length,a=e.x,l=e.y;if(0===s)return l?this.y=l:r&&(this.y=undefined),this.x=i,this;if(l){for(r||(r=numeric.rep(numeric.dim(i),0),this.y=r);o<s-1;)i=i[n=t[o]],r=r[n],o++;return i[n=t[o]]=a,r[n]=l,this}if(r){for(;o<s-1;)i=i[n=t[o]],r=r[n],o++;return i[n=t[o]]=a,a instanceof Array?r[n]=numeric.rep(numeric.dim(a),0):r[n]=0,this}for(;o<s-1;)i=i[n=t[o]],o++;return i[n=t[o]]=a,this},numeric.T.prototype.getRows=function(t,e){var n,i,r=e-t+1,o=Array(r),s=this.x,a=this.y;for(n=t;n<=e;n++)o[n-t]=s[n];if(a){for(i=Array(r),n=t;n<=e;n++)i[n-t]=a[n];return new numeric.T(o,i)}return new numeric.T(o)},numeric.T.prototype.setRows=function(t,e,n){var i,r=this.x,o=this.y,s=n.x,a=n.y;for(i=t;i<=e;i++)r[i]=s[i-t];if(a)for(o||(o=numeric.rep(numeric.dim(r),0),this.y=o),i=t;i<=e;i++)o[i]=a[i-t];else if(o)for(i=t;i<=e;i++)o[i]=numeric.rep([s[i-t].length],0);return this},numeric.T.prototype.getRow=function(t){var e=this.x,n=this.y;return n?new numeric.T(e[t],n[t]):new numeric.T(e[t])},numeric.T.prototype.setRow=function(t,e){var n=this.x,i=this.y,r=e.x,o=e.y;return n[t]=r,o?(i||(i=numeric.rep(numeric.dim(n),0),this.y=i),i[t]=o):i&&(i=numeric.rep([r.length],0)),this},numeric.T.prototype.getBlock=function(t,e){var n=this.x,i=this.y,r=numeric.getBlock;return i?new numeric.T(r(n,t,e),r(i,t,e)):new numeric.T(r(n,t,e))},numeric.T.prototype.setBlock=function(t,e,n){n instanceof numeric.T||(n=new numeric.T(n));var i=this.x,r=this.y,o=numeric.setBlock,s=n.x,a=n.y;if(a)return r||(this.y=numeric.rep(numeric.dim(this),0),r=this.y),o(i,t,e,s),o(r,t,e,a),this;o(i,t,e,s),r&&o(r,t,e,numeric.rep(numeric.dim(s),0))},numeric.T.rep=function(t,e){var n=numeric.T;e instanceof n||(e=new n(e));var i=e.x,r=e.y,o=numeric.rep;return r?new n(o(t,i),o(t,r)):new n(o(t,i))},numeric.T.diag=function(t){t instanceof numeric.T||(t=new numeric.T(t));var e=t.x,n=t.y,i=numeric.diag;return n?new numeric.T(i(e),i(n)):new numeric.T(i(e))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(t){return new numeric.T(numeric.identity(t))},numeric.T.prototype.getDiag=function(){var t=numeric,e=this.x,n=this.y;return n?new t.T(t.getDiag(e),t.getDiag(n)):new t.T(t.getDiag(e))},numeric.house=function(t){var e=numeric.clone(t),n=(t[0]>=0?1:-1)*numeric.norm2(t);e[0]+=n;var i=numeric.norm2(e);if(0===i)throw new Error("eig: internal error");return numeric.div(e,i)},numeric.toUpperHessenberg=function(t){var e=numeric.dim(t);if(2!==e.length||e[0]!==e[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var n,i,r,o,s,a,l,u,c,h,d=e[0],f=numeric.clone(t),p=numeric.identity(d);for(i=0;i<d-2;i++){for(o=Array(d-i-1),n=i+1;n<d;n++)o[n-i-1]=f[n][i];if(numeric.norm2(o)>0){for(s=numeric.house(o),a=numeric.getBlock(f,[i+1,i],[d-1,d-1]),l=numeric.tensor(s,numeric.dot(s,a)),n=i+1;n<d;n++)for(u=f[n],c=l[n-i-1],r=i;r<d;r++)u[r]-=2*c[r-i];for(a=numeric.getBlock(f,[0,i+1],[d-1,d-1]),l=numeric.tensor(numeric.dot(a,s),s),n=0;n<d;n++)for(u=f[n],c=l[n],r=i+1;r<d;r++)u[r]-=2*c[r-i-1];for(a=Array(d-i-1),n=i+1;n<d;n++)a[n-i-1]=p[n];for(l=numeric.tensor(s,numeric.dot(s,a)),n=i+1;n<d;n++)for(h=p[n],c=l[n-i-1],r=0;r<d;r++)h[r]-=2*c[r]}}return{H:f,Q:p}},numeric.epsilon=2.220446049250313e-16,numeric.QRFrancis=function(t,e){void 0===e&&(e=1e4),t=numeric.clone(t);numeric.clone(t);var n,i,r,o,s,a,l,u,c,h,d,f,p,m,g,v,y,b,x=numeric.dim(t)[0],w=numeric.identity(x);if(x<3)return{Q:w,B:[[0,x-1]]};var k=numeric.epsilon;for(b=0;b<e;b++){for(v=0;v<x-1;v++)if(Math.abs(t[v+1][v])<k*(Math.abs(t[v][v])+Math.abs(t[v+1][v+1]))){var _=numeric.QRFrancis(numeric.getBlock(t,[0,0],[v,v]),e),E=numeric.QRFrancis(numeric.getBlock(t,[v+1,v+1],[x-1,x-1]),e);for(f=Array(v+1),g=0;g<=v;g++)f[g]=w[g];for(p=numeric.dot(_.Q,f),g=0;g<=v;g++)w[g]=p[g];for(f=Array(x-v-1),g=v+1;g<x;g++)f[g-v-1]=w[g];for(p=numeric.dot(E.Q,f),g=v+1;g<x;g++)w[g]=p[g-v-1];return{Q:w,B:_.B.concat(numeric.add(E.B,v+1))}}var T,C,S;if(r=t[x-2][x-2],o=t[x-2][x-1],s=t[x-1][x-2],u=r+(a=t[x-1][x-1]),l=r*a-o*s,c=numeric.getBlock(t,[0,0],[2,2]),u*u>=4*l)T=.5*(u+Math.sqrt(u*u-4*l)),C=.5*(u-Math.sqrt(u*u-4*l)),c=numeric.add(numeric.sub(numeric.dot(c,c),numeric.mul(c,T+C)),numeric.diag(numeric.rep([3],T*C)));else c=numeric.add(numeric.sub(numeric.dot(c,c),numeric.mul(c,u)),numeric.diag(numeric.rep([3],l)));for(n=[c[0][0],c[1][0],c[2][0]],i=numeric.house(n),f=[t[0],t[1],t[2]],p=numeric.tensor(i,numeric.dot(i,f)),g=0;g<3;g++)for(d=t[g],m=p[g],y=0;y<x;y++)d[y]-=2*m[y];for(f=numeric.getBlock(t,[0,0],[x-1,2]),p=numeric.tensor(numeric.dot(f,i),i),g=0;g<x;g++)for(d=t[g],m=p[g],y=0;y<3;y++)d[y]-=2*m[y];for(f=[w[0],w[1],w[2]],p=numeric.tensor(i,numeric.dot(i,f)),g=0;g<3;g++)for(h=w[g],m=p[g],y=0;y<x;y++)h[y]-=2*m[y];for(v=0;v<x-2;v++){for(y=v;y<=v+1;y++)if(Math.abs(t[y+1][y])<k*(Math.abs(t[y][y])+Math.abs(t[y+1][y+1]))){_=numeric.QRFrancis(numeric.getBlock(t,[0,0],[y,y]),e),E=numeric.QRFrancis(numeric.getBlock(t,[y+1,y+1],[x-1,x-1]),e);for(f=Array(y+1),g=0;g<=y;g++)f[g]=w[g];for(p=numeric.dot(_.Q,f),g=0;g<=y;g++)w[g]=p[g];for(f=Array(x-y-1),g=y+1;g<x;g++)f[g-y-1]=w[g];for(p=numeric.dot(E.Q,f),g=y+1;g<x;g++)w[g]=p[g-y-1];return{Q:w,B:_.B.concat(numeric.add(E.B,y+1))}}for(S=Math.min(x-1,v+3),n=Array(S-v),g=v+1;g<=S;g++)n[g-v-1]=t[g][v];for(i=numeric.house(n),f=numeric.getBlock(t,[v+1,v],[S,x-1]),p=numeric.tensor(i,numeric.dot(i,f)),g=v+1;g<=S;g++)for(d=t[g],m=p[g-v-1],y=v;y<x;y++)d[y]-=2*m[y-v];for(f=numeric.getBlock(t,[0,v+1],[x-1,S]),p=numeric.tensor(numeric.dot(f,i),i),g=0;g<x;g++)for(d=t[g],m=p[g],y=v+1;y<=S;y++)d[y]-=2*m[y-v-1];for(f=Array(S-v),g=v+1;g<=S;g++)f[g-v-1]=w[g];for(p=numeric.tensor(i,numeric.dot(i,f)),g=v+1;g<=S;g++)for(h=w[g],m=p[g-v-1],y=0;y<x;y++)h[y]-=2*m[y]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(t,e){var n,i,r,o,s,a,l,u,c,h,d,f,p,m,g,v,y=numeric.toUpperHessenberg(t),b=numeric.QRFrancis(y.H,e),x=numeric.T,w=t.length,k=b.B,_=numeric.dot(b.Q,numeric.dot(y.H,numeric.transpose(b.Q))),E=new x(numeric.dot(b.Q,y.Q)),T=k.length,C=Math.sqrt;for(i=0;i<T;i++)if((n=k[i][0])!==k[i][1]){if(o=n+1,s=_[n][n],a=_[n][o],l=_[o][n],u=_[o][o],0===a&&0===l)continue;(h=(c=-s-u)*c-4*(s*u-a*l))>=0?((g=(s-(d=c<0?-.5*(c-C(h)):-.5*(c+C(h))))*(s-d)+a*a)>(v=l*l+(u-d)*(u-d))?(p=(s-d)/(g=C(g)),m=a/g):(p=l/(v=C(v)),m=(u-d)/v),r=new x([[m,-p],[p,m]]),E.setRows(n,o,r.dot(E.getRows(n,o)))):(d=-.5*c,f=.5*C(-h),(g=(s-d)*(s-d)+a*a)>(v=l*l+(u-d)*(u-d))?(p=(s-d)/(g=C(g+f*f)),m=a/g,d=0,f/=g):(p=l/(v=C(v+f*f)),m=(u-d)/v,d=f/v,f=0),r=new x([[m,-p],[p,m]],[[d,f],[f,-d]]),E.setRows(n,o,r.dot(E.getRows(n,o))))}var S=E.dot(t).dot(E.transjugate()),A=(w=t.length,numeric.T.identity(w));for(o=0;o<w;o++)if(o>0)for(i=o-1;i>=0;i--){var L=S.get([i,i]),P=S.get([o,o]);numeric.neq(L.x,P.x)||numeric.neq(L.y,P.y)?(d=S.getRow(i).getBlock([i],[o-1]),f=A.getRow(o).getBlock([i],[o-1]),A.set([o,i],S.get([i,o]).neg().sub(d.dot(f)).div(L.sub(P)))):A.setRow(o,A.getRow(i))}for(o=0;o<w;o++)d=A.getRow(o),A.setRow(o,d.div(d.norm2()));return A=A.transpose(),A=E.transjugate().dot(A),{lambda:S.getDiag(),E:A}},numeric.ccsSparse=function(t){var e,n,i,r=t.length,o=[];for(n=r-1;-1!==n;--n)for(i in e=t[n]){for(i=parseInt(i);i>=o.length;)o[o.length]=0;0!==e[i]&&o[i]++}var s=o.length,a=Array(s+1);for(a[0]=0,n=0;n<s;++n)a[n+1]=a[n]+o[n];var l=Array(a[s]),u=Array(a[s]);for(n=r-1;-1!==n;--n)for(i in e=t[n])0!==e[i]&&(o[i]--,l[a[i]+o[i]]=n,u[a[i]+o[i]]=e[i]);return[a,l,u]},numeric.ccsFull=function(t){var e,n,i,r,o=t[0],s=t[1],a=t[2],l=numeric.ccsDim(t),u=l[0],c=l[1],h=numeric.rep([u,c],0);for(e=0;e<c;e++)for(i=o[e],r=o[e+1],n=i;n<r;++n)h[s[n]][e]=a[n];return h},numeric.ccsTSolve=function(t,e,n,i,r){function o(t){var e;if(0===n[t]){for(n[t]=1,e=f[t];e<f[t+1];++e)o(p[e]);r[y]=t,++y}}var s,a,l,u,c,h,d,f=t[0],p=t[1],m=t[2],g=f.length-1,v=Math.max,y=0;for(void 0===i&&(n=numeric.rep([g],0)),void 0===i&&(i=numeric.linspace(0,n.length-1)),void 0===r&&(r=[]),s=i.length-1;-1!==s;--s)o(i[s]);for(r.length=y,s=r.length-1;-1!==s;--s)n[r[s]]=0;for(s=i.length-1;-1!==s;--s)a=i[s],n[a]=e[a];for(s=r.length-1;-1!==s;--s){for(a=r[s],l=f[a],u=v(f[a+1],l),c=l;c!==u;++c)if(p[c]===a){n[a]/=m[c];break}for(d=n[a],c=l;c!==u;++c)(h=p[c])!==a&&(n[h]-=d*m[c])}return n},numeric.ccsDFS=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS.prototype.dfs=function(t,e,n,i,r,o){var s,a,l,u=0,c=r.length,h=this.k,d=this.k1,f=this.j;if(0===i[t])for(i[t]=1,f[0]=t,h[0]=a=e[t],d[0]=l=e[t+1];;)if(a>=l){if(r[c]=f[u],0===u)return;++c,a=h[--u],l=d[u]}else 0===i[s=o[n[a]]]?(i[s]=1,h[u]=a,f[++u]=s,a=e[s],d[u]=l=e[s+1]):++a},numeric.ccsLPSolve=function(t,e,n,i,r,o,s){var a,l,u,c,h,d,f,p,m,g=t[0],v=t[1],y=t[2],b=(g.length,e[0]),x=e[1],w=e[2];for(l=b[r],u=b[r+1],i.length=0,a=l;a<u;++a)s.dfs(o[x[a]],g,v,n,i,o);for(a=i.length-1;-1!==a;--a)n[i[a]]=0;for(a=l;a!==u;++a)n[c=o[x[a]]]=w[a];for(a=i.length-1;-1!==a;--a){for(h=g[c=i[a]],d=g[c+1],f=h;f<d;++f)if(o[v[f]]===c){n[c]/=y[f];break}for(m=n[c],f=h;f<d;++f)(p=o[v[f]])!==c&&(n[p]-=m*y[f])}return n},numeric.ccsLUP1=function(t,e){var n,i,r,o,s,a,l,u=t[0].length-1,c=[numeric.rep([u+1],0),[],[]],h=[numeric.rep([u+1],0),[],[]],d=c[0],f=c[1],p=c[2],m=h[0],g=h[1],v=h[2],y=numeric.rep([u],0),b=numeric.rep([u],0),x=numeric.ccsLPSolve,w=(Math.max,Math.abs),k=numeric.linspace(0,u-1),_=numeric.linspace(0,u-1),E=new numeric.ccsDFS(u);for(void 0===e&&(e=1),n=0;n<u;++n){for(x(c,t,y,b,n,_,E),o=-1,s=-1,i=b.length-1;-1!==i;--i)(r=b[i])<=n||(a=w(y[r]))>o&&(s=r,o=a);for(w(y[n])<e*o&&(i=k[n],o=k[s],k[n]=o,_[o]=n,k[s]=i,_[i]=s,o=y[n],y[n]=y[s],y[s]=o),o=d[n],s=m[n],l=y[n],f[o]=k[n],p[o]=1,++o,i=b.length-1;-1!==i;--i)a=y[r=b[i]],b[i]=0,y[r]=0,r<=n?(g[s]=r,v[s]=a,++s):(f[o]=k[r],p[o]=a/l,++o);d[n+1]=o,m[n+1]=s}for(i=f.length-1;-1!==i;--i)f[i]=_[f[i]];return{L:c,U:h,P:k,Pinv:_}},numeric.ccsDFS0=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS0.prototype.dfs=function(t,e,n,i,r,o){var s,a,l,u=0,c=r.length,h=this.k,d=this.k1,f=this.j;if(0===i[t])for(i[t]=1,f[0]=t,h[0]=a=e[o[t]],d[0]=l=e[o[t]+1];;){if(isNaN(a))throw new Error("Ow!");if(a>=l){if(r[c]=o[f[u]],0===u)return;++c,a=h[--u],l=d[u]}else 0===i[s=n[a]]?(i[s]=1,h[u]=a,f[++u]=s,a=e[s=o[s]],d[u]=l=e[s+1]):++a}},numeric.ccsLPSolve0=function(t,e,n,i,r,o,s,a){var l,u,c,h,d,f,p,m,g,v=t[0],y=t[1],b=t[2],x=(v.length,e[0]),w=e[1],k=e[2];for(u=x[r],c=x[r+1],i.length=0,l=u;l<c;++l)a.dfs(w[l],v,y,n,i,o,s);for(l=i.length-1;-1!==l;--l)n[s[h=i[l]]]=0;for(l=u;l!==c;++l)n[h=w[l]]=k[l];for(l=i.length-1;-1!==l;--l){for(m=s[h=i[l]],d=v[h],f=v[h+1],p=d;p<f;++p)if(y[p]===m){n[m]/=b[p];break}for(g=n[m],p=d;p<f;++p)n[y[p]]-=g*b[p];n[m]=g}},numeric.ccsLUP0=function(t,e){var n,i,r,o,s,a,l,u=t[0].length-1,c=[numeric.rep([u+1],0),[],[]],h=[numeric.rep([u+1],0),[],[]],d=c[0],f=c[1],p=c[2],m=h[0],g=h[1],v=h[2],y=numeric.rep([u],0),b=numeric.rep([u],0),x=numeric.ccsLPSolve0,w=(Math.max,Math.abs),k=numeric.linspace(0,u-1),_=numeric.linspace(0,u-1),E=new numeric.ccsDFS0(u);for(void 0===e&&(e=1),n=0;n<u;++n){for(x(c,t,y,b,n,_,k,E),o=-1,s=-1,i=b.length-1;-1!==i;--i)(r=b[i])<=n||(a=w(y[k[r]]))>o&&(s=r,o=a);for(w(y[k[n]])<e*o&&(i=k[n],o=k[s],k[n]=o,_[o]=n,k[s]=i,_[i]=s),o=d[n],s=m[n],l=y[k[n]],f[o]=k[n],p[o]=1,++o,i=b.length-1;-1!==i;--i)a=y[k[r=b[i]]],b[i]=0,y[k[r]]=0,r<=n?(g[s]=r,v[s]=a,++s):(f[o]=k[r],p[o]=a/l,++o);d[n+1]=o,m[n+1]=s}for(i=f.length-1;-1!==i;--i)f[i]=_[f[i]];return{L:c,U:h,P:k,Pinv:_}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(t){return[numeric.sup(t[1])+1,t[0].length-1]},numeric.ccsGetBlock=function(t,e,n){var i=numeric.ccsDim(t),r=i[0],o=i[1];void 0===e?e=numeric.linspace(0,r-1):"number"==typeof e&&(e=[e]),void 0===n?n=numeric.linspace(0,o-1):"number"==typeof n&&(n=[n]);var s,a,l,u,c=e.length,h=n.length,d=numeric.rep([o],0),f=[],p=[],m=[d,f,p],g=t[0],v=t[1],y=t[2],b=numeric.rep([r],0),x=0,w=numeric.rep([r],0);for(a=0;a<h;++a){var k=g[u=n[a]],_=g[u+1];for(s=k;s<_;++s)w[l=v[s]]=1,b[l]=y[s];for(s=0;s<c;++s)w[e[s]]&&(f[x]=s,p[x]=b[e[s]],++x);for(s=k;s<_;++s)w[l=v[s]]=0;d[a+1]=x}return m},numeric.ccsDot=function(t,e){var n,i,r,o,s,a,l,u,c,h,d,f=t[0],p=t[1],m=t[2],g=e[0],v=e[1],y=e[2],b=numeric.ccsDim(t),x=numeric.ccsDim(e),w=b[0],k=(b[1],x[1]),_=numeric.rep([w],0),E=numeric.rep([w],0),T=Array(w),C=numeric.rep([k],0),S=[],A=[],L=[C,S,A];for(r=0;r!==k;++r){for(o=g[r],s=g[r+1],c=0,i=o;i<s;++i)for(h=v[i],d=y[i],a=f[h],l=f[h+1],n=a;n<l;++n)0===E[u=p[n]]&&(T[c]=u,E[u]=1,c+=1),_[u]=_[u]+m[n]*d;for(s=(o=C[r])+c,C[r+1]=s,i=c-1;-1!==i;--i)d=o+i,n=T[i],S[d]=n,A[d]=_[n],E[n]=0,_[n]=0;C[r+1]=C[r]+c}return L},numeric.ccsLUPSolve=function(t,e){var n=t.L,i=t.U,r=(t.P,e[0]),o=!1;"object"!=typeof r&&(r=(e=[[0,e.length],numeric.linspace(0,e.length-1),e])[0],o=!0);var s,a,l,u,c,h,d=e[1],f=e[2],p=n[0].length-1,m=r.length-1,g=numeric.rep([p],0),v=Array(p),y=numeric.rep([p],0),b=Array(p),x=numeric.rep([m+1],0),w=[],k=[],_=numeric.ccsTSolve,E=0;for(s=0;s<m;++s){for(c=0,l=r[s],u=r[s+1],a=l;a<u;++a)h=t.Pinv[d[a]],b[c]=h,y[h]=f[a],++c;for(b.length=c,_(n,y,g,b,v),a=b.length-1;-1!==a;--a)y[b[a]]=0;if(_(i,g,y,v,b),o)return y;for(a=v.length-1;-1!==a;--a)g[v[a]]=0;for(a=b.length-1;-1!==a;--a)h=b[a],w[E]=h,k[E]=y[h],y[h]=0,++E;x[s+1]=E}return[x,w,k]},numeric.ccsbinop=function(t,e){return void 0===e&&(e=""),Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n"+e+"for(i=0;i<n;++i) {\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Xj[j];\n    x[k] = 1;\n    Zj[p] = k;\n    ++p;\n  }\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Yj[j];\n    y[k] = Yv[j];\n    if(x[k] === 0) {\n      Zj[p] = k;\n      ++p;\n    }\n  }\n  Zi[i+1] = p;\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n  j0 = Zi[i]; j1 = Zi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Zj[j];\n    xk = x[k];\n    yk = y[k];\n"+t+"\n    Zv[j] = zk;\n  }\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n}\nreturn [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)A=isFinite(eval("1"+numeric.ops2[k]+"0"))?"[Y[0],Y[1],numeric."+k+"(X,Y[2])]":"NaN",B=isFinite(eval("0"+numeric.ops2[k]+"1"))?"[X[0],X[1],numeric."+k+"(X[2],Y)]":"NaN",C=isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?"numeric.ccs"+k+"MM(X,Y)":"NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+';\nif(typeof Y === "number") return '+B+";\nreturn "+C+";\n")}(),numeric.ccsScatter=function(t){var e,n=t[0],i=t[1],r=t[2],o=numeric.sup(i)+1,s=n.length,a=numeric.rep([o],0),l=Array(s),u=Array(s),c=numeric.rep([o],0);for(e=0;e<s;++e)c[i[e]]++;for(e=0;e<o;++e)a[e+1]=a[e]+c[e];var h,d,f=a.slice(0);for(e=0;e<s;++e)l[h=f[d=i[e]]]=n[e],u[h]=r[e],f[d]=f[d]+1;return[a,l,u]},numeric.ccsGather=function(t){var e,n,i,r,o,s=t[0],a=t[1],l=t[2],u=s.length-1,c=a.length,h=Array(c),d=Array(c),f=Array(c);for(o=0,e=0;e<u;++e)for(i=s[e],r=s[e+1],n=i;n!==r;++n)d[o]=e,h[o]=a[n],f[o]=l[n],++o;return[h,d,f]},numeric.sdim=function a(t,e,n){if(void 0===e&&(e=[]),"object"!=typeof t)return e;var i;for(i in void 0===n&&(n=0),n in e||(e[n]=0),t.length>e[n]&&(e[n]=t.length),t)t.hasOwnProperty(i)&&a(t[i],e,n+1);return e},numeric.sclone=function l(t,e,n){void 0===e&&(e=0),void 0===n&&(n=numeric.sdim(t).length);var i,r=Array(t.length);if(e===n-1){for(i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);return r}for(i in t)t.hasOwnProperty(i)&&(r[i]=l(t[i],e+1,n));return r},numeric.sdiag=function(t){var e,n,i=t.length,r=Array(i);for(e=i-1;e>=1;e-=2)n=e-1,r[e]=[],r[e][e]=t[e],r[n]=[],r[n][n]=t[n];return 0===e&&(r[0]=[],r[0][0]=t[e]),r},numeric.sidentity=function(t){return numeric.sdiag(numeric.rep([t],1))},numeric.stranspose=function(t){var e,n,i,r=[];t.length;for(e in t)if(t.hasOwnProperty(e))for(n in i=t[e])i.hasOwnProperty(n)&&("object"!=typeof r[n]&&(r[n]=[]),r[n][e]=i[n]);return r},numeric.sLUP=function(){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(t,e){var n,i,r,o,s,a,l,u=t.length,c=(e.length,numeric.stranspose(e)),h=c.length,d=Array(u);for(r=u-1;r>=0;r--){for(l=[],n=t[r],s=h-1;s>=0;s--){for(o in a=0,i=c[s],n)n.hasOwnProperty(o)&&o in i&&(a+=n[o]*i[o]);a&&(l[s]=a)}d[r]=l}return d},numeric.sdotMV=function(t,e){var n,i,r,o,s=t.length,a=Array(s);for(i=s-1;i>=0;i--){for(r in o=0,n=t[i])n.hasOwnProperty(r)&&e[r]&&(o+=n[r]*e[r]);o&&(a[i]=o)}return a},numeric.sdotVM=function(t,e){var n,i,r,o,s=[];for(n in t)if(t.hasOwnProperty(n))for(i in r=e[n],o=t[n],r)r.hasOwnProperty(i)&&(s[i]||(s[i]=0),s[i]+=o*r[i]);return s},numeric.sdotVV=function(t,e){var n,i=0;for(n in t)t[n]&&e[n]&&(i+=t[n]*e[n]);return i},numeric.sdot=function(t,e){var n=numeric.sdim(t).length,i=numeric.sdim(e).length;switch(1e3*n+i){case 0:return t*e;case 1001:return numeric.sdotVV(t,e);case 2001:return numeric.sdotMV(t,e);case 1002:return numeric.sdotVM(t,e);case 2002:return numeric.sdotMM(t,e);default:throw new Error("numeric.sdot not implemented for tensors of order "+n+" and "+i)}},numeric.sscatter=function(t){var e,n,i,r,o=t[0].length,s=t.length,a=[];for(n=o-1;n>=0;--n)if(t[s-1][n]){for(r=a,i=0;i<s-2;i++)r[e=t[i][n]]||(r[e]=[]),r=r[e];r[t[i][n]]=t[i+1][n]}return a},numeric.sgather=function u(t,e,n){var i,r,o;for(r in void 0===e&&(e=[]),void 0===n&&(n=[]),i=n.length,t)if(t.hasOwnProperty(r))if(n[i]=parseInt(r),"number"==typeof(o=t[r])){if(o){if(0===e.length)for(r=i+1;r>=0;--r)e[r]=[];for(r=i;r>=0;--r)e[r].push(n[r]);e[i+1].push(o)}}else u(o,e,n);return n.length>i&&n.pop(),e},numeric.cLU=function(t){var e,n,i,r,o,s,a=t[0],l=t[1],u=t[2],c=a.length,h=0;for(e=0;e<c;e++)a[e]>h&&(h=a[e]);h++;var d,f=Array(h),p=Array(h),m=numeric.rep([h],Infinity),g=numeric.rep([h],-Infinity);for(i=0;i<c;i++)e=a[i],(n=l[i])<m[e]&&(m[e]=n),n>g[e]&&(g[e]=n);for(e=0;e<h-1;e++)g[e]>g[e+1]&&(g[e+1]=g[e]);for(e=h-1;e>=1;e--)m[e]<m[e-1]&&(m[e-1]=m[e]);for(e=0;e<h;e++)p[e]=numeric.rep([g[e]-m[e]+1],0),f[e]=numeric.rep([e-m[e]],0),e-m[e]+1,g[e]-e+1;for(i=0;i<c;i++)p[e=a[i]][l[i]-m[e]]=u[i];for(e=0;e<h-1;e++)for(r=e-m[e],b=p[e],n=e+1;m[n]<=e&&n<h;n++)if(o=e-m[n],s=g[e]-e,d=(x=p[n])[o]/b[r]){for(i=1;i<=s;i++)x[i+o]-=d*b[i+r];f[n][e-m[n]]=d}var v,y,b=[],x=[],w=[],k=[],_=[],E=[];for(c=0,v=0,e=0;e<h;e++){for(r=m[e],o=g[e],y=p[e],n=e;n<=o;n++)y[n-r]&&(b[c]=e,x[c]=n,w[c]=y[n-r],c++);for(y=f[e],n=r;n<e;n++)y[n-r]&&(k[v]=e,_[v]=n,E[v]=y[n-r],v++);k[v]=e,_[v]=e,E[v]=1,v++}return{U:[b,x,w],L:[k,_,E]}},numeric.cLUsolve=function(t,e){var n,i,r=t.L,o=t.U,s=numeric.clone(e),a=r[0],l=r[1],u=r[2],c=o[0],h=o[1],d=o[2],f=c.length,p=(a.length,s.length);for(i=0,n=0;n<p;n++){for(;l[i]<n;)s[n]-=u[i]*s[l[i]],i++;i++}for(i=f-1,n=p-1;n>=0;n--){for(;h[i]>n;)s[n]-=d[i]*s[h[i]],i--;s[n]/=d[i],i--}return s},numeric.cgrid=function(t,e){"number"==typeof t&&(t=[t,t]);var n,i,r,o=numeric.rep(t,-1);if("function"!=typeof e)switch(e){case"L":e=function(e,n){return e>=t[0]/2||n<t[1]/2};break;default:e=function(){return!0}}for(r=0,n=1;n<t[0]-1;n++)for(i=1;i<t[1]-1;i++)e(n,i)&&(o[n][i]=r,r++);return o},numeric.cdelsq=function(t){var e,n,i,r,o,s=[[-1,0],[0,-1],[0,1],[1,0]],a=numeric.dim(t),l=a[0],u=a[1],c=[],h=[],d=[];for(e=1;e<l-1;e++)for(n=1;n<u-1;n++)if(!(t[e][n]<0)){for(i=0;i<4;i++)r=e+s[i][0],o=n+s[i][1],t[r][o]<0||(c.push(t[e][n]),h.push(t[r][o]),d.push(-1));c.push(t[e][n]),h.push(t[e][n]),d.push(4)}return[c,h,d]},numeric.cdotMV=function(t,e){var n,i,r,o=t[0],s=t[1],a=t[2],l=o.length;for(r=0,i=0;i<l;i++)o[i]>r&&(r=o[i]);for(r++,n=numeric.rep([r],0),i=0;i<l;i++)n[o[i]]+=a[i]*e[s[i]];return n},numeric.Spline=function(t,e,n,i,r){this.x=t,this.yl=e,this.yr=n,this.kl=i,this.kr=r},numeric.Spline.prototype._at=function(t,e){var n,i,r,o=this.x,s=this.yl,a=this.yr,l=this.kl,u=this.kr,c=numeric.add,h=numeric.sub,d=numeric.mul;n=h(d(l[e],o[e+1]-o[e]),h(a[e+1],s[e])),i=c(d(u[e+1],o[e]-o[e+1]),h(a[e+1],s[e]));var f=(r=(t-o[e])/(o[e+1]-o[e]))*(1-r);return c(c(c(d(1-r,s[e]),d(r,a[e+1])),d(n,f*(1-r))),d(i,f*r))},numeric.Spline.prototype.at=function(t){if("number"==typeof t){var e,n,i,r=this.x,o=r.length,s=Math.floor;for(e=0,n=o-1;n-e>1;)r[i=s((e+n)/2)]<=t?e=i:n=i;return this._at(t,e)}o=t.length;var a,l=Array(o);for(a=o-1;-1!==a;--a)l[a]=this.at(t[a]);return l},numeric.Spline.prototype.diff=function(){var t,e,n,i=this.x,r=this.yl,o=this.yr,s=this.kl,a=this.kr,l=r.length,u=s,c=a,h=Array(l),d=Array(l),f=numeric.add,p=numeric.mul,m=numeric.div,g=numeric.sub;for(t=l-1;-1!==t;--t)e=i[t+1]-i[t],n=g(o[t+1],r[t]),h[t]=m(f(p(n,6),p(s[t],-4*e),p(a[t+1],-2*e)),e*e),d[t+1]=m(f(p(n,-6),p(s[t],2*e),p(a[t+1],4*e)),e*e);return new numeric.Spline(i,u,c,h,d)},numeric.Spline.prototype.roots=function(){function t(t){return t*t}var e=[],n=this.x,i=this.yl,r=this.yr,o=this.kl,s=this.kr;"number"==typeof i[0]&&(i=[i],r=[r],o=[o],s=[s]);var a,l,u,c,h,d,f,p,m,g,v,y,b,x,w,k,_,E,T,C,S,A,L,P=i.length,M=n.length-1,D=(e=Array(P),Math.sqrt);for(a=0;a!==P;++a){for(c=i[a],h=r[a],d=o[a],f=s[a],p=[],l=0;l!==M;l++){for(l>0&&h[l]*c[l]<0&&p.push(n[l]),k=n[l+1]-n[l],n[l],v=c[l],y=h[l+1],m=d[l]/k,b=(g=f[l+1]/k)+3*v+2*m-3*y,x=3*(g+m+2*(v-y)),(w=t(m-g+3*(v-y))+12*g*v)<=0?_=(E=b/x)>n[l]&&E<n[l+1]?[n[l],E,n[l+1]]:[n[l],n[l+1]]:(E=(b-D(w))/x,T=(b+D(w))/x,_=[n[l]],E>n[l]&&E<n[l+1]&&_.push(E),T>n[l]&&T<n[l+1]&&_.push(T),_.push(n[l+1])),S=_[0],E=this._at(S,l),u=0;u<_.length-1;u++)if(A=_[u+1],T=this._at(A,l),0!==E)if(0===T||E*T>0)S=A,E=T;else{for(var R=0;!((L=(E*A-T*S)/(E-T))<=S||L>=A);)if((C=this._at(L,l))*T>0)A=L,T=C,-1===R&&(E*=.5),R=-1;else{if(!(C*E>0))break;S=L,E=C,1===R&&(T*=.5),R=1}p.push(L),S=_[u+1],E=this._at(S,l)}else p.push(S),S=A,E=T;0===T&&p.push(A)}e[a]=p}return"number"==typeof this.yl[0]?e[0]:e},numeric.spline=function(t,e,n,i){var r,o=t.length,s=[],a=[],l=[],u=numeric.sub,c=numeric.mul,h=numeric.add;for(r=o-2;r>=0;r--)a[r]=t[r+1]-t[r],l[r]=u(e[r+1],e[r]);"string"!=typeof n&&"string"!=typeof i||(n=i="periodic");var d=[[],[],[]];switch(typeof n){case"undefined":s[0]=c(3/(a[0]*a[0]),l[0]),d[0].push(0,0),d[1].push(0,1),d[2].push(2/a[0],1/a[0]);break;case"string":s[0]=h(c(3/(a[o-2]*a[o-2]),l[o-2]),c(3/(a[0]*a[0]),l[0])),d[0].push(0,0,0),d[1].push(o-2,0,1),d[2].push(1/a[o-2],2/a[o-2]+2/a[0],1/a[0]);break;default:s[0]=n,d[0].push(0),d[1].push(0),d[2].push(1)}for(r=1;r<o-1;r++)s[r]=h(c(3/(a[r-1]*a[r-1]),l[r-1]),c(3/(a[r]*a[r]),l[r])),d[0].push(r,r,r),d[1].push(r-1,r,r+1),d[2].push(1/a[r-1],2/a[r-1]+2/a[r],1/a[r]);switch(typeof i){case"undefined":s[o-1]=c(3/(a[o-2]*a[o-2]),l[o-2]),d[0].push(o-1,o-1),d[1].push(o-2,o-1),d[2].push(1/a[o-2],2/a[o-2]);break;case"string":d[1][d[1].length-1]=0;break;default:s[o-1]=i,d[0].push(o-1),d[1].push(o-1),d[2].push(1)}s="number"!=typeof s[0]?numeric.transpose(s):[s];var f=Array(s.length);if("string"==typeof n)for(r=f.length-1;-1!==r;--r)f[r]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(d)),s[r]),f[r][o-1]=f[r][0];else for(r=f.length-1;-1!==r;--r)f[r]=numeric.cLUsolve(numeric.cLU(d),s[r]);return f="number"==typeof e[0]?f[0]:numeric.transpose(f),new numeric.Spline(t,e,e,f,f)},numeric.fftpow2=function c(t,e){var n=t.length;if(1!==n){var i,r,o=Math.cos,s=Math.sin,a=Array(n/2),l=Array(n/2),u=Array(n/2),h=Array(n/2);for(r=n/2,i=n-1;-1!==i;--i)u[--r]=t[i],h[r]=e[i],--i,a[r]=t[i],l[r]=e[i];c(a,l),c(u,h),r=n/2;var d,f,p,m=-6.283185307179586/n;for(i=n-1;-1!==i;--i)-1===--r&&(r=n/2-1),f=o(d=m*i),p=s(d),t[i]=a[r]+f*u[r]-p*h[r],e[i]=l[r]+f*h[r]+p*u[r]}},numeric._ifftpow2=function d(t,e){var n=t.length;if(1!==n){var i,r,o=Math.cos,s=Math.sin,a=Array(n/2),l=Array(n/2),u=Array(n/2),c=Array(n/2);for(r=n/2,i=n-1;-1!==i;--i)u[--r]=t[i],c[r]=e[i],--i,a[r]=t[i],l[r]=e[i];d(a,l),d(u,c),r=n/2;var h,f,p,m=6.283185307179586/n;for(i=n-1;-1!==i;--i)-1===--r&&(r=n/2-1),f=o(h=m*i),p=s(h),t[i]=a[r]+f*u[r]-p*c[r],e[i]=l[r]+f*c[r]+p*u[r]}},numeric.ifftpow2=function(t,e){numeric._ifftpow2(t,e),numeric.diveq(t,t.length),numeric.diveq(e,e.length)},numeric.convpow2=function(t,e,n,i){var r,o,s,a,l;for(numeric.fftpow2(t,e),numeric.fftpow2(n,i),r=t.length-1;-1!==r;--r)o=t[r],a=e[r],s=n[r],l=i[r],t[r]=o*s-a*l,e[r]=o*l+a*s;numeric.ifftpow2(t,e)},numeric.T.prototype.fft=function(){var t,e,n=this.x,i=this.y,r=n.length,o=Math.log,s=o(2),a=Math.ceil(o(2*r-1)/s),l=Math.pow(2,a),u=numeric.rep([l],0),c=numeric.rep([l],0),h=Math.cos,d=Math.sin,f=-3.141592653589793/r,p=numeric.rep([l],0),m=numeric.rep([l],0);Math.floor(r/2);for(t=0;t<r;t++)p[t]=n[t];if(void 0!==i)for(t=0;t<r;t++)m[t]=i[t];for(u[0]=1,t=1;t<=l/2;t++)e=f*t*t,u[t]=h(e),c[t]=d(e),u[l-t]=h(e),c[l-t]=d(e);var g=new numeric.T(p,m),v=new numeric.T(u,c);return g=g.mul(v),numeric.convpow2(g.x,g.y,numeric.clone(v.x),numeric.neg(v.y)),(g=g.mul(v)).x.length=r,g.y.length=r,g},numeric.T.prototype.ifft=function(){var t,e,n=this.x,i=this.y,r=n.length,o=Math.log,s=o(2),a=Math.ceil(o(2*r-1)/s),l=Math.pow(2,a),u=numeric.rep([l],0),c=numeric.rep([l],0),h=Math.cos,d=Math.sin,f=3.141592653589793/r,p=numeric.rep([l],0),m=numeric.rep([l],0);Math.floor(r/2);for(t=0;t<r;t++)p[t]=n[t];if(void 0!==i)for(t=0;t<r;t++)m[t]=i[t];for(u[0]=1,t=1;t<=l/2;t++)e=f*t*t,u[t]=h(e),c[t]=d(e),u[l-t]=h(e),c[l-t]=d(e);var g=new numeric.T(p,m),v=new numeric.T(u,c);return g=g.mul(v),numeric.convpow2(g.x,g.y,numeric.clone(v.x),numeric.neg(v.y)),(g=g.mul(v)).x.length=r,g.y.length=r,g.div(r)},numeric.gradient=function(t,e){var n=e.length,i=t(e);if(isNaN(i))throw new Error("gradient: f(x) is a NaN!");var r,o,s,a,l,u,c,h,d,f=Math.max,p=numeric.clone(e),m=Array(n),g=(numeric.div,numeric.sub,f=Math.max,.001),v=Math.abs,y=Math.min,b=0;for(r=0;r<n;r++)for(var x=f(1e-6*i,1e-8);;){if(++b>20)throw new Error("Numerical gradient fails");if(p[r]=e[r]+x,o=t(p),p[r]=e[r]-x,s=t(p),p[r]=e[r],isNaN(o)||isNaN(s))x/=16;else{if(m[r]=(o-s)/(2*x),a=e[r]-x,l=e[r],u=e[r]+x,c=(o-i)/x,h=(i-s)/x,d=f(v(m[r]),v(i),v(o),v(s),v(a),v(l),v(u),1e-8),!(y(f(v(c-m[r]),v(h-m[r]),v(c-h))/d,x/d)>g))break;x/=16}}return m},numeric.uncmin=function(t,e,n,i,r,o,s){var a=numeric.gradient;void 0===s&&(s={}),void 0===n&&(n=1e-8),void 0===i&&(i=function(e){return a(t,e)}),void 0===r&&(r=1e3);var l,u,c=(e=numeric.clone(e)).length,h=t(e);if(isNaN(h))throw new Error("uncmin: f(x0) is a NaN!");var d=Math.max,f=numeric.norm2;n=d(n,numeric.epsilon);var p,m,g,v,y,b,x,w,k,_,E=s.Hinv||numeric.identity(c),T=numeric.dot,C=(numeric.inv,numeric.sub),S=numeric.add,A=numeric.tensor,L=numeric.div,P=numeric.mul,M=numeric.all,D=numeric.isFinite,R=numeric.neg,j=0,N="";for(m=i(e);j<r;){if("function"==typeof o&&o(j,e,h,m,E)){N="Callback returned true";break}if(!M(D(m))){N="Gradient has Infinity or NaN";break}if(!M(D(p=R(T(E,m))))){N="Search direction has Infinity or NaN";break}if((_=f(p))<n){N="Newton step smaller than tol";break}for(k=1,u=T(m,p),y=e;j<r&&!(k*_<n)&&(y=S(e,v=P(p,k)),(l=t(y))-h>=.1*k*u||isNaN(l));)k*=.5,++j;if(k*_<n){N="Line search step size smaller than tol";break}if(j===r){N="maxit reached during line search";break}E=C(S(E,P(((w=T(b=C(g=i(y),m),v))+T(b,x=T(E,b)))/(w*w),A(v,v))),L(S(A(x,v),A(v,x)),w)),e=y,h=l,m=g,++j}return{solution:e,f:h,gradient:m,invHessian:E,iterations:j,message:N}},numeric.Dopri=function(t,e,n,i,r,o,s){this.x=t,this.y=e,this.f=n,this.ymid=i,this.iterations=r,this.events=s,this.message=o},numeric.Dopri.prototype._at=function(t,e){function n(t){return t*t}var i,r,o,s,a,l,u,c,h,d=this,f=d.x,p=d.y,m=d.f,g=d.ymid,v=(f.length,Math.floor,.5),y=numeric.add,b=numeric.mul,x=numeric.sub;return i=f[e],r=f[e+1],s=p[e],a=p[e+1],o=i+v*(r-i),l=g[e],u=x(m[e],b(s,1/(i-o)+2/(i-r))),c=x(m[e+1],b(a,1/(r-o)+2/(r-i))),y(y(y(y(b(s,(h=[n(t-r)*(t-o)/n(i-r)/(i-o),n(t-i)*n(t-r)/n(i-o)/n(r-o),n(t-i)*(t-o)/n(r-i)/(r-o),(t-i)*n(t-r)*(t-o)/n(i-r)/(i-o),(t-r)*n(t-i)*(t-o)/n(i-r)/(r-o)])[0]),b(l,h[1])),b(a,h[2])),b(u,h[3])),b(c,h[4]))},numeric.Dopri.prototype.at=function(t){var e,n,i,r=Math.floor;if("number"!=typeof t){var o=t.length,s=Array(o);for(e=o-1;-1!==e;--e)s[e]=this.at(t[e]);return s}var a=this.x;for(e=0,n=a.length-1;n-e>1;)a[i=r(.5*(e+n))]<=t?e=i:n=i;return this._at(t,e)},numeric.dopri=function(t,e,n,i,r,o,s){void 0===r&&(r=1e-6),void 0===o&&(o=1e3);var a,l,u,c,h,d,f,p,m,g,v,y,b,x=[t],w=[n],k=[i(t,n)],_=[],E=.2,T=[.075,.225],C=[44/45,-56/15,32/9],S=[19372/6561,-25360/2187,64448/6561,-212/729],A=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],L=[35/384,0,500/1113,125/192,-2187/6784,11/84],P=[.10013431883002395,0,.3918321794184259,-.02982460176594817,.05893268337240795,-.04497888809104361,.023904308236133973],M=[.2,.3,.8,8/9,1,1],D=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,.025],R=0,j=(e-t)/10,N=0,$=numeric.add,q=numeric.mul,H=(Math.max,Math.min),I=Math.abs,O=numeric.norminf,B=Math.pow,F=numeric.any,V=numeric.lt,U=numeric.and,W=(numeric.sub,new numeric.Dopri(x,w,k,_,-1,""));for("function"==typeof s&&(v=s(t,n));t<e&&N<o;)if(++N,t+j>e&&(j=e-t),a=i(t+M[0]*j,$(n,q(E*j,k[R]))),l=i(t+M[1]*j,$($(n,q(T[0]*j,k[R])),q(T[1]*j,a))),u=i(t+M[2]*j,$($($(n,q(C[0]*j,k[R])),q(C[1]*j,a)),q(C[2]*j,l))),c=i(t+M[3]*j,$($($($(n,q(S[0]*j,k[R])),q(S[1]*j,a)),q(S[2]*j,l)),q(S[3]*j,u))),h=i(t+M[4]*j,$($($($($(n,q(A[0]*j,k[R])),q(A[1]*j,a)),q(A[2]*j,l)),q(A[3]*j,u)),q(A[4]*j,c))),d=i(t+j,m=$($($($($(n,q(k[R],j*L[0])),q(l,j*L[2])),q(u,j*L[3])),q(c,j*L[4])),q(h,j*L[5]))),(g="number"==typeof(f=$($($($($(q(k[R],j*D[0]),q(l,j*D[2])),q(u,j*D[3])),q(c,j*D[4])),q(h,j*D[5])),q(d,j*D[6])))?I(f):O(f))>r){if(t+(j=.2*j*B(r/g,.25))===t){W.msg="Step size became too small";break}}else{if(_[R]=$($($($($($(n,q(k[R],j*P[0])),q(l,j*P[2])),q(u,j*P[3])),q(c,j*P[4])),q(h,j*P[5])),q(d,j*P[6])),x[++R]=t+j,w[R]=m,k[R]=d,"function"==typeof s){var z,X,K=t,Q=t+.5*j;if(y=s(Q,_[R-1]),F(b=U(V(v,0),V(0,y)))||(K=Q,v=y,y=s(Q=t+j,m),b=U(V(v,0),V(0,y))),F(b)){for(var Y,G,J=0,Z=1,tt=1;;){if("number"==typeof v)X=(tt*y*K-Z*v*Q)/(tt*y-Z*v);else for(X=Q,p=v.length-1;-1!==p;--p)v[p]<0&&y[p]>0&&(X=H(X,(tt*y[p]*K-Z*v[p]*Q)/(tt*y[p]-Z*v[p])));if(X<=K||X>=Q)break;G=s(X,z=W._at(X,R-1)),F(Y=U(V(v,0),V(0,G)))?(Q=X,y=G,b=Y,tt=1,-1===J?Z*=.5:Z=1,J=-1):(K=X,v=G,Z=1,1===J?tt*=.5:tt=1,J=1)}return m=W._at(.5*(t+X),R-1),W.f[R]=i(X,z),W.x[R]=X,W.y[R]=z,W.ymid[R-1]=m,W.events=b,W.iterations=N,W}}t+=j,n=m,v=y,j=H(.8*j*B(r/g,.25),4*j)}return W.iterations=N,W},numeric.LU=function(t,e){e=e||!1;var n,i,r,o,s,a,l,u,c,h=Math.abs,d=t.length,f=d-1,p=new Array(d);for(e||(t=numeric.clone(t)),r=0;r<d;++r){for(l=r,c=h((a=t[r])[r]),i=r+1;i<d;++i)c<(o=h(t[i][r]))&&(c=o,l=i);for(p[r]=l,l!=r&&(t[r]=t[l],t[l]=a,a=t[r]),s=a[r],
n=r+1;n<d;++n)t[n][r]/=s;for(n=r+1;n<d;++n){for(u=t[n],i=r+1;i<f;++i)u[i]-=u[r]*a[i],u[++i]-=u[r]*a[i];i===f&&(u[i]-=u[r]*a[i])}}return{LU:t,P:p}},numeric.LUsolve=function(t,e){var n,i,r,o,s,a=t.LU,l=a.length,u=numeric.clone(e),c=t.P;for(n=l-1;-1!==n;--n)u[n]=e[n];for(n=0;n<l;++n)for(r=c[n],c[n]!==n&&(s=u[n],u[n]=u[r],u[r]=s),o=a[n],i=0;i<n;++i)u[n]-=u[i]*o[i];for(n=l-1;n>=0;--n){for(o=a[n],i=n+1;i<l;++i)u[n]-=u[i]*o[i];u[n]/=o[n]}return u},numeric.solve=function(t,e,n){return numeric.LUsolve(numeric.LU(t,n),e)},numeric.echelonize=function(t){var e,n,i,r,o,s,a,l,u=numeric.dim(t),c=u[0],h=u[1],d=numeric.identity(c),f=Array(c),p=Math.abs,m=numeric.diveq;for(t=numeric.clone(t),e=0;e<c;++e){for(i=0,o=t[e],s=d[e],n=1;n<h;++n)p(o[i])<p(o[n])&&(i=n);for(f[e]=i,m(s,o[i]),m(o,o[i]),n=0;n<c;++n)if(n!==e){for(l=(a=t[n])[i],r=h-1;-1!==r;--r)a[r]-=o[r]*l;for(a=d[n],r=c-1;-1!==r;--r)a[r]-=s[r]*l}}return{I:d,A:t,P:f}},numeric.__solveLP=function(t,e,n,i,r,o,s){var a,l,u,c,h=numeric.sum,d=(numeric.log,numeric.mul),f=numeric.sub,p=numeric.dot,m=numeric.div,g=numeric.add,v=t.length,y=n.length,b=!1,x=0,w=1,k=(numeric.transpose(e),numeric.svd,numeric.transpose),_=(numeric.leq,Math.sqrt),E=Math.abs,T=(numeric.muleq,numeric.norminf,numeric.any,Math.min),C=numeric.all,S=numeric.gt,A=Array(v),L=Array(y),P=(numeric.rep([y],1),numeric.solve),M=f(n,p(e,o)),D=p(t,t);for(u=x;u<r;++u){var R,j;for(R=y-1;-1!==R;--R)L[R]=m(e[R],M[R]);var N=k(L);for(R=v-1;-1!==R;--R)A[R]=h(N[R]);w=.25*E(D/p(t,A));var $=100*_(D/p(A,A));for((!isFinite(w)||w>$)&&(w=$),c=g(t,d(w,A)),l=p(N,L),R=v-1;-1!==R;--R)l[R][R]+=1;var q=m(M,p(e,j=P(l,m(c,w),!0))),H=1;for(R=y-1;-1!==R;--R)q[R]<0&&(H=T(H,-.999*q[R]));if(!C(S(M=f(n,p(e,a=f(o,d(j,H)))),0)))return{solution:o,message:"",iterations:u};if(o=a,w<i)return{solution:a,message:"",iterations:u};if(s){var I=p(t,c),O=p(e,c);for(b=!0,R=y-1;-1!==R;--R)if(I*O[R]<0){b=!1;break}}else b=!(o[v-1]>=0);if(b)return{solution:a,message:"Unbounded",iterations:u}}return{solution:o,message:"maximum iteration count exceeded",iterations:u}},numeric._solveLP=function(t,e,n,i,r){var o=t.length,s=n.length,a=(numeric.sum,numeric.log,numeric.mul,numeric.sub),l=numeric.dot,u=(numeric.div,numeric.add,numeric.rep([o],0).concat([1])),c=numeric.rep([s,1],-1),h=numeric.blockMatrix([[e,c]]),d=n,f=numeric.rep([o],0).concat(Math.max(0,numeric.sup(numeric.neg(n)))+1),p=numeric.__solveLP(u,h,d,i,r,f,!1),m=numeric.clone(p.solution);if(m.length=o,numeric.inf(a(n,l(e,m)))<0)return{solution:NaN,message:"Infeasible",iterations:p.iterations};var g=numeric.__solveLP(t,e,n,i,r-p.iterations,m,!0);return g.iterations+=p.iterations,g},numeric.solveLP=function(t,e,n,i,r,o,s){if(void 0===s&&(s=1e3),void 0===o&&(o=numeric.epsilon),void 0===i)return numeric._solveLP(t,e,n,o,s);var a,l=i.length,u=i[0].length,c=e.length,h=numeric.echelonize(i),d=numeric.rep([u],0),f=h.P,p=[];for(a=f.length-1;-1!==a;--a)d[f[a]]=1;for(a=u-1;-1!==a;--a)0===d[a]&&p.push(a);var m=numeric.getRange,g=numeric.linspace(0,l-1),v=numeric.linspace(0,c-1),y=m(i,g,p),b=m(e,v,f),x=m(e,v,p),w=numeric.dot,k=numeric.sub,_=w(b,h.I),E=k(x,w(_,y)),T=k(n,w(_,r)),C=Array(f.length),S=Array(p.length);for(a=f.length-1;-1!==a;--a)C[a]=t[f[a]];for(a=p.length-1;-1!==a;--a)S[a]=t[p[a]];var A=k(S,w(C,w(h.I,y))),L=numeric._solveLP(A,E,T,o,s),P=L.solution;if(P!=P)return L;var M=w(h.I,k(r,w(y,P))),D=Array(t.length);for(a=f.length-1;-1!==a;--a)D[f[a]]=M[a];for(a=p.length-1;-1!==a;--a)D[p[a]]=P[a];return{solution:D,message:L.message,iterations:L.iterations}},numeric.MPStoLP=function(t){function e(e){throw new Error("MPStoLP: "+e+"\nLine "+n+": "+t[n]+"\nCurrent state: "+a[s]+"\n")}t instanceof String&&t.split("\n");var n,i,r,o,s=0,a=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],l=t.length,u=0,c={},h=[],d=0,f={},p=0,m=[],g=[],v=[];for(n=0;n<l;++n){var y=(r=t[n]).match(/\S*/g),b=[];for(i=0;i<y.length;++i)""!==y[i]&&b.push(y[i]);if(0!==b.length){for(i=0;i<a.length&&r.substr(0,a[i].length)!==a[i];++i);if(i<a.length){if(s=i,1===i&&(o=b[1]),6===i)return{name:o,c:m,A:numeric.transpose(g),b:v,rows:c,vars:f}}else switch(s){case 0:case 1:e("Unexpected line");case 2:switch(b[0]){case"N":0===u?u=b[1]:e("Two or more N rows");break;case"L":c[b[1]]=d,h[d]=1,v[d]=0,++d;break;case"G":c[b[1]]=d,h[d]=-1,v[d]=0,++d;break;case"E":c[b[1]]=d,h[d]=0,v[d]=0,++d;break;default:e("Parse error "+numeric.prettyPrint(b))}break;case 3:f.hasOwnProperty(b[0])||(f[b[0]]=p,m[p]=0,g[p]=numeric.rep([d],0),++p);var x=f[b[0]];for(i=1;i<b.length;i+=2)if(b[i]!==u){var w=c[b[i]];g[x][w]=(h[w]<0?-1:1)*parseFloat(b[i+1])}else m[x]=parseFloat(b[i+1]);break;case 4:for(i=1;i<b.length;i+=2)v[c[b[i]]]=(h[c[b[i]]]<0?-1:1)*parseFloat(b[i+1]);break;case 5:break;case 6:e("Internal error")}}}e("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(t,e,n,i,r,o,s){function a(t){var e,i,r=this,o=t.length,s=0,a=r.i=r.j=r.m=0;for(r.S=[],r.c=[],o||(t=[o++]);s<n;)r.S[s]=s++;for(s=0;s<n;s++)a=c(a+(e=r.S[s])+t[s%o]),i=r.S[a],r.S[s]=i,r.S[a]=e;r.g=function(t){var e=r.S,i=c(r.i+1),o=e[i],s=c(r.j+o),a=e[s];e[i]=a,e[s]=o;for(var l=e[c(o+a)];--t;)a=e[s=c(s+(o=e[i=c(i+1)]))],e[i]=a,e[s]=o,l=l*n+e[c(o+a)];return r.i=i,r.j=s,l},r.g(n)}function l(t,e,n,i,r){if(n=[],r=typeof t,e&&"object"==r)for(i in t)if(i.indexOf("S")<5)try{n.push(l(t[i],e-1))}catch(o){}return n.length?n:t+("string"!=r?"\0":"")}function u(t,e,n,i){for(t+="",n=0,i=0;i<t.length;i++)e[c(i)]=c((n^=19*e[c(i)])+t.charCodeAt(i));for(i in t="",e)t+=String.fromCharCode(e[i]);return t}function c(t){return t&n-1}e.seedrandom=function(c,h){var d,f=[];return c=u(l(h?[c,t]:arguments.length?c:[(new Date).getTime(),t,window],3),f),u((d=new a(f)).S,t),e.random=function(){for(var t=d.g(i),e=s,a=0;t<r;)t=(t+a)*n,e*=n,a=d.g(1);for(;t>=o;)t/=2,e/=2,a>>>=1;return(t+a)/e},c},s=e.pow(n,i),r=e.pow(2,r),o=2*r,u(e.random(),t)}([],numeric.seedrandom,256,6,52),function(){function t(e){if("object"!=typeof e)return e;var n,i=[],r=e.length;for(n=0;n<r;n++)i[n+1]=t(e[n]);return i}function e(t){if("object"!=typeof t)return t;var n,i=[],r=t.length;for(n=1;n<r;n++)i[n-1]=e(t[n]);return i}function n(t,e,n){var i,r,o,s,a;for(o=1;o<=n;o+=1){for(t[o][o]=1/t[o][o],a=-t[o][o],i=1;i<o;i+=1)t[i][o]=a*t[i][o];if(n<(s=o+1))break;for(r=s;r<=n;r+=1)for(a=t[o][r],t[o][r]=0,i=1;i<=o;i+=1)t[i][r]=t[i][r]+a*t[i][o]}}function i(t,e,n,i){var r,o,s,a;for(o=1;o<=n;o+=1){for(a=0,r=1;r<o;r+=1)a+=t[r][o]*i[r];i[o]=(i[o]-a)/t[o][o]}for(s=1;s<=n;s+=1)for(i[o=n+1-s]=i[o]/t[o][o],a=-i[o],r=1;r<o;r+=1)i[r]=i[r]+a*t[r][o]}function r(t,e,n,i){var r,o,s,a,l,u;for(o=1;o<=n;o+=1){if(i[1]=o,u=0,(s=o-1)<1){if((u=t[o][o]-u)<=0)break;t[o][o]=Math.sqrt(u)}else{for(a=1;a<=s;a+=1){for(l=t[a][o],r=1;r<a;r+=1)l-=t[r][o]*t[r][a];l/=t[a][a],t[a][o]=l,u+=l*l}if((u=t[o][o]-u)<=0)break;t[o][o]=Math.sqrt(u)}i[1]=0}}function o(t,e,o,s,a,l,u,c,h,d,f,p,m,g,v,y){function b(){for(g[1]=g[1]+1,C=R,E=1;E<=d;E+=1){for(C+=1,I=-c[E],T=1;T<=s;T+=1)I+=u[T][E]*a[T];if(Math.abs(I)<X&&(I=0),E>f)v[C]=I;else if(v[C]=-Math.abs(I),I>0){for(T=1;T<=s;T+=1)u[T][E]=-u[T][E];c[E]=-c[E]}}for(E=1;E<=m;E+=1)v[R+p[E]]=0;for(N=0,H=0,E=1;E<=d;E+=1)v[R+E]<H*v[q+E]&&(N=E,H=v[R+E]/v[q+E]);return 0===N?999:0}function x(){for(E=1;E<=s;E+=1){for(I=0,T=1;T<=s;T+=1)I+=t[T][E]*u[T][N];v[E]=I}for(S=P,E=1;E<=s;E+=1)v[S+E]=0;for(T=m+1;T<=s;T+=1)for(E=1;E<=s;E+=1)v[S+E]=v[S+E]+t[E][T]*v[T];for(W=!0,E=m;E>=1;E-=1){for(I=v[E],S=(C=D+E*(E+3)/2)-E,T=E+1;T<=m;T+=1)I-=v[C]*v[M+T],C+=T;if(I/=v[S],v[M+E]=I,p[E]<f)break;if(I<0)break;W=!1,L=E}if(!W)for(O=v[j+L]/v[M+L],E=1;E<=m&&!(p[E]<f)&&!(v[M+E]<0);E+=1)(H=v[j+E]/v[M+E])<O&&(O=H,L=E);for(I=0,E=P+1;E<=P+s;E+=1)I+=v[E]*v[E];if(Math.abs(I)<=X){if(W)return y[1]=1,999;for(E=1;E<=m;E+=1)v[j+E]=v[j+E]-O*v[M+E];return v[j+m+1]=v[j+m+1]+O,700}for(I=0,E=1;E<=s;E+=1)I+=v[P+E]*u[E][N];for(B=-v[R+N]/I,z=!0,W||O<B&&(B=O,z=!1),E=1;E<=s;E+=1)a[E]=a[E]+B*v[P+E],Math.abs(a[E])<X&&(a[E]=0);for(l[1]=l[1]+B*I*(B/2+v[j+m+1]),E=1;E<=m;E+=1)v[j+E]=v[j+E]-B*v[M+E];if(v[j+m+1]=v[j+m+1]+B,!z){for(I=-c[N],T=1;T<=s;T+=1)I+=a[T]*u[T][N];if(N>f)v[R+N]=I;else if(v[R+N]=-Math.abs(I),I>0){for(T=1;T<=s;T+=1)u[T][N]=-u[T][N];c[N]=-c[N]}return 700}for(p[m+=1]=N,C=D+(m-1)*m/2+1,E=1;E<=m-1;E+=1)v[C]=v[E],C+=1;if(m===s)v[C]=v[s];else{for(E=s;E>=m+1&&0!==v[E]&&(F=Math.max(Math.abs(v[E-1]),Math.abs(v[E])),V=Math.min(Math.abs(v[E-1]),Math.abs(v[E])),H=v[E-1]>=0?Math.abs(F*Math.sqrt(1+V*V/(F*F))):-Math.abs(F*Math.sqrt(1+V*V/(F*F))),F=v[E-1]/H,V=v[E]/H,1!==F);E-=1)if(0===F)for(v[E-1]=V*H,T=1;T<=s;T+=1)H=t[T][E-1],t[T][E-1]=t[T][E],t[T][E]=H;else for(v[E-1]=H,U=V/(1+F),T=1;T<=s;T+=1)H=F*t[T][E-1]+V*t[T][E],t[T][E]=U*(t[T][E-1]+H)-t[T][E],t[T][E-1]=H;v[C]=v[m]}return 0}function w(){if(0===v[S=(C=D+L*(L+1)/2+1)+L])return 798;if(F=Math.max(Math.abs(v[S-1]),Math.abs(v[S])),V=Math.min(Math.abs(v[S-1]),Math.abs(v[S])),H=v[S-1]>=0?Math.abs(F*Math.sqrt(1+V*V/(F*F))):-Math.abs(F*Math.sqrt(1+V*V/(F*F))),F=v[S-1]/H,V=v[S]/H,1===F)return 798;if(0===F){for(E=L+1;E<=m;E+=1)H=v[S-1],v[S-1]=v[S],v[S]=H,S+=E;for(E=1;E<=s;E+=1)H=t[E][L],t[E][L]=t[E][L+1],t[E][L+1]=H}else{for(U=V/(1+F),E=L+1;E<=m;E+=1)H=F*v[S-1]+V*v[S],v[S]=U*(v[S-1]+H)-v[S],v[S-1]=H,S+=E;for(E=1;E<=s;E+=1)H=F*t[E][L]+V*t[E][L+1],t[E][L+1]=U*(t[E][L]+H)-t[E][L+1],t[E][L]=H}return 0}function k(){for(S=C-L,E=1;E<=L;E+=1)v[S]=v[C],C+=1,S+=1;return v[j+L]=v[j+L+1],p[L]=p[L+1],(L+=1)<m?797:0}function _(){return v[j+m]=v[j+m+1],v[j+m+1]=0,p[m]=0,m-=1,g[2]=g[2]+1,0}var E,T,C,S,A,L,P,M,D,R,j,N,$,q,H,I,O,B,F,V,U,W,z,X,K,Q,Y;$=Math.min(s,d),C=2*s+$*($+5)/2+2*d+1,X=1e-60;do{K=1+.1*(X+=X),Q=1+.2*X}while(K<=1||Q<=1);for(E=1;E<=s;E+=1)v[E]=e[E];for(E=s+1;E<=C;E+=1)v[E]=0;for(E=1;E<=d;E+=1)p[E]=0;if(A=[],0===y[1]){if(r(t,o,s,A),0!==A[1])return void(y[1]=2);i(t,o,s,e),n(t,o,s)}else{for(T=1;T<=s;T+=1)for(a[T]=0,E=1;E<=T;E+=1)a[T]=a[T]+t[E][T]*e[E];for(T=1;T<=s;T+=1)for(e[T]=0,E=T;E<=s;E+=1)e[T]=e[T]+t[T][E]*a[E]}for(l[1]=0,T=1;T<=s;T+=1)for(a[T]=e[T],l[1]=l[1]+v[T]*a[T],v[T]=0,E=T+1;E<=s;E+=1)t[E][T]=0;for(l[1]=-l[1]/2,y[1]=0,q=(R=(D=(j=(M=(P=s)+s)+$)+$+1)+$*($+1)/2)+d,E=1;E<=d;E+=1){for(I=0,T=1;T<=s;T+=1)I+=u[T][E]*u[T][E];v[q+E]=Math.sqrt(I)}for(m=0,g[1]=0,g[2]=0,Y=0;;){if(999===(Y=b()))return;for(;0!==(Y=x());){if(999===Y)return;if(700===Y)if(L===m)_();else{for(;w(),797===(Y=k()););_()}}}}function s(n,i,r,s,a,l){n=t(n),i=t(i),r=t(r);var u,c,h,d,f,p,m=[],g=[],v=[],y=[],b=[];if(a=a||0,l=l?t(l):[undefined,0],s=s?t(s):[],c=n.length-1,h=r[1].length-1,!s)for(u=1;u<=h;u+=1)s[u]=0;for(u=1;u<=h;u+=1)g[u]=0;for(d=0,f=Math.min(c,h),u=1;u<=c;u+=1)v[u]=0;for(m[1]=0,u=1;u<=2*c+f*(f+5)/2+2*h+1;u+=1)y[u]=0;for(u=1;u<=2;u+=1)b[u]=0;return o(n,i,c,c,v,m,r,s,c,h,a,g,d,b,y,l),p="",1===l[1]&&(p="constraints are inconsistent, no solution!"),2===l[1]&&(p="matrix D in quadratic function is not positive definite!"),{solution:e(v),value:e(m),unconstrained_solution:e(i),iterations:e(b),iact:e(g),message:p}}numeric.solveQP=s}(),numeric.svd=function(t){function e(t,e){return(t=Math.abs(t))>(e=Math.abs(e))?t*Math.sqrt(1+e*e/t/t):0==e?t:e*Math.sqrt(1+t*t/e/e)}var n,i=numeric.epsilon,r=1e-64/i,o=50,s=0,a=0,l=0,u=0,c=0,h=numeric.clone(t),d=h.length,f=h[0].length;if(d<f)throw"Need more rows than columns";var p=new Array(f),m=new Array(f);for(a=0;a<f;a++)p[a]=m[a]=0;var g=numeric.rep([f,f],0),v=0,y=0,b=0,x=0,w=0,k=0,_=0;for(a=0;a<f;a++){for(p[a]=y,_=0,c=a+1,l=a;l<d;l++)_+=h[l][a]*h[l][a];if(_<=r)y=0;else for(v=h[a][a],y=Math.sqrt(_),v>=0&&(y=-y),b=v*y-_,h[a][a]=v-y,l=c;l<f;l++){for(_=0,u=a;u<d;u++)_+=h[u][a]*h[u][l];for(v=_/b,u=a;u<d;u++)h[u][l]+=v*h[u][a]}for(m[a]=y,_=0,l=c;l<f;l++)_+=h[a][l]*h[a][l];if(_<=r)y=0;else{for(v=h[a][a+1],y=Math.sqrt(_),v>=0&&(y=-y),b=v*y-_,h[a][a+1]=v-y,l=c;l<f;l++)p[l]=h[a][l]/b;for(l=c;l<d;l++){for(_=0,u=c;u<f;u++)_+=h[l][u]*h[a][u];for(u=c;u<f;u++)h[l][u]+=_*p[u]}}(w=Math.abs(m[a])+Math.abs(p[a]))>x&&(x=w)}for(a=f-1;-1!=a;a+=-1){if(0!=y){for(b=y*h[a][a+1],l=c;l<f;l++)g[l][a]=h[a][l]/b;for(l=c;l<f;l++){for(_=0,u=c;u<f;u++)_+=h[a][u]*g[u][l];for(u=c;u<f;u++)g[u][l]+=_*g[u][a]}}for(l=c;l<f;l++)g[a][l]=0,g[l][a]=0;g[a][a]=1,y=p[a],c=a}for(a=f-1;-1!=a;a+=-1){for(c=a+1,y=m[a],l=c;l<f;l++)h[a][l]=0;if(0!=y){for(b=h[a][a]*y,l=c;l<f;l++){for(_=0,u=c;u<d;u++)_+=h[u][a]*h[u][l];for(v=_/b,u=a;u<d;u++)h[u][l]+=v*h[u][a]}for(l=a;l<d;l++)h[l][a]=h[l][a]/y}else for(l=a;l<d;l++)h[l][a]=0;h[a][a]+=1}for(i*=x,u=f-1;-1!=u;u+=-1)for(var E=0;E<o;E++){var T=!1;for(c=u;-1!=c;c+=-1){if(Math.abs(p[c])<=i){T=!0;break}if(Math.abs(m[c-1])<=i)break}if(!T){s=0,_=1;var C=c-1;for(a=c;a<u+1&&(v=_*p[a],p[a]=s*p[a],!(Math.abs(v)<=i));a++)for(b=e(v,y=m[a]),m[a]=b,s=y/b,_=-v/b,l=0;l<d;l++)w=h[l][C],k=h[l][a],h[l][C]=w*s+k*_,h[l][a]=-w*_+k*s}if(k=m[u],c==u){if(k<0)for(m[u]=-k,l=0;l<f;l++)g[l][u]=-g[l][u];break}if(E>=o-1)throw"Error: no convergence.";for(x=m[c],y=e(v=(((w=m[u-1])-k)*(w+k)+((y=p[u-1])-(b=p[u]))*(y+b))/(2*b*w),1),v=v<0?((x-k)*(x+k)+b*(w/(v-y)-b))/x:((x-k)*(x+k)+b*(w/(v+y)-b))/x,s=1,_=1,a=c+1;a<u+1;a++){for(y=p[a],w=m[a],b=_*y,y*=s,k=e(v,b),p[a-1]=k,v=x*(s=v/k)+y*(_=b/k),y=-x*_+y*s,b=w*_,w*=s,l=0;l<f;l++)x=g[l][a-1],k=g[l][a],g[l][a-1]=x*s+k*_,g[l][a]=-x*_+k*s;for(k=e(v,b),m[a-1]=k,v=(s=v/k)*y+(_=b/k)*w,x=-_*y+s*w,l=0;l<d;l++)w=h[l][a-1],k=h[l][a],h[l][a-1]=w*s+k*_,h[l][a]=-w*_+k*s}p[c]=0,p[u]=v,m[u]=x}for(a=0;a<m.length;a++)m[a]<i&&(m[a]=0);for(a=0;a<f;a++)for(l=a-1;l>=0;l--)if(m[l]<m[a]){for(s=m[l],m[l]=m[a],m[a]=s,u=0;u<h.length;u++)n=h[u][a],h[u][a]=h[u][l],h[u][l]=n;for(u=0;u<g.length;u++)n=g[u][a],g[u][a]=g[u][l],g[u][l]=n;a=l}return{U:h,S:m,V:g}};var SignaturePadSmooth=function(t,e){var n=-1,i=e.takePointsEvery||4,r=e.thresholdSmooth||20,o={stats:function(t){for(var e,n={mean:0,variance:0,deviation:0},i=t.length,r=0,o=i;o--;r+=t[o]);for(e=n.mean=r/i,o=i,r=0;o--;r+=Math.pow(t[o]-e,2));return n.deviation=Math.sqrt(n.variance=r/i),n},generate141Matrix:function(t){for(var e=[],n=0;n<t;n++){for(var i=[],r=0;r<t;r++)r===n?i.push(4):1===Math.abs(n-r)?i.push(1):i.push(0);e.push(i)}return e},generateConstantMatrix:function(t){var e=[];e.push(numeric.sub(numeric.mul(t[1],6),t[0]));for(var n=2;n<t.length-2;n++)e.push(numeric.mul(t[n],6));return e.push(numeric.sub(numeric.mul(t[t.length-2],6),t[t.length-1])),e},convertBSplineControlPointsToBezierControlPoints:function(t){for(var e=[],n=0;n<t.length-1;n++){if(0===n)var i=t[0];else i=s;var r=numeric.add(numeric.mul(2/3,t[n]),numeric.mul(1/3,t[n+1])),o=numeric.add(numeric.mul(1/3,t[n]),numeric.mul(2/3,t[n+1]));if(n==t.length-2)var s=t[t.length-1];else s=numeric.add(numeric.mul(1/6,t[n]),numeric.mul(2/3,t[n+1]),numeric.mul(1/6,t[n+2]));var a=[i,r,o,s];e.push(a)}return e},getBezierControlPoints:function(t){if(t.length<4){if(3===t.length)return[r=[t[0],t[1],t[1],t[2]]];if(2===t.length)return[r=[t[0],t[0],t[1],t[1]]];if(1===t.length)return[r=[t[0],t[0],t[0],t[0]]]}var e=o.generate141Matrix(t.length-2),n=o.generateConstantMatrix(t),i=numeric.dot(numeric.inv(e),n);i.splice(0,0,t[0]),i.push(t[t.length-1]);var r=o.convertBSplineControlPointsToBezierControlPoints(i);return r}},s={_subSample:function(t){for(var e,o,a,l=0,u=t.slice(),c=t.length-1;c>=0;c-=1){if((e=t[c]).length>=1&&e.length<=2&&e[0].x===n&&e[0].y===n){l=c;break}a=[];for(var h=e[0].time,d=(e[e.length-1].time-h)/e.length>r?i:Math.floor(i/2),f=0,p=e.length;f<p;f+=1)f%d==0&&a.push(e[f]);(p-1)%d!=0&&a.push(e[p-1]),o||(o=a[a.length-1]),u[c]=s._interpolateWithBeziers(a)}return l&&u.splice(l,1),o&&u.push([{x:n,y:n,color:o.color,time:o.time+1}]),u},_interpolateWithBeziers:function(t){if(i<2)return t;for(var e,n,s,a,l,u,c=new Array(t.length),h=[],d=.35,f=d*d,p=f*d,m=.65,g=m*m,v=g*m,y=0,b=t.length;y<b;y+=1)n=t[y],c[y]=[n.x,n.y];for(var x=0,w=(e=o.getBezierControlPoints(c)).length;x<w;x+=1)s=e[x],u=t[x+1]?t[x+1].time-t[x].time:r,a={x:v*s[0][0]+3*g*d*s[1][0]+3*m*f*s[2][0]+p*s[3][0],y:v*s[0][1]+3*g*d*s[1][1]+3*m*f*s[2][1]+p*s[3][1],color:t[x].color,time:Math.floor(t[x].time+u*d)},l={x:p*s[0][0]+3*f*m*s[1][0]+3*d*g*s[2][0]+v*s[3][0],y:p*s[0][1]+3*f*m*s[1][1]+3*d*g*s[2][1]+v*s[3][1],color:t[x].color,time:Math.floor(t[x].time+u*m)},h.push(t[x]),h.push(a),h.push(l);return h.push(t[t.length-1]),h},onEndCallBack:function(){console.time("Processing smooth");var e=t.toData(),n=s._subSample(e);t.fromData(n),console.timeEnd("Processing smooth")}};return s.onEndCallBack},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},windowIsDefined="object"===("undefined"==typeof window?"undefined":_typeof(window));
/*! =======================================================
                      VERSION  10.6.2              
========================================================= */!function(t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){var e;try{e=require("jquery")}catch(n){e=null}module.exports=t(e)}else window&&(window.Slider=t(window.jQuery))}(function(t){var e,n="slider",i="bootstrapSlider";return windowIsDefined&&!window.console&&(window.console={}),windowIsDefined&&!window.console.log&&(window.console.log=function(){}),windowIsDefined&&!window.console.warn&&(window.console.warn=function(){}),function(t){"use strict";function e(){}function n(t){function n(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function r(e,n){t.fn[e]=function(r){if("string"==typeof r){for(var s=i.call(arguments,1),a=0,l=this.length;a<l;a++){var u=this[a],c=t.data(u,e);if(c)if(t.isFunction(c[r])&&"_"!==r.charAt(0)){var h=c[r].apply(c,s);if(h!==undefined&&h!==c)return h}else o("no such method '"+r+"' for "+e+" instance");else o("cannot call methods on "+e+" prior to initialization; attempted to call '"+r+"'")}return this}var d=this.map(function(){var i=t.data(this,e);return i?(i.option(r),i._init()):(i=new n(this,r),t.data(this,e,i)),t(this)});return 1===d.length?d[0]:d}}if(t){var o="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){n(e),r(t,e)},t.bridget}}var i=Array.prototype.slice;n(t)}(t),function(t){function r(e,n){function i(t,e){var n="data-slider-"+e.replace(/_/g,"-"),i=t.getAttribute(n);try{return JSON.parse(i)}catch(r){return i}}this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1,tickIndex:null},this.ticksCallbackMap={},this.handleCallbackMap={},"string"==typeof e?this.element=document.querySelector(e):e instanceof HTMLElement&&(this.element=e),n=n||{};for(var r=Object.keys(this.defaultOptions),o=n.hasOwnProperty("min"),s=n.hasOwnProperty("max"),l=0;l<r.length;l++){var u=r[l],c=n[u];c=null!==(c=void 0!==c?c:i(this.element,u))?c:this.defaultOptions[u],this.options||(this.options={}),this.options[u]=c}if(this.ticksAreValid=Array.isArray(this.options.ticks)&&this.options.ticks.length>0,this.ticksAreValid||(this.options.lock_to_ticks=!1),"auto"===this.options.rtl){var h=window.getComputedStyle(this.element);this.options.rtl=null!=h?"rtl"===h.direction:"rtl"===this.element.style.direction}"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.rtl?this.options.tooltip_position="left":this.options.tooltip_position="right";var d,f,p,m,g,v=this.element.style.width,y=!1,b=this.element.parentNode;if(this.sliderElem)y=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var x=document.createElement("div");x.className="slider-track",(f=document.createElement("div")).className="slider-track-low",(d=document.createElement("div")).className="slider-selection",(p=document.createElement("div")).className="slider-track-high",(m=document.createElement("div")).className="slider-handle min-slider-handle",m.setAttribute("role","slider"),m.setAttribute("aria-valuemin",this.options.min),m.setAttribute("aria-valuemax",this.options.max),(g=document.createElement("div")).className="slider-handle max-slider-handle",g.setAttribute("role","slider"),g.setAttribute("aria-valuemin",this.options.min),g.setAttribute("aria-valuemax",this.options.max),x.appendChild(f),x.appendChild(d),x.appendChild(p),this.rangeHighlightElements=[];var w=this.options.rangeHighlights;if(Array.isArray(w)&&w.length>0)for(var k=0;k<w.length;k++){var _=document.createElement("div"),E=w[k]["class"]||"";_.className="slider-rangeHighlight slider-selection "+E,this.rangeHighlightElements.push(_),x.appendChild(_)}var T=Array.isArray(this.options.labelledby);if(T&&this.options.labelledby[0]&&m.setAttribute("aria-labelledby",this.options.labelledby[0]),T&&this.options.labelledby[1]&&g.setAttribute("aria-labelledby",this.options.labelledby[1]),!T&&this.options.labelledby&&(m.setAttribute("aria-labelledby",this.options.labelledby),g.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(this.ticksContainer=document.createElement("div"),this.ticksContainer.className="slider-tick-container",l=0;l<this.options.ticks.length;l++){var C=document.createElement("div");if(C.className="slider-tick",this.options.ticks_tooltip){var S=this._addTickListener(),A=S.addMouseEnter(this,C,l),L=S.addMouseLeave(this,C);this.ticksCallbackMap[l]={mouseEnter:A,mouseLeave:L}}this.ticks.push(C),this.ticksContainer.appendChild(C)}d.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",l=0;l<this.options.ticks_labels.length;l++){var P=document.createElement("div"),M=0===this.options.ticks_positions.length,D=this.options.reversed&&M?this.options.ticks_labels.length-(l+1):l;P.className="slider-tick-label",P.innerHTML=this.options.ticks_labels[D],this.tickLabels.push(P),this.tickLabelContainer.appendChild(P)}var R=function(t){var e=document.createElement("div");e.className="tooltip-arrow";var n=document.createElement("div");n.className="tooltip-inner",t.appendChild(e),t.appendChild(n)},j=document.createElement("div");j.className="tooltip tooltip-main",j.setAttribute("role","presentation"),R(j);var N=document.createElement("div");N.className="tooltip tooltip-min",N.setAttribute("role","presentation"),R(N);var $=document.createElement("div");$.className="tooltip tooltip-max",$.setAttribute("role","presentation"),R($),this.sliderElem.appendChild(x),this.sliderElem.appendChild(j),this.sliderElem.appendChild(N),this.sliderElem.appendChild($),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer),this.sliderElem.appendChild(m),this.sliderElem.appendChild(g),b.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(t&&(this.$element=t(this.element),this.$sliderElem=t(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),a[this.options.scale]&&(this.options.scale=a[this.options.scale]),!0===y&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.sliderElem,"slider-rtl"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","right","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)},this),[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top"),this._removeClass(t,"right"),this._removeClass(t,"left"),this._removeClass(t,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=v,this.options.orientation="horizontal",this.options.rtl?this.stylePos="right":this.stylePos="left",this.mousePos="clientX",this.sizePos="offsetWidth"),this.options.rtl&&this._addClass(this.sliderElem,"slider-rtl"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(s||(this.options.max=Math.max.apply(Math,this.options.ticks)),o||(this.options.min=Math.min.apply(Math,this.options.ticks))),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=f||this.trackLow,this.trackSelection=d||this.trackSelection,this.trackHigh=p||this.trackHigh,"none"===this.options.selection?(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")):"after"!==this.options.selection&&"before"!==this.options.selection||(this._removeClass(this.trackLow,"hide"),this._removeClass(this.trackSelection,"hide"),this._removeClass(this.trackHigh,"hide")),this.handle1=m||this.handle1,this.handle2=g||this.handle2,!0===y)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),l=0;l<this.ticks.length;l++)this._removeClass(this.ticks[l],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),l=0;l<this.ticks.length;l++)this._addClass(this.ticks[l],this.options.handle);if(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable&&(this.sliderElem.addEventListener("touchstart",this.touchstart,!1),this.sliderElem.addEventListener("touchmove",this.touchmove,!1)),this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip)this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide");else if("always"===this.options.tooltip)this._showTooltip(),this._alwaysShowTooltip=!0;else{if(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip){var q=this._addTickListener(),H=q.addMouseEnter(this,this.handle1),I=q.addMouseLeave(this,this.handle1);this.handleCallbackMap.handle1={mouseEnter:H,mouseLeave:I},H=q.addMouseEnter(this,this.handle2),I=q.addMouseLeave(this,this.handle2),this.handleCallbackMap.handle2={mouseEnter:H,mouseLeave:I}}else this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1),this.touchCapable&&(this.sliderElem.addEventListener("touchstart",this.showTooltip,!1),this.sliderElem.addEventListener("touchmove",this.showTooltip,!1),this.sliderElem.addEventListener("touchend",this.hideTooltip,!1));this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1),this.touchCapable&&(this.handle1.addEventListener("touchstart",this.showTooltip,!1),this.handle1.addEventListener("touchmove",this.showTooltip,!1),this.handle1.addEventListener("touchend",this.hideTooltip,!1),this.handle2.addEventListener("touchstart",this.showTooltip,!1),this.handle2.addEventListener("touchmove",this.showTooltip,!1),this.handle2.addEventListener("touchend",this.hideTooltip,!1))}this.options.enabled?this.enable():this.disable()}var o=void 0,s={formatInvalidInputErrorMsg:function(t){return"Invalid input value '"+t+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},a={linear:{getValue:function(t,e){return t<e.min?e.min:t>e.max?e.max:t},toValue:function(t){var e=t/100*(this.options.max-this.options.min),n=!0;if(this.options.ticks_positions.length>0){for(var i,r,o,s=0,l=1;l<this.options.ticks_positions.length;l++)if(t<=this.options.ticks_positions[l]){i=this.options.ticks[l-1],o=this.options.ticks_positions[l-1],r=this.options.ticks[l],s=this.options.ticks_positions[l];break}e=i+(t-o)/(s-o)*(r-i),n=!1}var u=(n?this.options.min:0)+Math.round(e/this.options.step)*this.options.step;return a.linear.getValue(u,this.options)},toPercentage:function(t){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var e,n,i,r=0,o=0;o<this.options.ticks.length;o++)if(t<=this.options.ticks[o]){e=o>0?this.options.ticks[o-1]:0,i=o>0?this.options.ticks_positions[o-1]:0,n=this.options.ticks[o],r=this.options.ticks_positions[o];break}if(o>0)return i+(t-e)/(n-e)*(r-i)}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var e=1-this.options.min,n=Math.log(this.options.min+e),i=Math.log(this.options.max+e),r=Math.exp(n+(i-n)*t/100)-e;return Math.round(r)===i?i:(r=this.options.min+Math.round((r-this.options.min)/this.options.step)*this.options.step,a.linear.getValue(r,this.options))},toPercentage:function(t){if(this.options.max===this.options.min)return 0;var e=1-this.options.min,n=Math.log(this.options.max+e),i=Math.log(this.options.min+e);return 100*(Math.log(t+e)-i)/(n-i)}}};(e=function(t,e){return r.call(this,t,e),this}).prototype={_init:function(){},constructor:e,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,lock_to_ticks:!1,handle:"round",reversed:!1,rtl:"auto",enabled:!0,formatter:function(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:"linear",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(t,e,n){t||(t=0);var i=this.getValue();this._state.value=this._validateInputValue(t);var r=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=r(this._state.value[0]),this._state.value[1]=r(this._state.value[1]),this.ticksAreValid&&this.options.lock_to_ticks&&(this._state.value[0]=this.options.ticks[this._getClosestTickIndex(this._state.value[0])],this._state.value[1]=this.options.ticks[this._getClosestTickIndex(this._state.value[1])]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=r(this._state.value),this.ticksAreValid&&this.options.lock_to_ticks&&(this._state.value=this.options.ticks[this._getClosestTickIndex(this._state.value)]),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this._setTickIndex(),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var o=this.options.range?this._state.value:this._state.value[0];this._setDataVal(o),!0===e&&this._trigger("slide",o);return(Array.isArray(o)?i[0]!==o[0]||i[1]!==o[1]:i!==o)&&!0===n&&this._trigger("change",{oldValue:i,newValue:o}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),t&&(this._unbindJQueryEventHandlers(),o===n&&this.$element.removeData(o),this.$element.removeData(i))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(t,e){return this._bindNonQueryEventHandler(t,e),this},off:function(e,n){t?(this.$element.off(e,n),this.$sliderElem.off(e,n)):this._unbindNonQueryEventHandler(e,n)},getAttribute:function(t){return t?this.options[t]:this.options},setAttribute:function(t,e){return this.options[t]=e,this},refresh:function(e){var s=this.getValue();return this._removeSliderEventHandlers(),r.call(this,this.element,this.options),e&&!0===e.useCurrentValue&&this.setValue(s),t&&(o===n?(t.data(this.element,n,this),t.data(this.element,i,this)):t.data(this.element,i,this)),this},relayout:function(){return this._resize(),this},_removeTooltipListener:function(t,e){this.handle1.removeEventListener(t,e,!1),this.handle2.removeEventListener(t,e,!1)},_removeSliderEventHandlers:function(){if(this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var t=this.ticksContainer.getElementsByClassName("slider-tick"),e=0;e<t.length;e++)t[e].removeEventListener("mouseenter",this.ticksCallbackMap[e].mouseEnter,!1),t[e].removeEventListener("mouseleave",this.ticksCallbackMap[e].mouseLeave,!1);this.handleCallbackMap.handle1&&this.handleCallbackMap.handle2&&(this.handle1.removeEventListener("mouseenter",this.handleCallbackMap.handle1.mouseEnter,!1),this.handle2.removeEventListener("mouseenter",this.handleCallbackMap.handle2.mouseEnter,!1),this.handle1.removeEventListener("mouseleave",this.handleCallbackMap.handle1.mouseLeave,!1),this.handle2.removeEventListener("mouseleave",this.handleCallbackMap.handle2.mouseLeave,!1))}this.handleCallbackMap=null,this.ticksCallbackMap=null,this.showTooltip&&this._removeTooltipListener("focus",this.showTooltip),this.hideTooltip&&this._removeTooltipListener("blur",this.hideTooltip),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),this.touchCapable&&(this.showTooltip&&(this.handle1.removeEventListener("touchstart",this.showTooltip,!1),this.handle1.removeEventListener("touchmove",this.showTooltip,!1),this.handle2.removeEventListener("touchstart",this.showTooltip,!1),this.handle2.removeEventListener("touchmove",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("touchend",this.hideTooltip,!1),this.handle2.removeEventListener("touchend",this.hideTooltip,!1)),this.showTooltip&&(this.sliderElem.removeEventListener("touchstart",this.showTooltip,!1),this.sliderElem.removeEventListener("touchmove",this.showTooltip,!1)),this.hideTooltip&&this.sliderElem.removeEventListener("touchend",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.touchstart,!1),this.sliderElem.removeEventListener("touchmove",this.touchmove,!1)),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(t,e){this.eventToCallbackMap[t]===undefined&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(e)},_unbindNonQueryEventHandler:function(t,e){var n=this.eventToCallbackMap[t];if(n!==undefined)for(var i=0;i<n.length;i++)if(n[i]===e){n.splice(i,1);break}},_cleanUpEventCallbacksMap:function(){for(var t=Object.keys(this.eventToCallbackMap),e=0;e<t.length;e++){var n=t[e];delete this.eventToCallbackMap[n]}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this._alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_setToolTipOnMouseOver:function(t){function e(t,e){return e?[100-t.percentage[0],n.options.range?100-t.percentage[1]:t.percentage[1]]:[t.percentage[0],t.percentage[1]]}var n=this,i=this.options.formatter(t?t.value[0]:this._state.value[0]),r=e(t||this._state,this.options.reversed);this._setText(this.tooltipInner,i),this.tooltip.style[this.stylePos]=r[0]+"%"},_copyState:function(){return{value:[this._state.value[0],this._state.value[1]],enabled:this._state.enabled,offset:this._state.offset,size:this._state.size,percentage:[this._state.percentage[0],this._state.percentage[1],this._state.percentage[2]],inDrag:this._state.inDrag,over:this._state.over,dragged:this._state.dragged,keyCtrl:this._state.keyCtrl}},_addTickListener:function(){return{addMouseEnter:function(t,e,n){var i=function(){var i=t._copyState(),r=e===t.handle1?i.value[0]:i.value[1],o=void 0;n!==undefined?(r=t.options.ticks[n],o=t.options.ticks_positions.length>0&&t.options.ticks_positions[n]||t._toPercentage(t.options.ticks[n])):o=t._toPercentage(r),i.value[0]=r,i.percentage[0]=o,t._setToolTipOnMouseOver(i),t._showTooltip()};return e.addEventListener("mouseenter",i,!1),i},addMouseLeave:function(t,e){var n=function(){t._hideTooltip()};return e.addEventListener("mouseleave",n,!1),n}}},_layout:function(){var t,e,n;if(t=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),e=this.options.formatter(this._state.value[0]),isNaN(e)?this.handle1.setAttribute("aria-valuetext",e):this.handle1.removeAttribute("aria-valuetext"),this.handle2.style[this.stylePos]=t[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),e=this.options.formatter(this._state.value[1]),isNaN(e)?this.handle2.setAttribute("aria-valuetext",e):this.handle2.removeAttribute("aria-valuetext"),this.rangeHighlightElements.length>0&&Array.isArray(this.options.rangeHighlights)&&this.options.rangeHighlights.length>0)for(var i=0;i<this.options.rangeHighlights.length;i++){var r=this._toPercentage(this.options.rangeHighlights[i].start),o=this._toPercentage(this.options.rangeHighlights[i].end);if(this.options.reversed){var s=100-o;o=100-r,r=s}var a=this._createHighlightRange(r,o);a?"vertical"===this.options.orientation?(this.rangeHighlightElements[i].style.top=a.start+"%",this.rangeHighlightElements[i].style.height=a.size+"%"):(this.options.rtl?this.rangeHighlightElements[i].style.right=a.start+"%":this.rangeHighlightElements[i].style.left=a.start+"%",this.rangeHighlightElements[i].style.width=a.size+"%"):this.rangeHighlightElements[i].style.display="none"}if(Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var l,u="vertical"===this.options.orientation?"height":"width";l="vertical"===this.options.orientation?"marginTop":this.options.rtl?"marginRight":"marginLeft";var c=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var h=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[l]=-c/2+"px"),h=this.tickLabelContainer.offsetHeight;else for(d=0;d<this.tickLabelContainer.childNodes.length;d++)this.tickLabelContainer.childNodes[d].offsetHeight>h&&(h=this.tickLabelContainer.childNodes[d].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=h+"px")}for(var d=0;d<this.options.ticks.length;d++){var f=this.options.ticks_positions[d]||this._toPercentage(this.options.ticks[d]);this.options.reversed&&(f=100-f),this.ticks[d].style[this.stylePos]=f+"%",this._removeClass(this.ticks[d],"in-selection"),this.options.range?f>=t[0]&&f<=t[1]&&this._addClass(this.ticks[d],"in-selection"):"after"===this.options.selection&&f>=t[0]?this._addClass(this.ticks[d],"in-selection"):"before"===this.options.selection&&f<=t[0]&&this._addClass(this.ticks[d],"in-selection"),this.tickLabels[d]&&(this.tickLabels[d].style[u]=c+"px","vertical"!==this.options.orientation&&this.options.ticks_positions[d]!==undefined?(this.tickLabels[d].style.position="absolute",this.tickLabels[d].style[this.stylePos]=f+"%",this.tickLabels[d].style[l]=-c/2+"px"):"vertical"===this.options.orientation&&(this.options.rtl?this.tickLabels[d].style.marginRight=this.sliderElem.offsetWidth+"px":this.tickLabels[d].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style[l]=this.sliderElem.offsetWidth/2*-1+"px"),this._removeClass(this.tickLabels[d],"label-in-selection label-is-selection"),this.options.range?f>=t[0]&&f<=t[1]&&(this._addClass(this.tickLabels[d],"label-in-selection"),(f===t[0]||t[1])&&this._addClass(this.tickLabels[d],"label-is-selection")):("after"===this.options.selection&&f>=t[0]?this._addClass(this.tickLabels[d],"label-in-selection"):"before"===this.options.selection&&f<=t[0]&&this._addClass(this.tickLabels[d],"label-in-selection"),f===t[0]&&this._addClass(this.tickLabels[d],"label-is-selection")))}}if(this.options.range){n=this.options.formatter(this._state.value),this._setText(this.tooltipInner,n),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%";var p=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,p);var m=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,m),this.tooltip_min.style[this.stylePos]=t[0]+"%",this.tooltip_max.style[this.stylePos]=t[1]+"%"}else n=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,n),this.tooltip.style[this.stylePos]=t[0]+"%";if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{"right"===this.stylePos?this.trackLow.style.right="0":this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%","right"===this.stylePos?this.trackSelection.style.right=Math.min(t[0],t[1])+"%":this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%","right"===this.stylePos?this.trackHigh.style.left="0":this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var g=this.tooltip_min.getBoundingClientRect(),v=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?g.right>v.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):g.right>v.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_createHighlightRange:function(t,e){return this._isHighlightRange(t,e)?t>e?{start:e,size:t-e}:{start:t,size:e-t}:null},_isHighlightRange:function(t,e){return 0<=t&&t<=100&&0<=e&&e<=100},_resize:function(){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},_mousedown:function(t){if(!this._state.enabled)return!1;t.preventDefault&&t.preventDefault(),this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var e=this._getPercentage(t);if(this.options.range){var n=Math.abs(this._state.percentage[0]-e),i=Math.abs(this._state.percentage[1]-e);this._state.dragged=n<i?0:1,this._adjustPercentageForRangeSliders(e)}else this._state.dragged=0;this._state.percentage[this._state.dragged]=e,this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var r=this._calculateValue();return this._trigger("slideStart",r),this.setValue(r,!1,!0),t.returnValue=!1,this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function(t){this._mousedown(t)},_triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function(t,e){if(!this._state.enabled)return!1;var n;switch(e.keyCode){case 37:case 40:n=-1;break;case 39:case 38:n=1}if(n){if(this.options.natural_arrow_keys){var i="horizontal"===this.options.orientation,r="vertical"===this.options.orientation,o=this.options.rtl,s=this.options.reversed;i?o?s||(n=-n):s&&(n=-n):r&&(s||(n=-n))}var a;if(this.ticksAreValid&&this.options.lock_to_ticks){var l=void 0;-1===(l=this.options.ticks.indexOf(this._state.value[t]))&&(l=0,window.console.warn("(lock_to_ticks) _keydown: index should not be -1")),l+=n,l=Math.max(0,Math.min(this.options.ticks.length-1,l)),a=this.options.ticks[l]}else a=this._state.value[t]+n*this.options.step;var u=this._toPercentage(a);if(this._state.keyCtrl=t,this.options.range){this._adjustPercentageForRangeSliders(u);var c=this._state.keyCtrl?this._state.value[0]:a,h=this._state.keyCtrl?a:this._state.value[1];a=[Math.max(this.options.min,Math.min(this.options.max,c)),Math.max(this.options.min,Math.min(this.options.max,h))]}else a=Math.max(this.options.min,Math.min(this.options.max,a));return this._trigger("slideStart",a),this.setValue(a,!0,!0),this._trigger("slideStop",a),this._pauseEvent(e),delete this._state.keyCtrl,!1}},_pauseEvent:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e;var n=this._calculateValue(!0);return this.setValue(n,!0,!0),!1},_touchmove:function(t){t.changedTouches!==undefined&&t.preventDefault&&t.preventDefault()},_adjustPercentageForRangeSliders:function(t){if(this.options.range){var e=this._getNumDigitsAfterDecimalPlace(t);e=e?e-1:0;var n=this._applyToFixedAndParseFloat(t,e);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],e)<n?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],e)>n?(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0):0===this._state.keyCtrl&&this._toPercentage(this._state.value[1])<t?(this._state.percentage[0]=this._state.percentage[1],this._state.keyCtrl=1,this.handle2.focus()):1===this._state.keyCtrl&&this._toPercentage(this._state.value[0])>t&&(this._state.percentage[1]=this._state.percentage[0],this._state.keyCtrl=0,this.handle1.focus())}},
_mouseup:function(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e,this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,!1===this._state.over&&this._hideTooltip();var n=this._calculateValue(!0);return this.setValue(n,!1,!0),this._trigger("slideStop",n),this._state.dragged=null,!1},_setValues:function(t,e){var n=0===t?0:100;this._state.percentage[t]!==n&&(e.data[t]=this._toValue(this._state.percentage[t]),e.data[t]=this._applyPrecision(e.data[t]))},_calculateValue:function(t){var e={};return this.options.range?(e.data=[this.options.min,this.options.max],this._setValues(0,e),this._setValues(1,e),t&&(e.data[0]=this._snapToClosestTick(e.data[0]),e.data[1]=this._snapToClosestTick(e.data[1]))):(e.data=this._toValue(this._state.percentage[0]),e.data=parseFloat(e.data),e.data=this._applyPrecision(e.data),t&&(e.data=this._snapToClosestTick(e.data))),e.data},_snapToClosestTick:function(t){for(var e=[t,Infinity],n=0;n<this.options.ticks.length;n++){var i=Math.abs(this.options.ticks[n]-t);i<=e[1]&&(e=[this.options.ticks[n],i])}return e[1]<=this.options.ticks_snap_bounds?e[0]:t},_applyPrecision:function(t){var e=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,e)},_getNumDigitsAfterDecimalPlace:function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function(t,e){var n=t.toFixed(e);return parseFloat(n)},_getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type&&"touchend"!==t.type||(t=t.changedTouches[0]);var e=t[this.mousePos]-this._state.offset[this.stylePos];"right"===this.stylePos&&(e=-e);var n=e/this._state.size*100;return n=Math.round(n/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(n=100-n),Math.max(0,Math.min(100,n))},_validateInputValue:function(t){if(isNaN(+t)){if(Array.isArray(t))return this._validateArray(t),t;throw new Error(s.formatInvalidInputErrorMsg(t))}return+t},_validateArray:function(t){for(var e=0;e<t.length;e++){var n=t[e];if("number"!=typeof n)throw new Error(s.formatInvalidInputErrorMsg(n))}},_setDataVal:function(t){this.element.setAttribute("data-value",t),this.element.setAttribute("value",t),this.element.value=t},_trigger:function(e,n){n=n||0===n?n:undefined;var i=this.eventToCallbackMap[e];if(i&&i.length)for(var r=0;r<i.length;r++){(0,i[r])(n)}t&&this._triggerJQueryEvent(e,n)},_triggerJQueryEvent:function(t,e){var n={type:t,value:e};this.$element.trigger(n),this.$sliderElem.trigger(n)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(t,e){"undefined"!=typeof t.textContent?t.textContent=e:"undefined"!=typeof t.innerText&&(t.innerText=e)},_removeClass:function(t,e){for(var n=e.split(" "),i=t.className,r=0;r<n.length;r++){var o=n[r],s=new RegExp("(?:\\s|^)"+o+"(?:\\s|$)");i=i.replace(s," ")}t.className=i.trim()},_addClass:function(t,e){for(var n=e.split(" "),i=t.className,r=0;r<n.length;r++){var o=n[r];new RegExp("(?:\\s|^)"+o+"(?:\\s|$)").test(i)||(i+=" "+o)}t.className=i.trim()},_offsetLeft:function(t){return t.getBoundingClientRect().left},_offsetRight:function(t){return t.getBoundingClientRect().right},_offsetTop:function(t){for(var e=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)e+=t.offsetTop,"BODY"!==t.tagName&&(e-=t.scrollTop);return e},_offset:function(t){return{left:this._offsetLeft(t),right:this._offsetRight(t),top:this._offsetTop(t)}},_css:function(e,n,i){if(t)t.style(e,n,i);else{var r=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()});e.style[r]=i}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])},_setTooltipPosition:function(){var t=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var e,n="left"===(e=this.options.tooltip_position?this.options.tooltip_position:this.options.rtl?"left":"right")?"right":"left";t.forEach(function(t){this._addClass(t,e),t.style[n]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?t.forEach(function(t){this._addClass(t,"bottom"),t.style.top="22px"}.bind(this)):t.forEach(function(t){this._addClass(t,"top"),t.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))},_getClosestTickIndex:function(t){for(var e=Math.abs(t-this.options.ticks[0]),n=0,i=0;i<this.options.ticks.length;++i){var r=Math.abs(t-this.options.ticks[i]);r<e&&(e=r,n=i)}return n},_setTickIndex:function(){this.ticksAreValid&&(this._state.tickIndex=[this.options.ticks.indexOf(this._state.value[0]),this.options.ticks.indexOf(this._state.value[1])])}},t&&t.fn&&(t.fn.slider?(windowIsDefined&&window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."),o=i):(t.bridget(n,e),o=n),t.bridget(i,e),t(function(){t("input[data-provide=slider]")[o]()}))}(t),e}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery")):t(jQuery)}(function(t,e){"use strict";function n(e,n,i,r){for(var o=[],s=0;s<e.length;s++){var a=e[s];if(a){var l=tinycolor(a),u=l.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";u+=tinycolor.equals(n,a)?" sp-thumb-active":"";var c=l.toString(r.preferredFormat||"rgb"),h=g?"background-color:"+l.toRgbString():"filter:"+l.toFilter();o.push('<span title="'+c+'" data-color="'+l.toRgbString()+'" class="'+u+'"><span class="sp-thumb-inner" style="'+h+';" /></span>')}else{var d="sp-clear-display";o.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="'+d+'"></span>').attr("title",r.noColorSelectedText)).html())}}return"<div class='sp-cf "+i+"'>"+o.join("")+"</div>"}function i(){for(var t=0;t<p.length;t++)p[t]&&p[t].hide()}function r(e,n){var i=t.extend({},f,e);return i.callbacks={move:u(i.move,n),change:u(i.change,n),show:u(i.show,n),hide:u(i.hide,n),beforeShow:u(i.beforeShow,n)},i}function o(o,a){function u(){if(z.showPaletteOnly&&(z.showPalette=!0),qt.text(z.showPaletteOnly?z.togglePaletteMoreText:z.togglePaletteLessText),z.palette){dt=z.palette.slice(0),ft=t.isArray(dt[0])?dt:[dt],pt={};for(var e=0;e<ft.length;e++)for(var n=0;n<ft[e].length;n++){var i=tinycolor(ft[e][n]).toRgbString();pt[i]=!0}}kt.toggleClass("sp-flat",X),kt.toggleClass("sp-input-disabled",!z.showInput),kt.toggleClass("sp-alpha-enabled",z.showAlpha),kt.toggleClass("sp-clear-enabled",Qt),kt.toggleClass("sp-buttons-disabled",!z.showButtons),kt.toggleClass("sp-palette-buttons-disabled",!z.togglePaletteOnly),kt.toggleClass("sp-palette-disabled",!z.showPalette),kt.toggleClass("sp-palette-only",z.showPaletteOnly),kt.toggleClass("sp-initial-disabled",!z.showInitial),kt.addClass(z.className).addClass(z.containerClassName),O()}function f(){function e(e){return e.data&&e.data.ignore?(R(t(e.target).closest(".sp-thumb-el").data("color")),$()):(R(t(e.target).closest(".sp-thumb-el").data("color")),$(),I(!0),z.hideAfterPaletteSelect&&M()),!1}if(m&&kt.find("*:not(input)").attr("unselectable","on"),u(),Ot&&xt.after(Bt).hide(),Qt||Nt.hide(),X)xt.after(kt).hide();else{var n="parent"===z.appendTo?xt.parent():t(z.appendTo);1!==n.length&&(n=t("body")),n.append(kt)}b(),Ft.bind("click.spectrum touchstart.spectrum",function(e){wt||S(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),(xt.is(":disabled")||!0===z.disabled)&&U(),kt.click(l),Mt.change(C),Mt.bind("paste",function(){setTimeout(C,1)}),Mt.keydown(function(t){13==t.keyCode&&C()}),jt.text(z.cancelText),jt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),D(),M()}),Nt.attr("title",z.clearText),Nt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Kt=!0,$(),X&&I(!0)}),$t.text(z.chooseText),$t.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),m&&Mt.is(":focus")&&Mt.trigger("change"),N()&&(I(!0),M())}),qt.text(z.showPaletteOnly?z.togglePaletteMoreText:z.togglePaletteLessText),qt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),z.showPaletteOnly=!z.showPaletteOnly,z.showPaletteOnly||X||kt.css("left","-="+(_t.outerWidth(!0)+5)),u()}),c(Lt,function(t,e,n){ht=t/ot,Kt=!1,n.shiftKey&&(ht=Math.round(10*ht)/10),$()},E,T),c(Ct,function(t,e){lt=parseFloat(e/rt),Kt=!1,z.showAlpha||(ht=1),$()},E,T),c(Et,function(t,e,n){if(n.shiftKey){if(!yt){var i=ut*et,r=nt-ct*nt,o=Math.abs(t-i)>Math.abs(e-r);yt=o?"x":"y"}}else yt=null;var s=!yt||"y"===yt;(!yt||"x"===yt)&&(ut=parseFloat(t/et)),s&&(ct=parseFloat((nt-e)/nt)),Kt=!1,z.showAlpha||(ht=1),$()},E,T),Ut?(R(Ut),q(),zt=z.preferredFormat||tinycolor(Ut).format,x(Ut)):q(),X&&A();var i=m?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Dt.delegate(".sp-thumb-el",i,e),Rt.delegate(".sp-thumb-el:nth-child(1)",i,{ignore:!0},e)}function b(){if(Q&&window.localStorage){try{var e=window.localStorage[Q].split(",#");e.length>1&&(delete window.localStorage[Q],t.each(e,function(t,e){x(e)}))}catch(n){}try{mt=window.localStorage[Q].split(";")}catch(n){}}}function x(e){if(K){var n=tinycolor(e).toRgbString();if(!pt[n]&&-1===t.inArray(n,mt))for(mt.push(n);mt.length>gt;)mt.shift();if(Q&&window.localStorage)try{window.localStorage[Q]=mt.join(";")}catch(i){}}}function w(){var t=[];if(z.showPalette)for(var e=0;e<mt.length;e++){var n=tinycolor(mt[e]).toRgbString();pt[n]||t.push(mt[e])}return t.reverse().slice(0,z.maxSelectionSize)}function k(){var e=j(),i=t.map(ft,function(t,i){return n(t,e,"sp-palette-row sp-palette-row-"+i,z)});b(),mt&&i.push(n(w(),e,"sp-palette-row sp-palette-row-selection",z)),Dt.html(i.join(""))}function _(){if(z.showInitial){var t=Wt,e=j();Rt.html(n([t,e],e,"sp-palette-row-initial",z))}}function E(){(nt<=0||et<=0||rt<=0)&&O(),tt=!0,kt.addClass(vt),yt=null,xt.trigger("dragstart.spectrum",[j()])}function T(){tt=!1,kt.removeClass(vt),xt.trigger("dragstop.spectrum",[j()])}function C(){var t=Mt.val();if(null!==t&&""!==t||!Qt){var e=tinycolor(t);e.isValid()?(R(e),I(!0)):Mt.addClass("sp-validation-error")}else R(null),I(!0)}function S(){Z?M():A()}function A(){var e=t.Event("beforeShow.spectrum");Z?O():(xt.trigger(e,[j()]),!1===G.beforeShow(j())||e.isDefaultPrevented()||(i(),Z=!0,t(bt).bind("keydown.spectrum",L),t(bt).bind("click.spectrum",P),t(window).bind("resize.spectrum",J),Bt.addClass("sp-active"),kt.removeClass("sp-hidden"),O(),q(),Wt=j(),_(),G.show(Wt),xt.trigger("show.spectrum",[Wt])))}function L(t){27===t.keyCode&&M()}function P(t){2!=t.button&&(tt||(Xt?I(!0):D(),M()))}function M(){Z&&!X&&(Z=!1,t(bt).unbind("keydown.spectrum",L),t(bt).unbind("click.spectrum",P),t(window).unbind("resize.spectrum",J),Bt.removeClass("sp-active"),kt.addClass("sp-hidden"),G.hide(j()),xt.trigger("hide.spectrum",[j()]))}function D(){R(Wt,!0)}function R(t,e){var n,i;tinycolor.equals(t,j())?q():(!t&&Qt?Kt=!0:(Kt=!1,i=(n=tinycolor(t)).toHsv(),lt=i.h%360/360,ut=i.s,ct=i.v,ht=i.a),q(),n&&n.isValid()&&!e&&(zt=z.preferredFormat||n.getFormat()))}function j(t){return t=t||{},Qt&&Kt?null:tinycolor.fromRatio({h:lt,s:ut,v:ct,a:Math.round(100*ht)/100},{format:t.format||zt})}function N(){return!Mt.hasClass("sp-validation-error")}function $(){q(),G.move(j()),xt.trigger("move.spectrum",[j()])}function q(){Mt.removeClass("sp-validation-error"),H();var t=tinycolor.fromRatio({h:lt,s:1,v:1});Et.css("background-color",t.toHexString());var e=zt;ht<1&&(0!==ht||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var n=j({format:e}),i="";if(Vt.removeClass("sp-clear-display"),Vt.css("background-color","transparent"),!n&&Qt)Vt.addClass("sp-clear-display");else{var r=n.toHexString(),o=n.toRgbString();if(g||1===n.alpha?Vt.css("background-color",o):(Vt.css("background-color","transparent"),Vt.css("filter",n.toFilter())),z.showAlpha){var s=n.toRgb();s.a=0;var a=tinycolor(s).toRgbString(),l="linear-gradient(left, "+a+", "+r+")";m?At.css("filter",tinycolor(a).toFilter({gradientType:1},r)):(At.css("background","-webkit-"+l),At.css("background","-moz-"+l),At.css("background","-ms-"+l),At.css("background","linear-gradient(to right, "+a+", "+r+")"))}i=n.toString(e)}z.showInput&&Mt.val(i),z.showPalette&&k(),_()}function H(){var t=ut,e=ct;if(Qt&&Kt)Pt.hide(),St.hide(),Tt.hide();else{Pt.show(),St.show(),Tt.show();var n=t*et,i=nt-e*nt;n=Math.max(-it,Math.min(et-it,n-it)),i=Math.max(-it,Math.min(nt-it,i-it)),Tt.css({top:i+"px",left:n+"px"});var r=ht*ot;Pt.css({left:r-st/2+"px"});var o=lt*rt;St.css({top:o-at+"px"})}}function I(t){var e=j(),n="",i=!tinycolor.equals(e,Wt);e&&(n=e.toString(zt),x(e)),Ht&&xt.val(n),t&&i&&(G.change(e),xt.trigger("change",[e]))}function O(){Z&&(et=Et.width(),nt=Et.height(),it=Tt.height(),Ct.width(),rt=Ct.height(),at=St.height(),ot=Lt.width(),st=Pt.width(),X||(kt.css("position","absolute"),z.offset?kt.offset(z.offset):kt.offset(s(kt,Ft))),H(),z.showPalette&&k(),xt.trigger("reflow.spectrum"))}function B(){xt.show(),Ft.unbind("click.spectrum touchstart.spectrum"),kt.remove(),Bt.remove(),p[Yt.id]=null}function F(n,i){return n===e?t.extend({},z):i===e?z[n]:(z[n]=i,"preferredFormat"===n&&(zt=z.preferredFormat),void u())}function V(){wt=!1,xt.attr("disabled",!1),Ft.removeClass("sp-disabled")}function U(){M(),wt=!0,xt.attr("disabled",!0),Ft.addClass("sp-disabled")}function W(t){z.offset=t,O()}var z=r(a,o),X=z.flat,K=z.showSelectionPalette,Q=z.localStorageKey,Y=z.theme,G=z.callbacks,J=h(O,10),Z=!1,tt=!1,et=0,nt=0,it=0,rt=0,ot=0,st=0,at=0,lt=0,ut=0,ct=0,ht=1,dt=[],ft=[],pt={},mt=z.selectionPalette.slice(0),gt=z.maxSelectionSize,vt="sp-dragging",yt=null,bt=o.ownerDocument,xt=(bt.body,t(o)),wt=!1,kt=t(y,bt).addClass(Y),_t=kt.find(".sp-picker-container"),Et=kt.find(".sp-color"),Tt=kt.find(".sp-dragger"),Ct=kt.find(".sp-hue"),St=kt.find(".sp-slider"),At=kt.find(".sp-alpha-inner"),Lt=kt.find(".sp-alpha"),Pt=kt.find(".sp-alpha-handle"),Mt=kt.find(".sp-input"),Dt=kt.find(".sp-palette"),Rt=kt.find(".sp-initial"),jt=kt.find(".sp-cancel"),Nt=kt.find(".sp-clear"),$t=kt.find(".sp-choose"),qt=kt.find(".sp-palette-toggle"),Ht=xt.is("input"),It=Ht&&"color"===xt.attr("type")&&d(),Ot=Ht&&!X,Bt=Ot?t(v).addClass(Y).addClass(z.className).addClass(z.replacerClassName):t([]),Ft=Ot?Bt:xt,Vt=Bt.find(".sp-preview-inner"),Ut=z.color||Ht&&xt.val(),Wt=!1,zt=z.preferredFormat,Xt=!z.showButtons||z.clickoutFiresChange,Kt=!Ut,Qt=z.allowEmpty&&!It;f();var Yt={show:A,hide:M,toggle:S,reflow:O,option:F,enable:V,disable:U,offset:W,set:function(t){R(t),I()},get:j,destroy:B,container:kt};return Yt.id=p.push(Yt)-1,Yt}function s(e,n){var i=0,r=e.outerWidth(),o=e.outerHeight(),s=n.outerHeight(),a=e[0].ownerDocument,l=a.documentElement,u=l.clientWidth+t(a).scrollLeft(),c=l.clientHeight+t(a).scrollTop(),h=n.offset();return h.top+=s,h.left-=Math.min(h.left,h.left+r>u&&u>r?Math.abs(h.left+r-u):0),h.top-=Math.min(h.top,h.top+o>c&&c>o?Math.abs(o+s-i):i),h}function a(){}function l(t){t.stopPropagation()}function u(t,e){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}function c(e,n,i,r){function o(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function s(t){if(c){if(m&&u.documentMode<9&&!t.button)return l();var i=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],r=i&&i.pageX||t.pageX,s=i&&i.pageY||t.pageY,a=Math.max(0,Math.min(r-h.left,f)),g=Math.max(0,Math.min(s-h.top,d));p&&o(t),n.apply(e,[a,g,t])}}function a(n){(n.which?3==n.which:2==n.button)||c||!1!==i.apply(e,arguments)&&(c=!0,d=t(e).height(),f=t(e).width(),h=t(e).offset(),t(u).bind(g),t(u.body).addClass("sp-dragging"),s(n),o(n))}function l(){c&&(t(u).unbind(g),t(u.body).removeClass("sp-dragging"),setTimeout(function(){r.apply(e,arguments)},0)),c=!1}n=n||function(){},i=i||function(){},r=r||function(){};var u=document,c=!1,h={},d=0,f=0,p="ontouchstart"in window,g={};g.selectstart=o,g.dragstart=o,g["touchmove mousemove"]=s,g["touchend mouseup"]=l,t(e).bind("touchstart mousedown",a)}function h(t,e,n){var i;return function(){var r=this,o=arguments,s=function(){i=null,t.apply(r,o)};n&&clearTimeout(i),!n&&i||(i=setTimeout(s,e))}}function d(){return t.fn.spectrum.inputTypeColorSupport()}var f={beforeShow:a,move:a,change:a,show:a,hide:a,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},p=[],m=!!/msie/i.exec(window.navigator.userAgent),g=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div").style;return e.cssText="background-color:rgba(0,0,0,.5)",t(e.backgroundColor,"rgba")||t(e.backgroundColor,"hsla")}(),v=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),y=function(){var t="";if(m)for(var e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),b="spectrum.id";t.fn.spectrum=function(e){if("string"==typeof e){var n=this,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var r=p[t(this).data(b)];if(r){var o=r[e];if(!o)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?n=r.get():"container"==e?n=r.container:"option"==e?n=r.option.apply(r,i):"destroy"==e?(r.destroy(),t(this).removeData(b)):o.apply(r,i)}}),n}return this.spectrum("destroy").each(function(){var n=o(this,t.extend({},e,t(this).data()));t(this).data(b,n.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=c,t.fn.spectrum.defaults=f,t.fn.spectrum.inputTypeColorSupport=function x(){if("undefined"==typeof x._cachedResult){var e=t("<input type='color'/>")[0];x._cachedResult="color"===e.type&&""!==e.value}return x._cachedResult},t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("input[type=color]");e.length&&!d()&&e.spectrum({preferredFormat:"hex6"})},function(){function t(t){var n={r:0,g:0,b:0},r=1,s=!1,a=!1;return"string"==typeof t&&(t=D(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(n=e(t.r,t.g,t.b),s=!0,a="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=L(t.s),t.v=L(t.v),n=o(t.h,t.s,t.v),s=!0,a="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=L(t.s),t.l=L(t.l),n=i(t.h,t.s,t.l),s=!0,a="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=k(r),{ok:s,format:t.format||a,r:H(255,I(n.r,0)),g:H(255,I(n.g,0)),b:H(255,I(n.b,0)),a:r}}function e(t,e,n){return{r:255*_(t,255),g:255*_(e,255),b:255*_(n,255)}}function n(t,e,n){t=_(t,255),e=_(e,255),n=_(n,255);var i,r,o=I(t,e,n),s=H(t,e,n),a=(o+s)/2;if(o==s)i=r=0;else{var l=o-s;switch(r=a>.5?l/(2-o-s):l/(o+s),o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,l:a}}function i(t,e,n){function i(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var r,o,s;if(t=_(t,360),e=_(e,100),n=_(n,100),0===e)r=o=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=i(l,a,t+1/3),o=i(l,a,t),s=i(l,a,t-1/3)}return{r:255*r,g:255*o,b:255*s}}function r(t,e,n){t=_(t,255),e=_(e,255),n=_(n,255);var i,r,o=I(t,e,n),s=H(t,e,n),a=o,l=o-s;if(r=0===o?0:l/o,o==s)i=0;else{switch(o){case t:i=(e-n)/l+(e<n?6:0);break;case e:i=(n-t)/l+2;break;case n:i=(t-e)/l+4}i/=6}return{h:i,s:r,v:a}}function o(t,e,n){t=6*_(t,360),e=_(e,100),n=_(n,100);var i=$.floor(t),r=t-i,o=n*(1-e),s=n*(1-r*e),a=n*(1-(1-r)*e),l=i%6;return{r:255*[n,s,o,o,a,n][l],g:255*[a,n,n,s,o,o][l],b:255*[o,o,a,n,n,s][l]}}function s(t,e,n,i){var r=[A(q(t).toString(16)),A(q(e).toString(16)),A(q(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function a(t,e,n,i){return[A(P(i)),A(q(t).toString(16)),A(q(e).toString(16)),A(q(n).toString(16))].join("")}function l(t,e){e=0===e?0:e||10;var n=B(t).toHsl();return n.s-=e/100,n.s=E(n.s),B(n)}function u(t,e){e=0===e?0:e||10;var n=B(t).toHsl();return n.s+=e/100,n.s=E(n.s),B(n)}function c(t){return B(t).desaturate(100)}function h(t,e){e=0===e?0:e||10;var n=B(t).toHsl();return n.l+=e/100,n.l=E(n.l),B(n)}function d(t,e){e=0===e?0:e||10;var n=B(t).toRgb();return n.r=I(0,H(255,n.r-q(-e/100*255))),n.g=I(0,H(255,n.g-q(-e/100*255))),n.b=I(0,H(255,n.b-q(-e/100*255))),B(n)}function f(t,e){e=0===e?0:e||10;var n=B(t).toHsl();return n.l-=e/100,n.l=E(n.l),B(n)}function p(t,e){var n=B(t).toHsl(),i=(q(n.h)+e)%360;return n.h=i<0?360+i:i,B(n)}function m(t){var e=B(t).toHsl();return e.h=(e.h+180)%360,B(e)}function g(t){var e=B(t).toHsl(),n=e.h;return[B(t),B({h:(n+120)%360,s:e.s,l:e.l}),B({h:(n+240)%360,s:e.s,l:e.l})]}function v(t){var e=B(t).toHsl(),n=e.h;return[B(t),B({h:(n+90)%360,s:e.s,l:e.l}),B({h:(n+180)%360,s:e.s,l:e.l}),B({h:(n+270)%360,s:e.s,l:e.l})]}function y(t){var e=B(t).toHsl(),n=e.h;return[B(t),B({h:(n+72)%360,s:e.s,l:e.l}),B({h:(n+216)%360,s:e.s,l:e.l})]}function b(t,e,n){e=e||6,n=n||30;var i=B(t).toHsl(),r=360/n,o=[B(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(B(i));return o}function x(t,e){e=e||6;for(var n=B(t).toHsv(),i=n.h,r=n.s,o=n.v,s=[],a=1/e;e--;)s.push(B({h:i,s:r,v:o})),o=(o+a)%1;return s}function w(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function k(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function _(t,e){C(t)&&(t="100%");var n=S(t);return t=H(e,I(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),$.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function E(t){return H(1,I(0,t))}function T(t){return parseInt(t,16)}function C(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function S(t){return"string"==typeof t&&-1!=t.indexOf("%")}function A(t){return 1==t.length?"0"+t:""+t}function L(t){return t<=1&&(t=100*t+"%"),t}function P(t){return Math.round(255*parseFloat(t)).toString(16)}function M(t){return T(t)/255}function D(t){t=t.replace(R,"").replace(j,"").toLowerCase();var e,n=!1;if(W[t])t=W[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=X.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=X.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=X.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=X.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=X.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=X.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=X.hex8.exec(t))?{a:M(e[1]),r:T(e[2]),g:T(e[3]),b:T(e[4]),format:n?"name":"hex8"}:(e=X.hex6.exec(t))?{r:T(e[1]),g:T(e[2]),b:T(e[3]),format:n?"name":"hex"}:!!(e=X.hex3.exec(t))&&{r:T(e[1]+""+e[1]),g:T(e[2]+""+e[2]),b:T(e[3]+""+e[3]),format:n?"name":"hex"}}var R=/^[\s,#]+/,j=/\s+$/,N=0,$=Math,q=$.round,H=$.min,I=$.max,O=$.random,B=function(e,n){if(n=n||{},(e=e||"")instanceof B)return e;if(!(this instanceof B))return new B(e,n);var i=t(e);this._originalInput=e,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=q(100*this._a)/100,this._format=n.format||i.format,this._gradientType=n.gradientType,this._r<1&&(this._r=q(this._r)),this._g<1&&(this._g=q(this._g)),this._b<1&&(this._b=q(this._b)),this._ok=i.ok,this._tc_id=N++};B.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=k(t),this._roundA=q(100*this._a)/100,this},toHsv:function(){var t=r(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=r(this._r,this._g,this._b),e=q(360*t.h),n=q(100*t.s),i=q(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=n(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=n(this._r,this._g,this._b),e=q(360*t.h),i=q(100*t.s),r=q(100*t.l);return 1==this._a?"hsl("+e+", "+i+"%, "+r+"%)":"hsla("+e+", "+i+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return s(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return a(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:q(this._r),g:q(this._g),b:q(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+q(this._r)+", "+q(this._g)+", "+q(this._b)+")":"rgba("+q(this._r)+", "+q(this._g)+", "+q(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:q(100*_(this._r,255))+"%",g:q(100*_(this._g,255))+"%",b:q(100*_(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+q(100*_(this._r,255))+"%, "+q(100*_(this._g,255))+"%, "+q(100*_(this._b,255))+"%)":"rgba("+q(100*_(this._r,255))+"%, "+q(100*_(this._g,255))+"%, "+q(100*_(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(z[s(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+a(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";t&&(n=B(t).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0;return e||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(h,arguments)},brighten:function(){return this._applyModification(d,arguments)},darken:function(){return this._applyModification(f,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(u,arguments)},greyscale:function(){return this._applyModification(c,arguments)},spin:function(){return this._applyModification(p,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(b,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(y,arguments)},triad:function(){return this._applyCombination(g,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},B.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:L(t[i]));t=n}return B(t,e)},B.equals=function(t,e){return!(!t||!e)&&B(t).toRgbString()==B(e).toRgbString()},B.random=function(){return B.fromRatio({r:O(),g:O(),b:O()})},B.mix=function(t,e,n){n=0===n?0:n||50;var i,r=B(t).toRgb(),o=B(e).toRgb(),s=n/100,a=2*s-1,l=o.a-r.a,u=1-(i=((i=a*l==-1?a:(a+l)/(1+a*l))+1)/2),c={r:o.r*i+r.r*u,g:o.g*i+r.g*u,b:o.b*i+r.b*u,a:o.a*s+r.a*(1-s)};return B(c)},B.readability=function(t,e){var n=B(t),i=B(e),r=n.toRgb(),o=i.toRgb(),s=n.getBrightness(),a=i.getBrightness(),l=Math.max(r.r,o.r)-Math.min(r.r,o.r)+Math.max(r.g,o.g)-Math.min(r.g,o.g)+Math.max(r.b,o.b)-Math.min(r.b,o.b);return{brightness:Math.abs(s-a),color:l}},B.isReadable=function(t,e){var n=B.readability(t,e);return n.brightness>125&&n.color>500},B.mostReadable=function(t,e){for(var n=null,i=0,r=!1,o=0;o<e.length;o++){var s=B.readability(t,e[o]),a=s.brightness>125&&s.color>500,l=s.brightness/125*3+s.color/500;(a&&!r||a&&r&&l>i||!a&&!r&&l>i)&&(r=a,i=l,n=B(e[o]))}return n};var F,V,U,W=B.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",
yellow:"ff0",yellowgreen:"9acd32"},z=B.hexNames=w(W),X=(V="[\\s|\\(]+("+(F="(?:"+"[-\\+]?\\d*\\.\\d+%?"+")|(?:"+"[-\\+]?\\d+%?"+")")+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",U="[\\s|\\(]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",{rgb:new RegExp("rgb"+V),rgba:new RegExp("rgba"+U),hsl:new RegExp("hsl"+V),hsla:new RegExp("hsla"+U),hsv:new RegExp("hsv"+V),hsva:new RegExp("hsva"+U),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=B}(),t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})}),function(t){"use strict";function e(e,i){return this.each(function(){var r=t(this),o=r.data("bs.modal"),s=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e);o||r.data("bs.modal",o=new n(this,s)),"string"==typeof e?o[e](i):s.show&&o.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.4.1",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&r;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var n=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",e+n),t(this.fixedContent).each(function(e,i){var r=i.style.paddingRight,o=t(i).css("padding-right");t(i).data("padding-right",r).css("padding-right",parseFloat(o)+n+"px")}))},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),t(this.fixedContent).each(function(e,n){var i=t(n).data("padding-right");t(n).removeData("padding-right"),n.style.paddingRight=i||""})},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),r=i.attr("href"),o=i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,""),s=t(document).find(o),a=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},s.data(),i.data());i.is("a")&&n.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(s,a,this)})}(jQuery),function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(t.style[n]!==undefined)return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;return t(this).one("bsTransitionEnd",function(){n=!0}),setTimeout(function(){n||t(i).trigger(t.support.transition.end)},e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.holmes=e()}(this,function(){"use strict";var t="undefined"==typeof window?global:window,e=function(t,e){return-1!==t.indexOf(e)},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=(function(){function t(t){this.value=t}function e(e){function n(r,o){try{var s=e[r](o),a=s.value;a instanceof t?Promise.resolve(a.value).then(function(t){n("next",t)},function(t){n("throw",t)}):i(s.done?"return":"normal",s.value)}catch(t){i("throw",t)}}function i(t,e){"return"===t?r.resolve({value:e,done:!0}):"throw"===t?r.reject(e):r.resolve({value:e,done:!1}),(r=r.next)?n(r.key,r.arg):o=null}var r,o;this._invoke=function(t,e){return new Promise(function(i,s){var a={key:t,arg:e,resolve:i,reject:s,next:null};o?o=o.next=a:(r=o=a,n(t,e))})},"function"!=typeof e["return"]&&(this["return"]=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype["throw"]=function(t){return this._invoke("throw",t)},e.prototype["return"]=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),r=function(){function t(t,e){for(var n,i=0;i<e.length;i++)(n=e[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o={invalidInput:"The Holmes input was no <input> or contenteditable.",optionsObject:'The options need to be given inside an object like this:\n\nnew Holmes({\n  find:".result"\n});\n\nsee also https://haroen.me/holmes/doc/holmes.html',findOption:'A find argument is needed. That should be a querySelectorAll for each of the items you want to match individually. You should have something like:\n\nnew Holmes({\n  find:".result"\n});\n\nsee also https://haroen.me/holmes/doc/holmes.html',noInput:"Your Holmes.input didn't match a querySelector",impossiblePlaceholder:"The Holmes placeholder couldn't be put; the elements had no parent."},s=function(){function t(r){var s=this;i(this,t);var a=!1;if("object"!==(void 0===r?"undefined":n(r)))throw new Error(o.optionsObject);if("string"!=typeof r.find)throw new Error(o.findOption);var l={input:"input[type=search]",find:"",placeholder:void 0,mark:!1,"class":{visible:void 0,hidden:"hidden"},dynamic:!1,minCharacters:0,hiddenAttr:!1,shouldShow:e,onHidden:void 0,onVisible:void 0,onEmpty:void 0,onFound:void 0,onInput:void 0};this.options=Object.assign({},l,r),this.options["class"]=Object.assign({},l["class"],r["class"]),this.hidden=0,this.running=!1,window.addEventListener("DOMContentLoaded",function(){return s.start()}),this.search=function(){s.running=!0;var t=!1;s.searchString=s.inputString(),s.options.minCharacters&&0!==s.searchString.length&&s.options.minCharacters>s.searchString.length||(s.options.dynamic&&(s.elements=document.querySelectorAll(s.options.find),s.elementsLength=s.elements.length,s.elementsArray=Array.prototype.slice.call(s.elements)),s.options.mark&&(s._regex=new RegExp("("+s.searchString+")(?![^<]*>)","gi")),s.elementsArray.forEach(function(e){s.options.shouldShow(e.textContent.toLowerCase(),s.searchString)?(s._showElement(e),a&&"function"==typeof s.options.onFound&&s.options.onFound(s.placeholderNode),t=!0):s._hideElement(e)}),"function"==typeof s.options.onInput&&s.options.onInput(s.searchString),t?s.options.placeholder&&s._hideElement(s.placeholderNode):(s.options.placeholder&&s._showElement(s.placeholderNode),0==a&&(a=!0,"function"==typeof s.options.onEmpty&&s.options.onEmpty(s.placeholderNode))))}}return r(t,[{key:"_hideElement",value:function(t){this.options["class"].visible&&t.classList.remove(this.options["class"].visible),t.classList.contains(this.options["class"].hidden)||(t.classList.add(this.options["class"].hidden),this.hidden++,"function"==typeof this.options.onHidden&&this.options.onHidden(t)),this.options.hiddenAttr&&t.setAttribute("hidden","true"),this.options.mark&&(t.innerHTML=t.innerHTML.replace(/<\/?mark>/g,""))}},{key:"_showElement",value:function(t){this.options["class"].visible&&t.classList.add(this.options["class"].visible),t.classList.contains(this.options["class"].hidden)&&(t.classList.remove(this.options["class"].hidden),this.hidden--,"function"==typeof this.options.onVisible&&this.options.onVisible(t)),this.options.hiddenAttr&&t.removeAttribute("hidden"),this.options.mark&&(t.innerHTML=t.innerHTML.replace(/<\/?mark>/g,""),this.searchString.length&&(t.innerHTML=t.innerHTML.replace(this._regex,"<mark>$1</mark>")))}},{key:"_inputHandler",value:function(){console.warn("You can now directly call .search() to refresh the results"),this.search()}},{key:"inputString",value:function(){if(this.input instanceof HTMLInputElement)return this.input.value.toLowerCase();if(this.input.isContentEditable)return this.input.textContent.toLowerCase();throw new Error(o.invalidInput)}},{key:"setInput",value:function(t){if(this.input instanceof HTMLInputElement)this.input.value=t;else{if(!this.input.isContentEditable)throw new Error(o.invalidInput);this.input.textContent=t}}},{key:"start",value:function(){var t=document.querySelector(this.options.input);if(!(t instanceof HTMLElement))throw new Error(o.noInput);if(this.input=t,"string"!=typeof this.options.find)throw new Error(o.findOption);if(this.elements=document.querySelectorAll(this.options.find),this.elementsLength=this.elements.length,this.elementsArray=Array.prototype.slice.call(this.elements),this.hidden=0,"string"==typeof this.options.placeholder){var e=this.options.placeholder;if(this.placeholderNode=document.createElement("div"),this.placeholderNode.id="holmes-placeholder",this._hideElement(this.placeholderNode),this.placeholderNode.innerHTML=e,!(this.elements[0].parentNode instanceof Element))throw new Error(o.impossiblePlaceholder);this.elements[0].parentNode.appendChild(this.placeholderNode)}if(this.options["class"].visible){var n=this.options["class"].visible;this.elementsArray.forEach(function(t){t.classList.add(n)})}this.input.addEventListener("input",this.search)}},{key:"stop",value:function(){var t=this;return new Promise(function(e,n){try{t.input.removeEventListener("input",t.search),t.options.placeholder&&(t.placeholderNode.parentNode?t.placeholderNode.parentNode.removeChild(t.placeholderNode):n(new Error(o.impossiblePlaceholder))),t.options.mark&&t.elementsArray.forEach(function(t){t.innerHTML=t.innerHTML.replace(/<\/?mark>/g,"")}),t.running=!1,e("This instance of Holmes has been stopped.")}catch(s){n(s)}})}},{key:"clear",value:function(){var t=this;this.setInput(""),this.elementsArray.forEach(function(e){t._showElement(e)}),this.options.placeholder&&this._hideElement(this.placeholderNode),this.hidden=0}},{key:"count",value:function(){return{all:this.elementsLength,hidden:this.hidden,visible:this.elementsLength-this.hidden}}}]),t}();return function(e){var n=function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return void 0!==this&&this!==t?e.call.apply(e,[this].concat(i)):new(Function.prototype.bind.apply(e,[null].concat(i)))};return n.__proto__=e,n.prototype=e.prototype,n}(s)}),jQuery.trumbowyg={langs:{en:{viewHTML:"View HTML",undo:"Undo",redo:"Redo",formatting:"Formatting",p:"Paragraph",blockquote:"Quote",code:"Code",header:"Header",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",strong:"Strong",em:"Emphasis",del:"Deleted",superscript:"Superscript",subscript:"Subscript",unorderedList:"Unordered list",orderedList:"Ordered list",insertImage:"Insert Image",link:"Link",createLink:"Insert link",unlink:"Remove link",_self:"Same tab (default)",_blank:"New tab",justifyLeft:"Align Left",justifyCenter:"Align Center",justifyRight:"Align Right",justifyFull:"Align Justify",horizontalRule:"Insert horizontal rule",removeformat:"Remove format",fullscreen:"Fullscreen",close:"Close",submit:"Confirm",reset:"Cancel",required:"Required",description:"Description",title:"Title",text:"Text",target:"Target",width:"Width"}},plugins:{},svgPath:null,svgAbsoluteUseHref:!1,hideButtonTexts:null},Object.defineProperty(jQuery.trumbowyg,"defaultOptions",{value:{lang:"en",fixedBtnPane:!1,fixedFullWidth:!1,autogrow:!1,autogrowOnEnter:!1,imageWidthModalEdit:!1,hideButtonTexts:null,prefix:"trumbowyg-",tagClasses:{},semantic:!0,semanticKeepAttributes:!1,resetCss:!1,removeformatPasted:!1,tabToIndent:!1,tagsToRemove:[],tagsToKeep:["hr","img","embed","iframe","input"],btns:[["viewHTML"],["undo","redo"],["formatting"],["strong","em","del"],["superscript","subscript"],["link"],["insertImage"],["justifyLeft","justifyCenter","justifyRight","justifyFull"],["unorderedList","orderedList"],["horizontalRule"],["removeformat"],["fullscreen"]],btnsDef:{},changeActiveDropdownIcon:!1,inlineElementsSelector:"a,abbr,acronym,b,caption,cite,code,col,dfn,dir,dt,dd,em,font,hr,i,kbd,li,q,span,strikeout,strong,sub,sup,u",pasteHandlers:[],plugins:{},urlProtocol:!1,minimalLinks:!1,linkTargets:["_self","_blank"],svgPath:null},writable:!1,enumerable:!0,configurable:!1}),function(t,e,n,i){"use strict";var r="tbwconfirm",o="tbwcancel";i.fn.trumbowyg=function(t,e){var n="trumbowyg";if(t===Object(t)||!t)return this.each(function(){i(this).data(n)||i(this).data(n,new s(this,t))});if(1===this.length)try{var r=i(this).data(n);switch(t){case"execCmd":return r.execCmd(e.cmd,e.param,e.forceCss,e.skipTrumbowyg);case"openModal":return r.openModal(e.title,e.content);case"closeModal":return r.closeModal();case"openModalInsert":return r.openModalInsert(e.title,e.fields,e.callback);case"saveRange":return r.saveRange();case"getRange":return r.range;case"getRangeText":return r.getRangeText();case"restoreRange":return r.restoreRange();case"enable":return r.setDisabled(!1);case"disable":return r.setDisabled(!0);case"toggle":return r.toggle();case"destroy":return r.destroy();case"empty":return r.empty();case"html":return r.html(e)}}catch(o){}return!1};var s=function(r,o){var s=this,a="trumbowyg-icons",l=i.trumbowyg;s.doc=r.ownerDocument||n,s.$ta=i(r),s.$c=i(r),null!=(o=o||{}).lang||null!=l.langs[o.lang]?s.lang=i.extend(!0,{},l.langs.en,l.langs[o.lang]):s.lang=l.langs.en,s.hideButtonTexts=null!=l.hideButtonTexts?l.hideButtonTexts:o.hideButtonTexts;var u=null!=l.svgPath?l.svgPath:o.svgPath;if(s.hasSvg=!1!==u,!1!==u&&(l.svgAbsoluteUseHref||0===i("#"+a,s.doc).length)){if(null==u)i("script[src]").each(function(t,e){var n=e.src,i=n.match("trumbowyg(.min)?.js");null!=i&&(u=n.substring(0,n.indexOf(i[0]))+"ui/icons.svg")});if(null==u)console.warn("You must define svgPath: https://goo.gl/CfTY9U");else if(!l.svgAbsoluteUseHref){var c=s.doc.createElement("div");c.id=a,s.doc.body.insertBefore(c,s.doc.body.childNodes[0]),i.ajax({async:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"xml",crossDomain:!0,url:u,data:null,beforeSend:null,complete:null,success:function(t){c.innerHTML=(new XMLSerializer).serializeToString(t.documentElement)}})}}var h=s.doc.querySelector("base")?e.location.href.replace(e.location.hash,""):"";s.svgPath=l.svgAbsoluteUseHref?u:h;var d=s.lang.header,f=function(){return(e.chrome||e.Intl&&Intl.v8BreakIterator)&&"CSS"in e};s.btnsDef={viewHTML:{fn:"toggle","class":"trumbowyg-not-disable"},undo:{isSupported:f,key:"Z"},redo:{isSupported:f,key:"Y"},p:{fn:"formatBlock"},blockquote:{fn:"formatBlock"},h1:{fn:"formatBlock",title:d+" 1"},h2:{fn:"formatBlock",title:d+" 2"},h3:{fn:"formatBlock",title:d+" 3"},h4:{fn:"formatBlock",title:d+" 4"},h5:{fn:"formatBlock",title:d+" 5"},h6:{fn:"formatBlock",title:d+" 6"},subscript:{tag:"sub"},superscript:{tag:"sup"},bold:{key:"B",tag:"b"},italic:{key:"I",tag:"i"},underline:{tag:"u"},strikethrough:{tag:"strike"},strong:{fn:"bold",key:"B"},em:{fn:"italic",key:"I"},del:{fn:"strikethrough"},createLink:{key:"K",tag:"a"},unlink:{},insertImage:{},justifyLeft:{tag:"left",forceCss:!0},justifyCenter:{tag:"center",forceCss:!0},justifyRight:{tag:"right",forceCss:!0},justifyFull:{tag:"justify",forceCss:!0},unorderedList:{fn:"insertUnorderedList",tag:"ul"},orderedList:{fn:"insertOrderedList",tag:"ol"},horizontalRule:{fn:"insertHorizontalRule"},removeformat:{},fullscreen:{"class":"trumbowyg-not-disable"},close:{fn:"destroy","class":"trumbowyg-not-disable"},formatting:{dropdown:["p","blockquote","h1","h2","h3","h4"],ico:"p"},link:{dropdown:["createLink","unlink"]}},s.o=i.extend(!0,{},l.defaultOptions,o),s.o.hasOwnProperty("imgDblClickHandler")||(s.o.imgDblClickHandler=s.getDefaultImgDblClickHandler()),s.urlPrefix=s.setupUrlPrefix(),s.disabled=s.o.disabled||"TEXTAREA"===r.nodeName&&r.disabled,o.btns?s.o.btns=o.btns:s.o.semantic||(s.o.btns[3]=["bold","italic","underline","strikethrough"]),i.each(s.o.btnsDef,function(t,e){s.addBtnDef(t,e)}),s.eventNamespace="trumbowyg-event",s.keys=[],s.tagToButton={},s.tagHandlers=[],s.pasteHandlers=[].concat(s.o.pasteHandlers),s.isIE=-1!==t.userAgent.indexOf("MSIE")||-1!==t.appVersion.indexOf("Trident/"),s.isMac=-1!==t.platform.toUpperCase().indexOf("MAC"),s.init()};s.prototype={DEFAULT_SEMANTIC_MAP:{b:"strong",i:"em",s:"del",strike:"del",div:"p"},init:function(){var t=this;t.height=t.$ta.outerHeight()-39,t.initPlugins();try{t.doc.execCommand("enableObjectResizing",!1,!1),t.doc.execCommand("defaultParagraphSeparator",!1,"p")}catch(e){}t.buildEditor(),t.buildBtnPane(),t.fixedBtnPaneEvents(),t.buildOverlay(),setTimeout(function(){t.disabled&&t.setDisabled(!0),t.$c.trigger("tbwinit")})},addBtnDef:function(t,e){this.btnsDef[t]=i.extend(e,this.btnsDef[t]||{})},setupUrlPrefix:function(){var t=this.o.urlProtocol;if(t)return"string"!=typeof t?"https://":t.replace("://","")+"://"},buildEditor:function(){var t=this,n=t.o.prefix,r="";t.$box=i("<div/>",{"class":n+"box "+n+"editor-visible "+n+t.o.lang+" trumbowyg"}),t.$edBox=i("<div/>",{"class":n+"editor-box"}),t.isTextarea=t.$ta.is("textarea"),t.isTextarea?(r=t.$ta.val(),t.$ed=i("<div/>").appendTo(t.$edBox),t.$box.insertAfter(t.$ta).append(t.$edBox,t.$ta)):(t.$ed=t.$ta,r=t.$ed.html(),t.$ta=i("<textarea/>",{name:t.$ta.attr("id"),height:t.height}).val(r),t.$box.insertAfter(t.$ed).append(t.$ta,t.$edBox),t.$edBox.append(t.$ed),t.syncCode()),t.$ta.addClass(n+"textarea").attr("tabindex",-1),t.$ed.addClass(n+"editor").attr({contenteditable:!0,dir:t.lang._dir||"ltr"}).html(r),t.o.tabindex&&t.$ed.attr("tabindex",t.o.tabindex),t.$c.is("[placeholder]")&&t.$ed.attr("placeholder",t.$c.attr("placeholder")),t.$c.is("[spellcheck]")&&t.$ed.attr("spellcheck",t.$c.attr("spellcheck")),t.o.resetCss&&t.$ed.addClass(n+"reset-css"),t.semanticCode(),t.o.autogrowOnEnter&&t.$ed.addClass(n+"autogrow-on-enter");var o,s=!1,a=!1;t.$ed.on("dblclick","img",t.o.imgDblClickHandler).on("keydown",function(e){var n=e.which;if(8!==n&&13!==n&&46!==n||t.toggleSpan(!0),!e.ctrlKey&&!e.metaKey||e.altKey){if(t.o.tabToIndent&&"Tab"===e.key)try{return e.shiftKey?t.execCmd("outdent",!0,null):t.execCmd("indent",!0,null),!1}catch(r){}}else{s=!0;var i=t.keys[String.fromCharCode(e.which).toUpperCase()];try{return t.execCmd(i.fn,i.param),!1}catch(r){}}}).on("compositionstart compositionupdate",function(){a=!0}).on("keyup compositionend",function(e){if("compositionend"===e.type)a=!1;else if(a)return;var n=e.which;if(!(n>=37&&n<=40)){if(8!==n&&13!==n&&46!==n||t.toggleSpan(),!e.ctrlKey&&!e.metaKey||89!==n&&90!==n)if(s||16===n||17===n)"undefined"==typeof e.which&&t.semanticCode(!1,!1,!0);else{var i=!t.isIE||"compositionend"===e.type;t.semanticCode(!1,i&&13===n),t.$c.trigger("tbwchange")}else t.semanticCode(!1,!0),t.$c.trigger("tbwchange");setTimeout(function(){s=!1},50)}}).on("input",function(e){var n=e.originalEvent;"object"==typeof n&&("insertReplacementText"===n.inputType||"insertText"===n.inputType&&null===n.data)&&t.$c.trigger("tbwchange")}).on("mouseup keydown keyup",function(e){(!e.ctrlKey&&!e.metaKey||e.altKey)&&setTimeout(function(){s=!1},50),clearTimeout(o),o=setTimeout(function(){t.updateButtonPaneStatus()},50)}).on("focus blur",function(e){if("blur"===e.type&&t.clearButtonPaneStatus(),t.$c.trigger("tbw"+e.type),t.o.autogrowOnEnter){if(t.autogrowOnEnterDontClose)return;"focus"===e.type?(t.autogrowOnEnterWasFocused=!0,t.autogrowEditorOnEnter()):t.o.autogrow||(t.$edBox.css({height:t.$edBox.css("min-height")}),t.$c.trigger("tbwresize"))}}).on("keyup focus",function(){t.$ta.val().match(/<.*>/)||t.$ed.html().match(/<.*>/)||setTimeout(function(){var e=t.isIE?"<p>":"p";t.doc.execCommand("formatBlock",!1,e),t.syncCode()},0)}).on("cut drop",function(){setTimeout(function(){t.semanticCode(!1,!0),t.$c.trigger("tbwchange")},0)}).on("paste",function(n){if(t.o.removeformatPasted){n.preventDefault(),e.getSelection&&e.getSelection().deleteFromDocument&&e.getSelection().deleteFromDocument();try{var r=e.clipboardData.getData("Text");try{t.doc.selection.createRange().pasteHTML(r)}catch(o){t.doc.getSelection().getRangeAt(0).insertNode(t.doc.createTextNode(r))}t.$c.trigger("tbwchange",n)}catch(s){t.execCmd("insertText",(n.originalEvent||n).clipboardData.getData("text/plain"))}}i.each(t.pasteHandlers,function(t,e){e(n)}),setTimeout(function(){t.semanticCode(!1,!0),t.$c.trigger("tbwpaste",n),t.$c.trigger("tbwchange")},0)}),t.$ta.on("keyup",function(){t.$c.trigger("tbwchange")}).on("paste",function(){setTimeout(function(){t.$c.trigger("tbwchange")},0)}),i(t.doc.body).on("keydown."+t.eventNamespace,function(e){if(27===e.which&&i("."+n+"modal-box").length>=1)return t.closeModal(),!1})},autogrowEditorOnEnter:function(){var t=this;t.$ed.removeClass("autogrow-on-enter");var e=t.$ed[0].clientHeight;t.$edBox.height("auto");var n=t.$ed[0].scrollHeight;t.$ed.addClass("autogrow-on-enter"),e!==n&&(t.$edBox.height(e),setTimeout(function(){t.$edBox.css({height:n}),t.$c.trigger("tbwresize")},0))},buildBtnPane:function(){var t=this,e=t.o.prefix,n=t.$btnPane=i("<div/>",{"class":e+"button-pane"});i.each(t.o.btns,function(r,o){Array.isArray(o)||(o=[o]);var s=i("<div/>",{"class":e+"button-group "+(o.indexOf("fullscreen")>=0?e+"right":"")});i.each(o,function(e,n){try{t.isSupportedBtn(n)&&s.append(t.buildBtn(n))}catch(i){}}),s.html().trim().length>0&&n.append(s)}),t.$box.prepend(n)},buildBtn:function(t){var e=this,n=e.o.prefix,r=e.btnsDef[t],o=r.dropdown,s=null==r.hasIcon||r.hasIcon,a=e.lang[t]||t,l=i("<button/>",{type:"button","class":n+t+"-button "+(r["class"]||"")+(s?"":" "+n+"textual-button"),html:e.hasSvg&&s?'<svg><use xlink:href="'+e.svgPath+"#"+n+(r.ico||t).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>':e.hideButtonTexts?"":r.text||r.title||e.lang[t]||t,title:(r.title||r.text||a)+(r.key?" ("+(e.isMac?"Cmd":"Ctrl")+" + "+r.key+")":""),tabindex:-1,mousedown:function(){return o&&!i("."+t+"-"+n+"dropdown",e.$box).is(":hidden")||i("body",e.doc).trigger("mousedown"),!((e.$btnPane.hasClass(n+"disable")||e.$box.hasClass(n+"disabled"))&&!i(this).hasClass(n+"active")&&!i(this).hasClass(n+"not-disable"))&&(e.execCmd((!o?r.fn:"dropdown")||t,r.param||t,r.forceCss),!1)}});if(o){l.addClass(n+"open-dropdown");var u=n+"dropdown",c={"class":u+"-"+t+" "+u+" "+n+"fixed-top "+(r.dropdownClass||"")};c["data-"+u]=t;var h=i("<div/>",c);i.each(o,function(t,n){e.btnsDef[n]&&e.isSupportedBtn(n)&&h.append(e.buildSubBtn(n))}),e.$box.append(h.hide())}else r.key&&(e.keys[r.key]={fn:r.fn||t,param:r.param||t});return o||(e.tagToButton[(r.tag||t).toLowerCase()]=t),l},buildSubBtn:function(t){var e=this,n=e.o.prefix,r=e.btnsDef[t],o=null==r.hasIcon||r.hasIcon;return r.key&&(e.keys[r.key]={fn:r.fn||t,param:r.param||t}),e.tagToButton[(r.tag||t).toLowerCase()]=t,i("<button/>",{type:"button","class":n+t+"-dropdown-button "+(r["class"]||"")+(r.ico?" "+n+r.ico+"-button":""),html:e.hasSvg&&o?'<svg><use xlink:href="'+e.svgPath+"#"+n+(r.ico||t).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/></svg>'+(r.text||r.title||e.lang[t]||t):r.text||r.title||e.lang[t]||t,title:r.key?"("+(e.isMac?"Cmd":"Ctrl")+" + "+r.key+")":null,style:r.style||null,mousedown:function(){return i("body",e.doc).trigger("mousedown"),e.execCmd(r.fn||t,r.param||t,r.forceCss),!1}})},isSupportedBtn:function(t){try{return this.btnsDef[t].isSupported()}catch(e){}return!0},buildOverlay:function(){var t=this;return t.$overlay=i("<div/>",{"class":t.o.prefix+"overlay"}).appendTo(t.$box),t.$overlay},showOverlay:function(){var t=this;i(e).trigger("scroll"),t.$overlay.fadeIn(200),t.$box.addClass(t.o.prefix+"box-blur")},hideOverlay:function(){var t=this;t.$overlay.fadeOut(50),t.$box.removeClass(t.o.prefix+"box-blur")},fixedBtnPaneEvents:function(){var t=this,n=t.o.fixedFullWidth,r=t.$box;t.o.fixedBtnPane&&(t.isFixed=!1,i(e).on("scroll."+t.eventNamespace+" resize."+t.eventNamespace,function(){if(r){t.syncCode();var o=i(e).scrollTop(),s=r.offset().top+1,a=t.$btnPane,l=a.outerHeight()-2;o-s>0&&o-s-t.height<0?(t.isFixed||(t.isFixed=!0,a.css({position:"fixed",top:0,left:n?0:"auto",zIndex:7}),t.$box.css({paddingTop:a.height()})),a.css({width:n?"100%":r.width()-1}),i("."+t.o.prefix+"fixed-top",r).css({position:n?"fixed":"absolute",top:n?l:l+(o-s),zIndex:15})):t.isFixed&&(t.isFixed=!1,a.removeAttr("style"),t.$box.css({paddingTop:0}),i("."+t.o.prefix+"fixed-top",r).css({position:"absolute",top:l}))}}))},setDisabled:function(t){var e=this,n=e.o.prefix;e.disabled=t,t?e.$ta.attr("disabled",!0):e.$ta.removeAttr("disabled"),e.$box.toggleClass(n+"disabled",t),e.$ed.attr("contenteditable",!t)},destroy:function(){var t=this,n=t.o.prefix;t.isTextarea?t.$box.after(t.$ta.css({height:""}).val(t.html()).removeClass(n+"textarea").show()):t.$box.after(t.$edBox.css({height:""}).removeClass(n+"editor").removeAttr("contenteditable").removeAttr("dir").html(t.html()).show()),t.$ed.off("dblclick","img"),t.destroyPlugins(),t.$box.remove(),t.$c.removeData("trumbowyg"),i("body").removeClass(n+"body-fullscreen"),t.$c.trigger("tbwclose"),i(e).off("scroll."+t.eventNamespace+" resize."+t.eventNamespace),i(t.doc.body).off("keydown."+t.eventNamespace)},empty:function(){this.doc.execCommand("insertHTML",!1,""),this.$ta.val(""),this.syncCode(!0)},toggle:function(){var t=this,e=t.o.prefix;t.o.autogrowOnEnter&&(t.autogrowOnEnterDontClose=!t.$box.hasClass(e+"editor-hidden")),t.semanticCode(!1,!0),t.$c.trigger("tbwchange"),setTimeout(function(){t.doc.activeElement.blur(),t.$box.toggleClass(e+"editor-hidden "+e+"editor-visible"),t.$btnPane.toggleClass(e+"disable"),i("."+e+"viewHTML-button",t.$btnPane).toggleClass(e+"active"),t.$box.hasClass(e+"editor-visible")?t.$ta.attr("tabindex",-1):t.$ta.removeAttr("tabindex"),t.o.autogrowOnEnter&&!t.autogrowOnEnterDontClose&&t.autogrowEditorOnEnter()},0)},toggleSpan:function(t){this.$ed.find("span").each(function(){!0===t?i(this).attr("data-tbw-flag",!0):i(this).attr("data-tbw-flag")?i(this).removeAttr("data-tbw-flag"):i(this).contents().unwrap()})},dropdown:function(t){var n=this,r=i("body",n.doc),o=n.o.prefix,s=i("[data-"+o+"dropdown="+t+"]",n.$box),a=i("."+o+t+"-button",n.$btnPane),l=s.is(":hidden");if(r.trigger("mousedown"),l){var u=a.offset().left;a.addClass(o+"active"),s.css({position:"absolute",top:a.offset().top-n.$btnPane.offset().top+a.outerHeight(),left:n.o.fixedFullWidth&&n.isFixed?u:u-n.$btnPane.offset().left}).show(),i(e).trigger("scroll"),r.on("mousedown."+n.eventNamespace,function(t){s.is(t.target)||(i("."+o+"dropdown",n.$box).hide(),i("."+o+"active",n.$btnPane).removeClass(o+"active"),r.off("mousedown."+n.eventNamespace))})}},html:function(t){var e=this;return null!=t?(e.$ta.val(t),e.syncCode(!0),e.$c.trigger("tbwchange"),e):e.$ta.val()},syncTextarea:function(){var t=this;t.$ta.val(t.$ed.text().trim().length>0||t.$ed.find(t.o.tagsToKeep.join(",")).length>0?t.$ed.html():"")},syncCode:function(t){var e=this;if(!t&&e.$ed.is(":visible"))e.syncTextarea();else{var n=i("<div>").html(e.$ta.val()),r=i("<div>").append(n);i(e.o.tagsToRemove.join(","),r).remove(),e.$ed.html(r.contents().html())}if(e.o.autogrow&&(e.height=e.$edBox.height(),e.height!==e.$ta.css("height")&&(e.$ta.css({height:e.height}),e.$c.trigger("tbwresize"))),e.o.autogrowOnEnter){e.$edBox.height("auto");var o=e.autogrowOnEnterWasFocused?e.$edBox[0].scrollHeight:e.$edBox.css("min-height");o!==e.$ta.css("height")&&(e.$edBox.css({height:o}),e.$c.trigger("tbwresize"))}},semanticCode:function(t,e,n){var r=this;r.saveRange(),r.syncCode(t);var o=!0;if(r.range&&r.range.collapsed&&(o=!1),r.o.semantic){if(r.semanticTag("b",r.o.semanticKeepAttributes),r.semanticTag("i",r.o.semanticKeepAttributes),r.semanticTag("s",r.o.semanticKeepAttributes),r.semanticTag("strike",r.o.semanticKeepAttributes),e){var s=r.o.inlineElementsSelector,a=":not("+s+")";r.$ed.contents().filter(function(){return 3===this.nodeType&&this.nodeValue.trim().length>0}).wrap("<span data-tbw/>");var l=function(t){if(0!==t.length){var e=t.nextUntil(a).addBack().wrapAll("<p/>").parent(),n=e.nextAll(s).first()
;e.next("br").remove(),l(n)}};l(r.$ed.children(s).first()),r.semanticTag("div",!0),i("[data-tbw]",r.$ed).contents().unwrap(),r.$ed.find("p:empty").remove()}!n&&o&&r.restoreRange(),r.syncTextarea()}},semanticTag:function(t,e,n){var r,o=this,s=t;if(null!=this.o.semantic&&"object"==typeof this.o.semantic&&this.o.semantic.hasOwnProperty(t))r=this.o.semantic[t];else{if(!0!==this.o.semantic||!this.DEFAULT_SEMANTIC_MAP.hasOwnProperty(t))return;r=this.DEFAULT_SEMANTIC_MAP[t]}n&&(t=r,r=s),i(t,this.$ed).each(function(){var t=!1,n=i(this);if(0===n.contents().length)return!1;o.range&&o.range.startContainer.parentNode===this&&(t=!0);var s=i("<"+r+"/>");s.insertBefore(n),e&&i.each(n.prop("attributes"),function(){s.attr(this.name,this.value)}),s.html(n.html()),n.remove(),!0===t&&(o.range.selectNodeContents(s.get(0)),o.range.collapse(!1))})},createLink:function(){for(var t,e,n,r=this,o=r.doc.getSelection(),s=o.getRangeAt(0),a=o.focusNode,l=(new XMLSerializer).serializeToString(s.cloneContents())||s+"",u=r.o.linkTargets[0];["A","DIV"].indexOf(a.nodeName)<0;)a=a.parentNode;if(a&&"A"===a.nodeName){var c=i(a);l=c.text(),t=c.attr("href"),r.o.minimalLinks||(e=c.attr("title"),n=c.attr("target")||u);var h=r.doc.createRange();h.selectNode(a),o.removeAllRanges(),o.addRange(h)}r.saveRange();var d={url:{label:r.lang.linkUrl||"URL",required:!0,value:t},text:{label:r.lang.text,value:l}};if(!r.o.minimalLinks){var f=r.o.linkTargets.reduce(function(t,e){return t[e]=r.lang[e],t},{});i.extend(d,{title:{label:r.lang.title,value:e},target:{label:r.lang.target,value:n,options:f}})}r.openModalInsert(r.lang.createLink,d,function(t){var e=r.prependUrlPrefix(t.url);if(!e.length)return!1;var n=i(['<a href="',e,'">',t.text||t.url,"</a>"].join(""));return t.title&&n.attr("title",t.title),(t.target||u)&&n.attr("target",t.target||u),r.range.deleteContents(),r.range.insertNode(n[0]),r.syncCode(),r.$c.trigger("tbwchange"),!0})},prependUrlPrefix:function(t){var e=this;return e.urlPrefix?/^([a-z][-+.a-z0-9]*:|\/|#)/i.test(t)?t:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"mailto:"+t:e.urlPrefix+t:t},unlink:function(){var t=this,e=t.doc.getSelection(),n=e.focusNode;if(e.isCollapsed){for(;["A","DIV"].indexOf(n.nodeName)<0;)n=n.parentNode;if(n&&"A"===n.nodeName){var i=t.doc.createRange();i.selectNode(n),e.removeAllRanges(),e.addRange(i)}}t.execCmd("unlink",undefined,undefined,!0)},insertImage:function(){var t=this;t.saveRange();var e={url:{label:"URL",required:!0},alt:{label:t.lang.description,value:t.getRangeText()}};t.o.imageWidthModalEdit&&(e.width={}),t.openModalInsert(t.lang.insertImage,e,function(e){t.execCmd("insertImage",e.url,!1,!0);var n=i('img[src="'+e.url+'"]:not([alt])',t.$box);return n.attr("alt",e.alt),t.o.imageWidthModalEdit&&n.attr({width:e.width}),t.syncCode(),t.$c.trigger("tbwchange"),!0})},fullscreen:function(){var t,n=this,r=n.o.prefix,o=r+"fullscreen",s=o+"-placeholder",a=n.$box.outerHeight();n.$box.toggleClass(o),(t=n.$box.hasClass(o))?n.$box.before(i("<div/>",{"class":s}).css({height:a})):i("."+s).remove(),i("body").toggleClass(r+"body-fullscreen",t),i(e).trigger("scroll"),n.$c.trigger("tbw"+(t?"open":"close")+"fullscreen")},execCmd:function(t,n,r,o){var s=this;o=!!o||"","dropdown"!==t&&s.$ed.focus(),"strikethrough"===t&&s.o.semantic&&s.semanticTag("strike",s.o.semanticKeepAttributes,!0);try{s.doc.execCommand("styleWithCSS",!1,r||!1)}catch(u){}try{s[t+o](n)}catch(u){try{t(n)}catch(c){"insertHorizontalRule"===t?n=undefined:"formatBlock"===t&&s.isIE&&(n="<"+n+">"),s.doc.execCommand(t,!1,n),s.syncCode(),s.semanticCode(!1,!0);try{var a=e.getSelection().focusNode;i(e.getSelection().focusNode.parentNode).hasClass("trumbowyg-editor")||(a=e.getSelection().focusNode.parentNode);var l=s.o.tagClasses[n];l&&i(a).addClass(l)}catch(h){}}"dropdown"!==t&&(s.updateButtonPaneStatus(),s.$c.trigger("tbwchange"))}},openModal:function(t,n,s){var a=this,l=a.o.prefix;if(s=!1!==s,i("."+l+"modal-box",a.$box).length>0)return!1;a.o.autogrowOnEnter&&(a.autogrowOnEnterDontClose=!0),a.saveRange(),a.showOverlay(),a.$btnPane.addClass(l+"disable");var u,c=i("<div/>",{"class":l+"modal "+l+"fixed-top"}).css({top:a.$box.offset().top+a.$btnPane.height(),zIndex:99999}).appendTo(i(a.doc.body)),h=l+"dark";0!==a.$c.parents("."+h).length&&c.addClass(h),a.$overlay.one("click",function(){return c.trigger(o),!1}),u=s?i("<form/>",{action:"",html:n}).on("submit",function(){return c.trigger(r),!1}).on("reset",function(){return c.trigger(o),!1}).on("submit reset",function(){a.o.autogrowOnEnter&&(a.autogrowOnEnterDontClose=!1)}):n;var d=i("<div/>",{"class":l+"modal-box",html:u}).css({top:"-"+a.$btnPane.outerHeight(),opacity:0,paddingBottom:s?null:"5%"}).appendTo(c).animate({top:0,opacity:1},100);return t&&i("<span/>",{text:t,"class":l+"modal-title"}).prependTo(d),s&&(i(":input:first",d).focus(),a.buildModalBtn("submit",d),a.buildModalBtn("reset",d),c.height(d.outerHeight()+10)),i(e).trigger("scroll"),a.$c.trigger("tbwmodalopen"),c},buildModalBtn:function(t,e){var n=this,r=n.o.prefix;return i("<button/>",{"class":r+"modal-button "+r+"modal-"+t,type:t,text:n.lang[t]||t}).appendTo(i("form",e))},closeModal:function(){var t=this,e=t.o.prefix;t.$btnPane.removeClass(e+"disable"),t.$overlay.off();var n=i("."+e+"modal-box",i(t.doc.body));n.animate({top:"-"+n.height()},100,function(){n.parent().remove(),t.hideOverlay(),t.$c.trigger("tbwmodalclose")}),t.restoreRange()},openModalInsert:function(t,e,n){var s=this,a=s.o.prefix,l=s.lang,u="",c=a+"form-"+Date.now()+"-";return i.each(e,function(t,e){var n=e.label||t,r=e.name||t,o=e.attributes||{},s=c+t,h=Object.keys(o).map(function(t){return t+'="'+o[t]+'"'}).join(" ");if("function"==typeof e.type)return e.name||(e.name=r),void(u+=e.type(e,s,a,l));u+='<div class="'+a+'input-row">',u+='<div class="'+a+'input-infos"><label for="'+s+'"><span>'+(l[n]?l[n]:n)+"</span></label></div>",u+='<div class="'+a+'input-html">',i.isPlainObject(e.options)?(u+='<select name="target">',u+=Object.keys(e.options).map(t=>'<option value="'+t+'" '+(t===e.value?"selected":"")+">"+e.options[t]+"</option>").join(""),u+="</select>"):(u+='<input id="'+s+'" type="'+(e.type||"text")+'" name="'+r+'" '+h,u+=("checkbox"===e.type&&e.value?' checked="checked"':"")+' value="'+(e.value||"").replace(/"/g,"&quot;")+'">'),u+="</div></div>"}),s.openModal(t,u).on(r,function(){var t=i("form",i(this)),o=!0,a={};i.each(e,function(e,n){var r=n.name||e,l=i(':input[name="'+r+'"]',t);switch(l[0].type.toLowerCase()){case"checkbox":a[r]=l.is(":checked");break;case"radio":a[r]=l.filter(":checked").val();break;default:a[r]=i.trim(l.val())}n.required&&""===a[r]?(o=!1,s.addErrorOnModalField(l,s.lang.required)):n.pattern&&!n.pattern.test(a[r])&&(o=!1,s.addErrorOnModalField(l,n.patternError))}),o&&(s.restoreRange(),n(a,e)&&(s.syncCode(),s.$c.trigger("tbwchange"),s.closeModal(),i(this).off(r)))}).one(o,function(){i(this).off(r),s.closeModal()})},addErrorOnModalField:function(t,e){var n=this.o.prefix,r=n+"msg-error",o=t.closest("."+n+"input-row");t.on("change keyup",function(){o.removeClass(n+"input-error"),setTimeout(function(){o.find("."+r).remove()},150)}),o.addClass(n+"input-error").find("."+n+"input-infos label").append(i("<span/>",{"class":r,text:e}))},getDefaultImgDblClickHandler:function(){var t=this;return function(){var e=i(this),n=e.attr("src"),r="(Base64)";0===n.indexOf("data:image")&&(n=r);var o={url:{label:"URL",value:n,required:!0},alt:{label:t.lang.description,value:e.attr("alt")}};return t.o.imageWidthModalEdit&&(o.width={value:e.attr("width")?e.attr("width"):""}),t.openModalInsert(t.lang.insertImage,o,function(n){return n.url!==r&&e.attr({src:n.url}),e.attr({alt:n.alt}),t.o.imageWidthModalEdit&&(parseInt(n.width)>0?e.attr({width:n.width}):e.removeAttr("width")),!0}),!1}},saveRange:function(){var t=this,e=t.doc.getSelection();if(t.range=null,e&&e.rangeCount){var n,i=t.range=e.getRangeAt(0),r=t.doc.createRange();r.selectNodeContents(t.$ed[0]),r.setEnd(i.startContainer,i.startOffset),n=(r+"").length,t.metaRange={start:n,end:n+(i+"").length}}},restoreRange:function(){var t,e=this,n=e.metaRange,i=e.range,r=e.doc.getSelection();if(i){if(n&&n.start!==n.end){var o,s=0,a=[e.$ed[0]],l=!1,u=!1;for(t=e.doc.createRange();!u&&(o=a.pop());)if(3===o.nodeType){var c=s+o.length;!l&&n.start>=s&&n.start<=c&&(t.setStart(o,n.start-s),l=!0),l&&n.end>=s&&n.end<=c&&(t.setEnd(o,n.end-s),u=!0),s=c}else for(var h=o.childNodes,d=h.length;d>0;)d-=1,a.push(h[d])}try{r.removeAllRanges()}catch(f){}r.addRange(t||i)}},getRangeText:function(){return this.range+""},clearButtonPaneStatus:function(){var t=this,e=t.o.prefix,n=e+"active-button "+e+"active",r=e+"original-icon";i("."+e+"active-button",t.$btnPane).removeClass(n),i("."+r,t.$btnPane).each(function(){i(this).find("svg use").attr("xlink:href",i(this).data(r))})},updateButtonPaneStatus:function(){var t=this,e=t.o.prefix,n=e+"active-button "+e+"active",r=e+"original-icon",o=t.getTagsRecursive(t.doc.getSelection().anchorNode);t.clearButtonPaneStatus(),i.each(o,function(o,s){var a=t.tagToButton[s.toLowerCase()],l=i("."+e+a+"-button",t.$btnPane);if(l.length>0)l.addClass(n);else try{var u=(l=i("."+e+"dropdown ."+e+a+"-dropdown-button",t.$box)).find("svg use"),c=l.parent().data(e+"dropdown"),h=i("."+e+c+"-button",t.$box),d=h.find("svg use");h.addClass(n),t.o.changeActiveDropdownIcon&&u.length>0&&(h.addClass(r).data(r,d.attr("xlink:href")),d.attr("xlink:href",u.attr("xlink:href")))}catch(f){}})},getTagsRecursive:function(t,e){var n=this;if(e=e||(t&&t.tagName?[t.tagName]:[]),!t||!t.parentNode)return e;t.nodeType!==Node.ELEMENT_NODE&&(t=t.parentNode);var r=t.tagName;return"DIV"===r?e:("P"===r&&""!==t.style.textAlign&&e.push(t.style.textAlign),i.each(n.tagHandlers,function(i,r){e=e.concat(r(t,n))}),e.push(r),n.getTagsRecursive(t.parentNode,e).filter(function(t){return null!=t}))},initPlugins:function(){var t=this;t.loadedPlugins=[],i.each(i.trumbowyg.plugins,function(e,n){n.shouldInit&&!n.shouldInit(t)||(n.init(t),n.tagHandler&&t.tagHandlers.push(n.tagHandler),t.loadedPlugins.push(n))})},destroyPlugins:function(){var t=this;i.each(this.loadedPlugins,function(e,n){n.destroy&&n.destroy(t)})}}}(navigator,window,document,jQuery),$(document).ready(function(){editorInit(),imagesDelete(),showAdvanced()}),document.addEventListener("turbolinks:load",function(t){"function"==typeof gtag&&gtag("config","UA-97812625-1",{page_location:t.data.url}),"function"==typeof fbq&&fbq("track","PageView"),"function"==typeof fathom&&fathom("trackPageview")}),function(){var t=this;(function(){(function(){var t=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},WebSocket:window.WebSocket,logger:window.console,createConsumer:function(t){var n;return null==t&&(t=null!=(n=this.getConfig("url"))?n:this.INTERNAL.default_mount_path),new e.Consumer(this.createWebSocketURL(t))},getConfig:function(t){var e;return null!=(e=document.head.querySelector("meta[name='action-cable-"+t+"']"))?e.getAttribute("content"):void 0},createWebSocketURL:function(t){var e;return t&&!/^wss?:/i.test(t)?((e=document.createElement("a")).href=t,e.href=e.href,e.protocol=e.protocol.replace("http","ws"),e.href):t},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var e,n;if(e=1<=arguments.length?t.call(arguments,0):[],this.debugging)return e.push(Date.now()),(n=this.logger).log.apply(n,["[ActionCable]"].concat(t.call(e)))}}}).call(this)}).call(t);var e=t.ActionCable;(function(){(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.ConnectionMonitor=function(){function n(e){this.connection=e,this.visibilityDidChange=t(this.visibilityDidChange,this),this.reconnectAttempts=0}var i,r,o;return n.pollInterval={min:3,max:30},n.staleThreshold=6,n.prototype.start=function(){if(!this.isRunning())return this.startedAt=r(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),e.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},n.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=r(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),e.log("ConnectionMonitor stopped")},n.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},n.prototype.recordPing=function(){return this.pingedAt=r()},n.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,e.log("ConnectionMonitor recorded connect")},n.prototype.recordDisconnect=function(){return this.disconnectedAt=r(),e.log("ConnectionMonitor recorded disconnect")},n.prototype.startPolling=function(){return this.stopPolling(),this.poll()},n.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},n.prototype.poll=function(){return this.pollTimeout=setTimeout((t=this,function(){return t.reconnectIfStale(),t.poll()}),this.getPollInterval());var t},n.prototype.getPollInterval=function(){var t,e,n,r;return n=(r=this.constructor.pollInterval).min,e=r.max,t=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*i(t,n,e))},n.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return e.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+o(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?e.log("ConnectionMonitor skipping reopening recent disconnect"):(e.log("ConnectionMonitor reopening"),this.connection.reopen())},n.prototype.connectionIsStale=function(){var t;return o(null!=(t=this.pingedAt)?t:this.startedAt)>this.constructor.staleThreshold},n.prototype.disconnectedRecently=function(){return this.disconnectedAt&&o(this.disconnectedAt)<this.constructor.staleThreshold},n.prototype.visibilityDidChange=function(){if("visible"===document.visibilityState)return setTimeout((t=this,function(){if(t.connectionIsStale()||!t.connection.isOpen())return e.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),t.connection.reopen()}),200);var t},r=function(){return(new Date).getTime()},o=function(t){return(r()-t)/1e3},i=function(t,e,n){return Math.max(e,Math.min(n,t))},n}()}).call(this),function(){var t,n,i,r,o,s=[].slice,a=function(t,e){return function(){return t.apply(e,arguments)}},l=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};r=e.INTERNAL,n=r.message_types,i=r.protocols,o=2<=i.length?s.call(i,0,t=i.length-1):(t=0,[]),i[t++],e.Connection=function(){function t(t){this.consumer=t,this.open=a(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new e.ConnectionMonitor(this),this.disconnected=!0}return t.reopenDelay=500,t.prototype.send=function(t){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(t)),!0)},t.prototype.open=function(){return this.isActive()?(e.log("Attempted to open WebSocket, but existing socket is "+this.getState()),!1):(e.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+i),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new e.WebSocket(this.consumer.url,i),this.installEventHandlers(),this.monitor.start(),!0)},t.prototype.close=function(t){var e;if((null!=t?t:{allowReconnect:!0}).allowReconnect||this.monitor.stop(),this.isActive())return null!=(e=this.webSocket)?e.close():void 0},t.prototype.reopen=function(){var t;if(e.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(n){return t=n,e.log("Failed to reopen WebSocket",t)}finally{e.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},t.prototype.getProtocol=function(){var t;return null!=(t=this.webSocket)?t.protocol:void 0},t.prototype.isOpen=function(){return this.isState("open")},t.prototype.isActive=function(){return this.isState("open","connecting")},t.prototype.isProtocolSupported=function(){var t;return t=this.getProtocol(),l.call(o,t)>=0},t.prototype.isState=function(){var t,e;return e=1<=arguments.length?s.call(arguments,0):[],t=this.getState(),l.call(e,t)>=0},t.prototype.getState=function(){var t,e;for(e in WebSocket)if(WebSocket[e]===(null!=(t=this.webSocket)?t.readyState:void 0))return e.toLowerCase();return null},t.prototype.installEventHandlers=function(){var t,e;for(t in this.events)e=this.events[t].bind(this),this.webSocket["on"+t]=e},t.prototype.uninstallEventHandlers=function(){var t;for(t in this.events)this.webSocket["on"+t]=function(){}},t.prototype.events={message:function(t){var e,i,r;if(this.isProtocolSupported())switch(e=(r=JSON.parse(t.data)).identifier,i=r.message,r.type){case n.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case n.ping:return this.monitor.recordPing();case n.confirmation:return this.subscriptions.notify(e,"connected");case n.rejection:return this.subscriptions.reject(e);default:return this.subscriptions.notify(e,"received",i)}},open:function(){if(e.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return e.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(){if(e.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return e.log("WebSocket onerror event")}},t}()}.call(this),function(){var t=[].slice;e.Subscriptions=function(){function n(t){this.consumer=t,this.subscriptions=[]}return n.prototype.create=function(t,n){var i,r,o;return r="object"==typeof(i=t)?i:{channel:i},o=new e.Subscription(this.consumer,r,n),this.add(o)},n.prototype.add=function(t){return this.subscriptions.push(t),this.consumer.ensureActiveConnection(),this.notify(t,"initialized"),this.sendCommand(t,"subscribe"),t},n.prototype.remove=function(t){return this.forget(t),this.findAll(t.identifier).length||this.sendCommand(t,"unsubscribe"),t},n.prototype.reject=function(t){var e,n,i,r,o;for(r=[],e=0,n=(i=this.findAll(t)).length;e<n;e++)o=i[e],this.forget(o),this.notify(o,"rejected"),r.push(o);return r},n.prototype.forget=function(t){var e;return this.subscriptions=function(){var n,i,r,o;for(o=[],n=0,i=(r=this.subscriptions).length;n<i;n++)(e=r[n])!==t&&o.push(e);return o}.call(this),t},n.prototype.findAll=function(t){var e,n,i,r,o;for(r=[],e=0,n=(i=this.subscriptions).length;e<n;e++)(o=i[e]).identifier===t&&r.push(o);return r},n.prototype.reload=function(){var t,e,n,i,r;for(i=[],t=0,e=(n=this.subscriptions).length;t<e;t++)r=n[t],i.push(this.sendCommand(r,"subscribe"));return i},n.prototype.notifyAll=function(){var e,n,i,r,o,s,a;for(n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],s=[],i=0,r=(o=this.subscriptions).length;i<r;i++)a=o[i],s.push(this.notify.apply(this,[a,n].concat(t.call(e))));return s},n.prototype.notify=function(){var e,n,i,r,o,s,a;for(s=arguments[0],n=arguments[1],e=3<=arguments.length?t.call(arguments,2):[],o=[],i=0,r=(a="string"==typeof s?this.findAll(s):[s]).length;i<r;i++)s=a[i],o.push("function"==typeof s[n]?s[n].apply(s,e):void 0);return o},n.prototype.sendCommand=function(t,e){var n;return n=t.identifier,this.consumer.send({command:e,identifier:n})},n}()}.call(this),function(){e.Subscription=function(){function t(t,n,i){this.consumer=t,null==n&&(n={}),this.identifier=JSON.stringify(n),e(this,i)}var e;return t.prototype.perform=function(t,e){return null==e&&(e={}),e.action=t,this.send(e)},t.prototype.send=function(t){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(t)})},t.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},e=function(t,e){var n,i;if(null!=e)for(n in e)i=e[n],t[n]=i;return t},t}()}.call(this),function(){e.Consumer=function(){function t(t){this.url=t,this.subscriptions=new e.Subscriptions(this),this.connection=new e.Connection(this)}return t.prototype.send=function(t){return this.connection.send(t)},t.prototype.connect=function(){return this.connection.open()},t.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},t.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},t}()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd&&define(e)}.call(this),function(){this.App||(this.App={}),App.cable=ActionCable.createConsumer()}.call(this),document.addEventListener("DOMContentLoaded",function(){holmesInit()}),document.addEventListener("turbolinks:load",function(){signaturePad(),colorPicker(),isMobile()&&$("html, body, #mobile-wrapper").css({height:$(window).height()})}),isMobile=function(){return!!window.matchMedia("only screen and (max-width: 760px)").matches};var _global="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:this,saveAs=_global.saveAs||("object"!=typeof window||window!==_global?function(){}:"download"in HTMLAnchorElement.prototype?function(t,e,n){var i=_global.URL||_global.webkitURL,r=document.createElement("a");e=e||t.name||"download",r.download=e,r.rel="noopener","string"==typeof t?(r.href=t,r.origin!==location.origin?corsEnabled(r.href)?download(t,e,n):click(r,r.target="_blank"):click(r)):(r.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){click(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download","string"==typeof t)if(corsEnabled(t))download(t,e,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){click(i)})}else navigator.msSaveOrOpenBlob(bom(t,n),e)}:function(t,e,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return download(t,e,n);var r="application/octet-stream"===t.type,o=/constructor/i.test(_global.HTMLElement)||_global.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&o)&&"undefined"!=typeof FileReader){var a=new FileReader;a.onloadend=function(){var t=a.result;t=s?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},a.readAsDataURL(t)}else{var l=_global.URL||_global.webkitURL,u=l.createObjectURL(t);i?i.location=u:location.href=u,i=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});_global.saveAs=saveAs.saveAs=saveAs,"undefined"!=typeof module&&(module.exports=saveAs),$.fn.infiniteslide=function(t){var e=$.extend({speed:100,direction:"left",pauseonhover:!0,responsive:!1,clone:1},t),n=function(t,e){if($(t).wrap('<div class="infiniteslide_wrap"></div>').parent().css({overflow:"hidden"}),"up"==e||"down"==e)var n="column";else n="row";$(t).css({display:"flex",flexWrap:"nowrap",alignItems:"center","-ms-flex-align":"center",flexDirection:n}).children().css({flex:"none",display:"block"})},r=function(t,e){var n=$(t).children().clone().addClass("infiniteslide_clone");for(i=1;i<=e;)n.clone().appendTo($(t)),i++},o=function(t){return w=0,$(t).children(":not(.infiniteslide_clone)").each(function(){w+=$(this).outerWidth(!0)}),w},s=function(t){return h=0,$(t).children(":not(.infiniteslide_clone)").each(function(){h+=$(this).outerHeight(!0)}),h},a=function(t,e){return t/e},l=function(t,e){if("up"==e||"down"==e)var n=s(t);else n=o(t);return n},u=function(t,e){if("up"==e||"down"==e)var n="0,-"+t+"px,0";else n="-"+t+"px,0,0";return n},c=function(t,e,n,i){var r=l(t,n);"up"!=n&&"down"!=n||$(t).parent(".infiniteslide_wrap").css({height:r+"px"});var o=u(r,n);$(t).attr("data-style","infiniteslide"+e);var s="@keyframes infiniteslide"+e+"{from {transform:translate3d(0,0,0);}to {transform:translate3d("+o+");}}";if($("<style />").attr("id","infiniteslide"+e+"_style").html(s).appendTo("head"),"right"==n||"down"==n)var c=" reverse";else c="";$(t).css({animation:"infiniteslide"+e+" "+a(r,i)+"s linear 0s infinite"+c})},d=function(t){$(t).on("mouseenter",function(){$(this).css({animationPlayState:"paused"})}).on("mouseleave",function(){$(this).css({animationPlayState:"running"})})},f=function(t,e){var n=l(t,e);return u(n,e)};return this.each(function(){var t=$(this),i=Date.now()+Math.floor(1e4*Math.random()).toString(16);1==e.pauseonhover&&d(t),$(window).on("load",function(){n(t,e.direction),r(t,e.clone),c(t,i,e.direction,e.speed),e.responsive&&$(window).on("resize",function(){var n=f(t,e.direction),i=t.attr("data-style"),r=$("#"+i+"_style").html().replace(/to {transform:translate3d\((.*?)\)/,"to {transform:translate3d("+n+")");$("#"+i+"_style").html(r)})})})},function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e(require,exports,module):t.ouibounce=e()}(this,function(){return function(t,e){"use strict";function n(t,e){return void 0===t?e:t}function i(t){var e=24*t*60*60*1e3,n=new Date;return n.setTime(n.getTime()+e),"; expires="+n.toUTCString()}function r(){c()||(E.addEventListener("mouseleave",o),E.addEventListener("mouseenter",s),E.addEventListener("keydown",a))}function o(t){t.clientY>m||(_=setTimeout(h,v))}function s(){_&&(clearTimeout(_),_=null)}function a(t){T||t.metaKey&&76===t.keyCode&&(T=!0,_=setTimeout(h,v))}function l(t,e){return u()[t]===e}function u(){for(var t=document.cookie.split("; "),e={},n=t.length-1;n>=0;n--){var i=t[n].split("=");e[i[0]]=i[1]}return e}function c(){return l(w,"true")&&!p}function h(){c()||(t&&(t.style.display="block"),y(),d())}function d(t){var e=t||{};"undefined"!=typeof e.cookieExpire&&(b=i(e.cookieExpire)),!0===e.sitewide&&(k=";path=/"),"undefined"!=typeof e.cookieDomain&&(x=";domain="+e.cookieDomain),"undefined"!=typeof e.cookieName&&(w=e.cookieName),document.cookie=w+"=true"+b+x+k,E.removeEventListener("mouseleave",o),E.removeEventListener("mouseenter",s),E.removeEventListener("keydown",a)}var f=e||{},p=f.aggressive||!1,m=n(f.sensitivity,20),g=n(f.timer,1e3),v=n(f.delay,0),y=f.callback||function(){},b=i(f.cookieExpire)||"",x=f.cookieDomain?";domain="+f.cookieDomain:"",w=f.cookieName?f.cookieName:"viewedOuibounceModal",k=!0===f.sitewide?";path=/":"",_=null,E=document.documentElement;setTimeout(r,g);var T=!1;return{fire:h,disable:d,isDisabled:c}}}),document.addEventListener("turbolinks:load",function(){!function(){function t(t,n){return function(i){e(),t.classList.toggle("hide"),n&&n.classList.toggle("hide"),i.preventDefault()}}function e(){p=document.querySelector(".tooltip"),null!==h&&p.classList.add("hide")}var n,i,r,o,s,a,l,u,c,h,d,f,p,m,g=4e3;n=document.querySelector(".login-href"),i=document.querySelector(".modal"),r=document.querySelector(".screen"),c=document.querySelector(".ds-modal"),h=document.querySelector(".modal-overlay"),d=document.querySelector(".btn-close"),f=document.querySelectorAll(".btn-modal"),m=document.querySelectorAll(".label-help"),p=document.querySelectorAll(".tooltip"),document.querySelector("form"),document.addEventListener("focus",function(){e()},!0),null!==d&&(d.addEventListener("click",t(c)),d.addEventListener("click",t(h))),null!==h&&(h.addEventListener("click",t(c)),h.addEventListener("click",t(h)));for(var v=0,y=f.length;v<y;v++){(b=f[v]).addEventListener("click",t(h)),b.addEventListener("click",t(c))}for(v=0,y=m.length;v<y;v++){var b;(b=m[v]).addEventListener("click",t(b.firstChild.nextSibling))}null!==n&&n.addEventListener("click",t(i)),null!==r&&null!==(o=r.querySelectorAll("img"))&&(o=[].slice.call(o),a=0,l=o.length,u=function(){for(var t=0;t<l;t++)o[t].classList.add("faded")},s=function(){u(),o[a].classList.remove("faded"),a=a===l-1?0:a+1,setTimeout(s,g)},setTimeout(s,g/2))}()}),function(){try{Typekit.load({async:!0})}catch(t){}}(),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(t){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);(e=e.length?e:$("[name="+this.hash.slice(1)+"]")).length&&(t.preventDefault(),$("html, body").stop().animate({scrollTop:e.offset().top-40},600,function(){var t=$(e);if(t.focus(),t.is(":focus"))return!1;t.attr("tabindex","-1"),t.focus()}))}}),document.addEventListener("turbolinks:load",function(){$(".scroll-to").on("click",function(t){t.preventDefault();var e=$(this).attr("href"),n=$(this).data("offset"),i=$(e).offset().top+n;$("body,html").animate({scrollTop:i},300)})}),document.addEventListener("turbolinks:load",function(){$(".tab-wrapper .tab-btn").show().click(function(){var t=$(this).index();$(".tab-wrapper .tab-btn").removeClass("active").eq(t).addClass("active"),$(".tab_item").hide().eq(t).fadeIn()}).eq(0).addClass("active")}),document.addEventListener("turbolinks:load",function(){createTypedSignature(),loadMoreSignatures(),editSignature()});